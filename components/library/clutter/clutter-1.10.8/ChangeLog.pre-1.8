commit 7236da1f4fdfe46190573fef737464cc4ede34d2
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Sep 19 17:58:16 2011 +0100

    Release Clutter 1.8.0

 NEWS         |   47 +++++++++++++++++++++++++++++++++++++++++++++++
 configure.ac |    4 ++--
 2 files changed, 49 insertions(+), 2 deletions(-)

commit 227033524707b584de6dbdbd3c4ce944145eeb44
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Sep 19 20:02:17 2011 +0100

    Depend on Cogl new stable release, 1.8.0

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4396bec330d0e1015b7f35e5eb10bde0379377fc
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   Mon Sep 19 20:11:50 2011 +0200

    Queue a redraw when removing an effect by name
    
    https://bugzilla.gnome.org/show_bug.cgi?id=659501

 clutter/clutter-actor.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fcc2ab7be594427c0dd2b0570a67ae9c555f1f40
Author: Craig R. Hughes <craig.git@rungie.com>
Date:   Mon Sep 19 09:30:00 2011 -0700

    Fix calculation of duration for ClutterState default transitions
    
    https://bugzilla.gnome.org/show_bug.cgi?id=659200

 clutter/clutter-state.c |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 14bd6eaad4672ce488986aa2609a5c0ad69adc2b
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Sep 19 17:51:23 2011 +0100

    Bump GLib dependency
    
    We have been using g_slist_free_full() which was added in GLib 2.28, and
    yet we neved bumped the GLib dependency. Whoopsie.

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 96866804f05b24d35fbb2f93c00aaeb075f25c4f
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Sep 19 14:38:08 2011 +0100

    actor: consider empty pv ok in set_default_paint_volume
    
    In _clutter_actor_set_default_paint_volume we were returning FALSE if an
    actor has an empty allocation because we were claiming it doesn't have a
    paint-volume. Actually an empty/degenerate pv is valid and has different
    semantics to returning FALSE because FALSE means the pv is unknown and
    so Clutter will have to assume the worst - that the pv is basically
    un-bounded.
    
    Reviewed-by: Emmanuele Bassi <ebassi@linux.intel.com>

 clutter/clutter-paint-volume.c |    4 ----
 1 file changed, 4 deletions(-)

commit 239fc43c5f5dc15346094bf797ad8e8799424a4b
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Sep 19 12:54:31 2011 +0100

    stage: implicitly clip to stage window bounds
    
    This implicitly intersects any clip for redrawing with the stage window
    bounds. Without this we were sometimes trying to set huge off screen
    scissors leading to undefined clipping results.
    
    Reviewed-by: Emmanuele Bassi <ebassi@linux.intel.com>

 clutter/clutter-stage.c |   45 +++++++++++++++++++++++++++++----------------
 1 file changed, 29 insertions(+), 16 deletions(-)

commit 662d12aeff9c7404b915e44777b50f0995252fd8
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Sep 19 12:36:52 2011 +0100

    actor: add oob-transform opt to catch out-of-band transforms
    
    Out-of-band transforms are considered to be all actor transforms done
    directly with the Cogl API instead of via ClutterActor::apply_transform.
    
    By running with CLUTTER_DEBUG=oob-transform then Clutter will explicitly
    try to detect when un-expected transforms have been applied to the
    modelview matrix stack.
    
    Out-of-band transforms can lead to awkward bugs in Clutter applications
    because Clutter itself doesn't know about them and this can disrupt
    Clutter's input handling and calculations of actor paint-volumes
    which can lead to visual artifacts.
    
    Reviewed-by: Emmanuele Bassi <ebassi@linux.intel.com>

 clutter/clutter-actor.c |   23 +++++++++++++++++++++++
 clutter/clutter-debug.h |    3 ++-
 clutter/clutter-main.c  |    3 ++-
 3 files changed, 27 insertions(+), 2 deletions(-)

commit f315e760de3f9e15088cedec89139533a0717f3a
Author: Gil Forcada <gforcada@gnome.org>
Date:   Sat Sep 17 16:38:12 2011 +0200

    [l10n]Updated Catalan translation

 po/ca.po | 1127 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 569 insertions(+), 558 deletions(-)

commit c434553f0f9ef103f7d1bb467e73064c85fe6487
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Sat Sep 17 10:53:10 2011 +0200

    Updated Slovenian translation

 po/sl.po |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 8df42e8822a05052837c7b600bb4d9d089a408bb
Author: I Felix <ifelix25@gmail.com>
Date:   Fri Sep 16 17:12:00 2011 +0530

    Updated Tamil Translations

 po/ta.po | 2205 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2205 insertions(+)

commit 1679104a0e79c1764c7e0210965a7eb17f67b772
Author: Martin Srebotnjak <miles@filmsi.net>
Date:   Thu Sep 15 22:33:37 2011 +0200

    Updated Slovenian translation

 po/sl.po | 1276 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 633 insertions(+), 643 deletions(-)

commit 7a0481c79eb2bce6df94fce4cada79982afec1e7
Author: Shankar Prasad <svenkate@redhat.com>
Date:   Thu Sep 15 23:18:03 2011 +0530

    updated Kannada Translation

 po/kn.po |  208 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 104 insertions(+), 104 deletions(-)

commit c2e9b38eb9ca0810227302d0828c03cce83e25a0
Author: Shankar Prasad <svenkate@redhat.com>
Date:   Thu Sep 15 22:42:34 2011 +0530

    updated Kannada Translation

 po/kn.po |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 41bd15226f6fcbd373e4dc41888dbfa6aa930d3d
Author: Rui Matos <tiagomatos@gmail.com>
Date:   Thu Sep 15 04:50:43 2011 +0100

    text: We still have to paint the actor if the cursor is visible
    
    https://bugzilla.gnome.org/show_bug.cgi?id=659116

 clutter/clutter-text.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 1883ee13f986f6828f7a4d9bc6f867cce718caa4
Author: Jasper St. Pierre <jstpierre@mecheye.net>
Date:   Wed Sep 14 12:01:48 2011 -0400

    text: Take out a nonsense fallback
    
    Invisible text is the best surprise for an update!
    
    https://bugzilla.gnome.org/show_bug.cgi?id=659069

 clutter/clutter-text.c |    4 ----
 1 file changed, 4 deletions(-)

commit 7a7a4f64419749913346552cee109e0496781682
Author: Andika Triwidada <andika@gmail.com>
Date:   Thu Sep 15 04:05:54 2011 +0700

    Updated Indonesian translation

 po/id.po | 1780 +++++++++++++++++++++++++++++---------------------------------
 1 file changed, 832 insertions(+), 948 deletions(-)

commit 7c5160f36d713ec93935686a195ba3c5c42a3336
Author: Aurimas Černius <aurisc4@gmail.com>
Date:   Wed Sep 14 20:18:34 2011 +0300

    Updated Lithuanian translation

 po/lt.po |   34 +++++++++++++++++-----------------
 1 file changed, 17 insertions(+), 17 deletions(-)

commit 9efcb8a8a360ff8b75d4ac2724da91e2d62ec2d4
Author: Rajesh Ranjan <rranjan@redhat.com>
Date:   Tue Sep 13 14:41:57 2011 +0530

    hindi update

 po/hi.po | 1266 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 640 insertions(+), 626 deletions(-)

commit 8f8663c8756437fdb0e30381fce76630d6b887ba
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Sep 12 16:36:44 2011 +0100

    moduleset: Fix up the location of the moduleset file
    
    We moved to git.gnome.org, and the moduleset moved with us.

 build/clutter-build-setup.sh |    3 +--
 build/jhbuildrc-clutter      |    2 +-
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 92d4197b2caa092ef5b81e8f9fed2aabbc7fef0c
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Sep 12 13:59:30 2011 +0100

    Post-release version bump to 1.7.91

 configure.ac       |    2 +-
 po/ast.po          | 1283 ++++++++++++++++++++++++++--------------------------
 po/ca.po           |  370 +++++++--------
 po/ca@valencia.po  |  370 +++++++--------
 po/clutter-1.0.pot |  372 +++++++--------
 po/cs.po           |  370 +++++++--------
 po/da.po           | 1100 ++++++++++++++++++++++----------------------
 po/de.po           |  370 +++++++--------
 po/en_GB.po        | 1110 ++++++++++++++++++++++-----------------------
 po/eo.po           |  370 +++++++--------
 po/es.po           | 1106 ++++++++++++++++++++++----------------------
 po/fr.po           |  370 +++++++--------
 po/gl.po           |  370 +++++++--------
 po/hi.po           | 1108 ++++++++++++++++++++++-----------------------
 po/id.po           | 1200 ++++++++++++++++++++++++------------------------
 po/it.po           |  370 +++++++--------
 po/kn.po           |  370 +++++++--------
 po/lt.po           | 1228 +++++++++++++++++++++++++------------------------
 po/lv.po           | 1126 +++++++++++++++++++++++----------------------
 po/nb.po           |  370 +++++++--------
 po/nl.po           |  370 +++++++--------
 po/or.po           | 1108 ++++++++++++++++++++++-----------------------
 po/pa.po           |  370 +++++++--------
 po/pl.po           |  370 +++++++--------
 po/pt_BR.po        | 1101 ++++++++++++++++++++++----------------------
 po/ru.po           | 1270 +++++++++++++++++++++++++--------------------------
 po/sl.po           |  370 +++++++--------
 po/sv.po           |  370 +++++++--------
 po/te.po           |  370 +++++++--------
 po/tr.po           | 1111 ++++++++++++++++++++++-----------------------
 po/uk.po           |  370 +++++++--------
 po/zh_CN.po        | 1101 ++++++++++++++++++++++----------------------
 po/zh_HK.po        |  370 +++++++--------
 po/zh_TW.po        |  370 +++++++--------
 34 files changed, 11102 insertions(+), 11254 deletions(-)

commit 84355494480e5b8faa557e6a387511b02e56d04d
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Sep 12 13:16:03 2011 +0100

    Release Clutter 1.7.90 (1.8.0-rc1)

 NEWS         |   43 +++++++++++++++++++++++++++++++++++++++++++
 configure.ac |    2 +-
 2 files changed, 44 insertions(+), 1 deletion(-)

commit a9a104e109722e0972afcd6fa4cf3c2774d3333e
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Sep 12 13:12:14 2011 +0100

    docs: Fixes for cross-references

 clutter/clutter-alpha.c                            |    4 +-
 clutter/clutter-animatable.c                       |    8 +-
 clutter/clutter-animation.c                        |    7 +-
 clutter/clutter-child-meta.h                       |    9 +-
 clutter/clutter-effect.c                           |   10 +--
 clutter/clutter-gesture-action.c                   |    6 +-
 clutter/clutter-main.c                             |    6 +-
 clutter/clutter-text.c                             |    2 +-
 doc/reference/clutter/subclassing-ClutterActor.xml |   88 +++++++++++---------
 9 files changed, 74 insertions(+), 66 deletions(-)

commit 2a56cc799ae53550167c63d332dedb79607b0cd7
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Sep 12 13:05:16 2011 +0100

    docs: Remove unused cogl-2.0 directory
    
    The Cogl API reference has long since moved out of the Clutter tree.

 doc/reference/cogl-2.0/Makefile.am                |  142 ------
 doc/reference/cogl-2.0/blend-strings.xml          |  129 ------
 doc/reference/cogl-2.0/cogl-docs.xml.in           |  194 ---------
 doc/reference/cogl-2.0/cogl-sections.txt          |  484 ---------------------
 doc/reference/cogl-2.0/cogl_ortho.png             |  Bin 12650 -> 0 bytes
 doc/reference/cogl-2.0/fill-rule-even-odd.png     |  Bin 3121 -> 0 bytes
 doc/reference/cogl-2.0/fill-rule-non-zero.png     |  Bin 3143 -> 0 bytes
 doc/reference/cogl-2.0/quad-indices-order.png     |  Bin 2620 -> 0 bytes
 doc/reference/cogl-2.0/quad-indices-triangles.png |  Bin 8018 -> 0 bytes
 9 files changed, 949 deletions(-)

commit 7ace3c2fddf9af11d832b7cf48dd56a6db91ceab
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Sep 12 12:36:31 2011 +0100

    docs: Fix clutter_box_packv() link

 clutter/clutter-box.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 27502af591597dd30c2b7e522e5c087f426810d3
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Sep 12 11:33:18 2011 +0100

    actor: Pack bitfields in ClutterActorPrivate
    
    Bitfields should go at the end, to avoid holes in the middle of the
    struct.

 clutter/clutter-actor.c |   57 ++++++++++++++++++++++++-----------------------
 1 file changed, 29 insertions(+), 28 deletions(-)

commit e5cd039b5327a1d856e5285d35c6bd0db738f765
Author: Andika Triwidada <andika@gmail.com>
Date:   Mon Sep 12 12:17:46 2011 +0700

    Updated Indonesian translation

 po/id.po |  124 +++++++++++++++++++++++++++-----------------------------------
 1 file changed, 53 insertions(+), 71 deletions(-)

commit 99185974c48bac6fc0e378617c1e44d7dbaaab3f
Author: Muhammet Kara <muhammet.k@gmail.com>
Date:   Sun Sep 11 22:13:31 2011 +0300

    [l10n]Updated Turkish translation

 po/tr.po |  279 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 142 insertions(+), 137 deletions(-)

commit 5781beb22daeb246316e9079025932b1799c6e2e
Author: Matthias Clasen <mclasen@redhat.com>
Date:   Sat Sep 10 20:25:15 2011 -0400

    cally: Fix up event listener registration minimally
    
    For god-knows-what reason, at-spi is trying various formats
    of strings when registering listeners, triggering an ugly
    
    (gnome-shell:4411): Clutter-WARNING **: invalid object type create
    
    warning in .xsession-errors. Stop doing that.
    
    Also don't leak temporary string arrays that are a side-effect
    of passing parameters around as formatted strings.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=658721

 clutter/cally/cally-util.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit aea904afe9c2147ba0faa2e3bba5ad298835bca7
Author: Xandru Armesto <xandru@softastur.org>
Date:   Sun Sep 11 15:46:50 2011 +0200

    Updated asturian translation

 po/ast.po | 2209 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2209 insertions(+)

commit 6b6e662493e9a755b01a260f3b03e682f01db5f1
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Sun Sep 11 11:47:40 2011 +0200

    Updated Spanish translation

 po/es.po | 1153 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 583 insertions(+), 570 deletions(-)

commit 83c61b875856814f2a0b1767059401f2c7e310c0
Author: Muhammet Kara <muhammet.k@gmail.com>
Date:   Sun Sep 11 11:28:56 2011 +0300

    [l10n]Updated Turkish translation

 po/tr.po |  223 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 112 insertions(+), 111 deletions(-)

commit cf36ac00d9ece3424c8e3c12cab5a3b293b70c5f
Author: Yuri Myasoedov <omerta13@yandex.ru>
Date:   Sun Sep 11 11:27:00 2011 +0400

    Added Russian translation

 po/ru.po | 2193 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2193 insertions(+)

commit c2fc031d95c070b2ada4d4e12896593f35c765cb
Author: Muhammet Kara <muhammet.k@gmail.com>
Date:   Sun Sep 11 09:00:52 2011 +0300

    [l10n]Updated Turkish translation

 po/tr.po |  195 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 98 insertions(+), 97 deletions(-)

commit 92159871890d19691167081299c78402244d0276
Author: Muhammet Kara <muhammet.k@gmail.com>
Date:   Sat Sep 10 21:05:30 2011 +0300

    [l10n]Added Turkish translation

 po/tr.po | 2171 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2171 insertions(+)

commit 56e3c73300835bb15cad67ff0b36ee32d70a25c4
Author: Aurimas Černius <aurisc4@gmail.com>
Date:   Sat Sep 10 19:14:25 2011 +0300

    Added Lithuanian translation

 po/lt.po | 2192 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2192 insertions(+)

commit 50fc7407305a00353bd34fbaeb6f454bd9f712ac
Author: Ray Wang <raywang@gnome.org>
Date:   Sat Sep 10 16:07:27 2011 +0800

    Update Chinese (Simplified) translation

 po/zh_CN.po | 1351 ++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 680 insertions(+), 671 deletions(-)

commit c5ba998d64605b207b499221d7a484794e756c7a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Sep 9 13:53:33 2011 +0100

    stage: Protect call to unrealize() in dispose
    
    Do not call ClutterStageWindow::unrealize() if the Stage has already
    been unrealized.

 clutter/clutter-stage.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 598e7a4a7e2bbae8928690a4fc44f7771bef530c
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Sep 9 13:52:55 2011 +0100

    cogl/stage: Protect against multiple invocation of unrealize()

 clutter/cogl/clutter-stage-cogl.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 802b9d463c306c0c5024ef216c214ec2cd674fd4
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Sep 9 12:16:37 2011 +0100

    docs: Update the HACKING file

 doc/HACKING |   20 +++++++++++---------
 1 file changed, 11 insertions(+), 9 deletions(-)

commit 0d19892cd859d9564185ca7ee00b9ebe7d0937fd
Author: Kenneth Nielsen <k.nielsen81@gmail.com>
Date:   Fri Sep 9 13:03:40 2011 +0200

    Added Danish translation, adopted from launchpad

 po/da.po | 2174 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2174 insertions(+)

commit e6fb9770b155c06379f0d5f542bbe64432b22535
Author: Rajesh Ranjan <rranjan@redhat.com>
Date:   Fri Sep 9 14:43:24 2011 +0530

    hindi added for clutter

 po/hi.po | 2172 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2172 insertions(+)

commit 746f5e3885bfd5c52123a4ad36e954079ddcf886
Author: Manoj Kumar Giri <mgiri@dhcp193-76.pnq.redhat.com>
Date:   Fri Sep 9 10:54:50 2011 +0530

    Updated Oriya Translation

 po/or.po |   93 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 47 insertions(+), 46 deletions(-)

commit 909e11629960fb20910bbf4e26f9a0f1353240b9
Author: Rudolfs Mazurs <rudolfs.mazurs@gmail.com>
Date:   Thu Sep 8 16:51:54 2011 -0400

    Added Latvian translation.

 po/lv.po | 2193 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2193 insertions(+)

commit 5483c4402a575f6712b0e727838e28b27a99a363
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   Thu Sep 8 21:56:18 2011 +0200

    Updated Polish translation

 po/pl.po |   62 ++++++++++++++++++--------------------------------------------
 1 file changed, 18 insertions(+), 44 deletions(-)

commit fc1f27df94ecc28af69dd3a8e8d381071a4237f6
Author: Manoj Kumar Giri <mgiri@dhcp193-76.pnq.redhat.com>
Date:   Thu Sep 8 20:24:42 2011 +0530

    Updated Oriya Translation

 po/or.po | 2169 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2169 insertions(+)

commit fc65f83b4a4be9d69eb04b73c81e1ead9214f319
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   Thu Sep 8 16:35:47 2011 +0200

    Restore clutter-1.0.pot file

 po/clutter-1.0.pot | 1105 ++++++++++++++++++++++++++--------------------------
 1 file changed, 547 insertions(+), 558 deletions(-)

commit fc91234399c49a8c6c0bf2945b67aab81f51a63e
Author: Og B. Maciel <ogmaciel@gnome.org>
Date:   Thu Sep 8 10:21:26 2011 -0400

    Updated header section and added myself as a translator as I did quite a lot of work for this package as I reviewed it.

 po/clutter-1.0.pot | 1105 ++++++++++++++++++++++++++--------------------------
 po/pt_BR.po        |  174 ++++-----
 2 files changed, 644 insertions(+), 635 deletions(-)

commit 669d796ecbf74f7dc29f369731bdda5d1b5f67de
Author: Edvaldo de Souza Cruz <edvaldoscruz@hotmail.com>
Date:   Thu Sep 8 10:19:16 2011 -0400

    Added Brazilian Portuguese translation with some massive review and changed done by Og Maciel <ogmaciel@gnome.org>.

 po/pt_BR.po | 2217 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2217 insertions(+)

commit bcd37e2e3d96975c875acf7919405ec246064743
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Sep 7 16:14:10 2011 +0100

    script: Hide private symbols
    
    A bunch of private functions we use when parsing got exposed accidentaly
    to the list of public symbols by virtue of not having the leading '_'
    that we use to filter them out of the shared object — all the while the
    header that declares them is a private, non installed one.
    
    Let's rectify this situation with a bit of minor surgery on the code.

 clutter/clutter-alpha.c          |    2 +-
 clutter/clutter-animation.c      |    2 +-
 clutter/clutter-animator.c       |   18 +++---
 clutter/clutter-model.c          |   12 ++--
 clutter/clutter-script-parser.c  |  114 +++++++++++++++++++-------------------
 clutter/clutter-script-private.h |   54 +++++++++---------
 clutter/clutter-script.c         |    2 +-
 clutter/clutter-state.c          |   12 ++--
 8 files changed, 108 insertions(+), 108 deletions(-)

commit 9f70ea8dee74ebf5f6f32360b439d9babba58ac3
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Sep 7 15:20:42 2011 +0100

    text: Pack all bitfields at the end of the private structure
    
    Don't leave them in the middle, to avoid holes.

 clutter/clutter-text.c |   43 ++++++++++++++++++++++---------------------
 1 file changed, 22 insertions(+), 21 deletions(-)

commit 0c22246beabf6005a17687ae5d576d4e2e72e327
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Sep 7 13:28:15 2011 +0100

    text: Clear up priv->text checks
    
    The priv->text field cannot ever be NULL, so we don't need to check for
    that in a series of places. We also need to assert() that pre-condition
    in the couple of places where we set the contents of the ClutterText
    actor, namely in set_text_internal() and set_markup_internal().
    
    Based on a patch by: Dan Winship <danw@gnome.org>
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2629

 clutter/clutter-text.c |   84 ++++++++++++++++++++++++++----------------------
 1 file changed, 45 insertions(+), 39 deletions(-)

commit 320bdeac03a97dafb8929c93df795e1b2e5bc694
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Sep 7 13:08:22 2011 +0100

    text: Consistently protect against NULL strings
    
    When calling clutter_text_set_text_internal() or
    clutter_text_set_markup_internal() we need to make sure to pass a
    non-NULL string.

 clutter/clutter-text.c |   12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit c3e8d30afab071acb5b78d8d68e4c9334d1a82a5
Author: Bruce Cowan <bruce@bcowan.me.uk>
Date:   Wed Sep 7 13:27:34 2011 +0100

    Added British English translation

 po/en_GB.po | 2185 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2185 insertions(+)

commit 2af7ac4c13bd99c04eaf59ecfc8fa7a00a3cb8c1
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Sep 7 12:04:08 2011 +0100

    actor: Fix annotations for out Vertex parameters

 clutter/clutter-actor.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 0bd1e47b22de3692c37abaa4582dfb9c802ee493
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Sep 6 12:45:41 2011 +0100

    text: Make :use-markup set idempotent
    
    Setting :use-markup and :text is currently not idempotent, and it
    depends on the ordering, e.g.:
    
      g_object_set (actor, "use-markup", TRUE, "text", value, NULL);
    
    does not yield the same results as:
    
      g_object_set (actor, "text", value, "use-markup", TRUE, NULL);
    
    This is particularly jarring when using ClutterText from ClutterScript,
    but in general GObject properties should not rely on the order when used
    from g_object_set().
    
    The fix is to store the contents of the ClutterText as a separate string
    from the displayed text, and use the contents, instead of the displayed
    text, when toggling the :use-markup property.
    
    Let's also add a unit test for good measure, to try and catch
    regressions.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=651940

 clutter/clutter-text.c            |   52 +++++++++++++++++----
 tests/conform/test-clutter-text.c |   92 +++++++++++++++++++++++++++++++++++++
 tests/conform/test-conform-main.c |    1 +
 3 files changed, 135 insertions(+), 10 deletions(-)

commit f58c2cec1289b680f73f7849a524fb6dcb1b0b22
Author: Andika Triwidada <andika@gmail.com>
Date:   Wed Sep 7 15:46:43 2011 +0700

    Updated Indonesian translation

 po/id.po | 1673 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 835 insertions(+), 838 deletions(-)

commit c5cf8c53cd41c751118347495f3d57e8c4e74785
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Sep 6 09:41:06 2011 +0100

    mingw-fetch-dependencies: Build ATK from source
    
    There is no prebuilt package for ATK 2.1.5 which Clutter now depends
    on so let's build it from source instead. The ATK packages don't have
    a .gz version so this patch also changes it to download the .bz2
    version of json-glib to avoid having to accept both formats.

 build/mingw/mingw-fetch-dependencies.sh |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 9d46c479977f994c22da15f8cd1f81f92a531fb4
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Sep 6 08:32:07 2011 +0100

    build: Fix up the release rules
    
    Highlight actions and errors, and update the release message.

 build/autotools/Makefile.am.release |   36 +++++++++++++++++------------------
 1 file changed, 17 insertions(+), 19 deletions(-)

commit 28ad23e7d71e3a4a663a5de266631424ad11752f
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Sep 5 21:39:51 2011 +0100

    Post-release version bump to 1.7.15

 configure.ac       |    2 +-
 po/ca.po           |  391 ++++++++---------
 po/ca@valencia.po  |  391 ++++++++---------
 po/clutter-1.0.pot | 1104 ++++++++++++++++++++++++------------------------
 po/cs.po           | 1107 ++++++++++++++++++++++++------------------------
 po/de.po           |  391 ++++++++---------
 po/eo.po           |  390 ++++++++---------
 po/es.po           | 1114 ++++++++++++++++++++++++------------------------
 po/fr.po           |  390 ++++++++---------
 po/gl.po           | 1100 ++++++++++++++++++++++++------------------------
 po/id.po           |  390 ++++++++---------
 po/it.po           |  390 ++++++++---------
 po/kn.po           | 1107 ++++++++++++++++++++++++------------------------
 po/nb.po           |  390 ++++++++---------
 po/nl.po           |  390 ++++++++---------
 po/pa.po           |  390 ++++++++---------
 po/pl.po           |  390 ++++++++---------
 po/sl.po           |  391 ++++++++---------
 po/sv.po           | 1190 +++++++++++++++++++++++++---------------------------
 po/te.po           |  390 ++++++++---------
 po/uk.po           |  390 ++++++++---------
 po/zh_CN.po        |  390 ++++++++---------
 po/zh_HK.po        | 1187 +++++++++++++++++++++++++--------------------------
 po/zh_TW.po        | 1187 +++++++++++++++++++++++++--------------------------
 24 files changed, 7392 insertions(+), 7560 deletions(-)

commit d992c0cbff22c6e22eb03b6a926209ab436a832a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Sep 5 20:54:35 2011 +0100

    Release Clutter 1.7.14

 NEWS         |   64 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 configure.ac |    2 +-
 2 files changed, 65 insertions(+), 1 deletion(-)

commit 9a78eacb72ad76aa5254b41dd7efbb9716e77547
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Sep 5 21:15:37 2011 +0100

    build: Fix distcheck in cookbook/examples

 doc/cookbook/examples/Makefile.am |   28 ++++++++++++++--------------
 1 file changed, 14 insertions(+), 14 deletions(-)

commit 967bd3ac5804aa9dd9bd308711381979d7c416a2
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Sep 5 15:26:27 2011 +0100

    docs: Update test-easing and xinclude it into ClutterAnimation
    
    The easing test is a nice example of what ClutterAnimation and
    clutter_actor_animate() can do. The "tween ball to the pointer
    event coordinates" is a bit of a staple in animation libraries
    and their documentation.

 clutter/clutter-animation.c     |    9 ++++
 tests/interactive/test-easing.c |   90 +++++++++++++++++++--------------------
 2 files changed, 54 insertions(+), 45 deletions(-)

commit 7024f1cd021760dd3e9c891550a3b20f2627307e
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Sep 5 15:25:46 2011 +0100

    static-colors: Simplify the defines
    
    Use a "private" macro to simplify the defined static colors.

 clutter/clutter-color-static.h |   92 ++++++++++++++++++++--------------------
 1 file changed, 47 insertions(+), 45 deletions(-)

commit 359ed2b29fdc4f692e6cb6ff310c41ed7796139a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sun Sep 4 17:57:50 2011 +0100

    text: Make :line-wrap actually work
    
    When we paint a ClutterText we ask the actor for a PangoLayout that fits
    inside the actor's allocation - both width and height.
    
    Sadly, whenever a height is set on a PangoLayout, Pango will wrap its
    contents - regardless of whether the layout should actually wrap or not.
    
    This means that in certain easy to exploit cases, Clutter will paint a
    Text actor with its contents wrapping even if the :wrap property is set
    to FALSE.
    
    In order to fix this we need to encode some more cases inside the
    ::paint implementation of ClutterText, and ask the cache for a layout
    that is sized as the allocation's width, but not as its height; we also
    need to perform a clip if we detect that the PangoLayout's logical size
    is going to overflow the allocated size. This clip might cause some
    performance issue, given that clipping breaks batching in the Cogl
    journal; hopefully all clips for text are going to be screen-aligned, so
    at the end of the batch it'll just scissor them out.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2339

 clutter/clutter-text.c |   53 ++++++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 49 insertions(+), 4 deletions(-)

commit 73d3026dd192f2bf102107d7c41c59d5d163ad08
Author: Dan Winship <danw@gnome.org>
Date:   Fri Sep 2 12:51:46 2011 -0400

    clutter-flow-layout: fix non-0,0 offset allocation
    
    https://bugzilla.gnome.org/show_bug.cgi?id=649631

 clutter/clutter-flow-layout.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 14242ce3b2386709394400deab81631c227d7473
Author: Shankar Prasad <svenkate@redhat.com>
Date:   Mon Sep 5 18:03:48 2011 +0530

    updated Kannada Translation

 po/kn.po |  108 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 54 insertions(+), 54 deletions(-)

commit f63f359f34bd4211453c5c0d8a5d43e94436608a
Author: Shankar Prasad <svenkate@redhat.com>
Date:   Mon Sep 5 14:04:50 2011 +0530

    Added and updated Kannada Translation

 po/kn.po | 2169 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2169 insertions(+)

commit 6b1ff3fad481cbf9ab6fa2a3a4fe5af942e5b3ec
Author: Marek Černocký <marek@manet.cz>
Date:   Sun Sep 4 19:35:49 2011 +0200

    Updated Czech translation

 po/cs.po | 1118 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 565 insertions(+), 553 deletions(-)

commit 973b7299b28b68795f0cc3a5f4be348f3f0c54d5
Author: Fran Dieguez <fran@openhost.es>
Date:   Sun Sep 4 18:18:55 2011 +0200

    Updated galician translations

 po/clutter-1.0.pot | 1106 ++++++++++++++++++++++++++-------------------------
 po/gl.po           | 1116 ++++++++++++++++++++++++++--------------------------
 2 files changed, 1122 insertions(+), 1100 deletions(-)

commit 924b7e3309f0e487a3f7776e571696cbe4d1f63f
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   Sun Sep 4 06:34:25 2011 +0800

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 2224 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 po/zh_TW.po | 1373 ++++++++++++++++++------------------
 2 files changed, 2915 insertions(+), 682 deletions(-)

commit 37c58d61cd9c50bcccfee338a777795a11be2c89
Author: Daniel Nylander <po@danielnylander.se>
Date:   Sat Sep 3 13:02:29 2011 +0200

    Updated Swedish translation

 po/sv.po | 1240 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 639 insertions(+), 601 deletions(-)

commit a676ae67f7245e8c3cac17ece6c8cedd0a12da54
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Sep 2 15:51:56 2011 +0100

    docs: Fix up deprecation notice for BehaviourScale

 clutter/clutter-behaviour-scale.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4255a75940a1a87db3145cd3d50d33b779c82049
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Sep 2 15:49:05 2011 +0100

    docs: Fix the ClutterTimeline:auto-reverse link

 clutter/clutter-timeline.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 79e152b7a0f1c6646f485dd17de4935c51778b86
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Sep 2 15:48:27 2011 +0100

    docs: Inline test-constraints.c inside BindConstraint's description

 clutter/clutter-bind-constraint.c |   15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit bce27e45b0ecce89c16640755290b0dbe9e29392
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Sep 2 15:36:40 2011 +0100

    test-constraints: Clean up the example
    
    Add some comments to detail what are we doing and why.

 tests/interactive/test-constraints.c |   59 +++++++++++++++++++++++++++-------
 1 file changed, 48 insertions(+), 11 deletions(-)

commit 0d6208f36e0c66e89635e2d586568bfa40102f8e
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Sep 2 15:22:08 2011 +0100

    docs: Inline test-drop.c into DropAction's description
    
    Also, mention that DropAction only works with DragAction.

 clutter/clutter-drop-action.c |   18 +++++++++++++++---
 1 file changed, 15 insertions(+), 3 deletions(-)

commit 8775642e82f999d7fa49bcec8aa967d240c89c2d
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Sep 2 14:50:07 2011 +0100

    docs: Include test-drag as the DragAction example

 clutter/clutter-drag-action.c |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 9c9926654cbb419dd6d8cd725d5c40e2cb86b832
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Sep 2 14:28:16 2011 +0100

    docs: Remove the 1.8 index for Cally
    
    No new API has been added in during the 1.7 development cycle.

 doc/reference/cally/cally-docs.xml.in |    5 -----
 1 file changed, 5 deletions(-)

commit 4b7552f0014c75d03d9889a3abeb8a93166ff59a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Sep 2 14:18:54 2011 +0100

    docs: Add missing clutter_backend_get_cogl_context symbol

 doc/reference/clutter/clutter-sections.txt |    1 +
 1 file changed, 1 insertion(+)

commit 66607dec4de1676b970053defe33db9634ba6923
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Sep 2 13:58:34 2011 +0100

    bind: Check that the source is not contained inside the actor
    
    Like commit d0439cfb586ca14282c89035119a4acbc0295df7 for
    AlignConstraint, let's check that the BindConstraint source is not
    a child or a grandchild of the actor attached to the Constraint.

 clutter/clutter-bind-constraint.c |   39 +++++++++++++++++++++++++++++++++++--
 1 file changed, 37 insertions(+), 2 deletions(-)

commit e6dbdb444d61dc2172d98566589ece846cbe03ce
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Sep 2 13:56:25 2011 +0100

    align: Check that source is not contained inside the actor
    
    AlignConstraint won't work if the source is a child or a grandchild of
    the ClutterActorMeta:actor to which it has been attached to: the
    allocation flows from the parent to its children, not the other way
    around; in order to avoid weirdness, we better document and check
    that when we set the actor and when we set the source.

 clutter/clutter-align-constraint.c |   39 ++++++++++++++++++++++++++++++++++--
 1 file changed, 37 insertions(+), 2 deletions(-)

commit 83060b30d17b7afa13b8ce59e824dd91274669c3
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Sep 2 13:54:57 2011 +0100

    docs: Remove mentions of "frames" in Timeline
    
    We still have some really old naming lying around.

 clutter/clutter-timeline.c |    2 +-
 clutter/clutter-timeline.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 72caef0de010d1f6797c29157806a81e72c3f818
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Sep 2 11:01:36 2011 +0100

    cookbooks/examples: Use g_signal_handlers_disconnect_by_func()
    
    The disconnect_matched() function is a bit too complicated, and its
    simpler wrapper disconnect_by_func() is functionally equivalent in the
    cases used by the cookbook examples.

 doc/cookbook/animations.xml              |    8 ++------
 doc/cookbook/examples/animations-reuse.c |    8 ++------
 2 files changed, 4 insertions(+), 12 deletions(-)

commit 63a05fca9d570bc2829fe537859236da8934eda6
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Sep 1 17:12:46 2011 +0100

    Lock the main context when modifying the repaint functions list
    
    The repaint functions list can (and should) be manipulated from
    different threads, but it currently doesn't prevent multiple threads
    from accessing it concurrently. We should have a simple lock and take it
    when adding and removing elements from the list; the invocation is still
    performed under the Big Clutter Lock™, so it doesn't require special
    handling.

 clutter/clutter-main.c    |   82 ++++++++++++++++++++++++++++++++++-----------
 clutter/clutter-private.h |    3 ++
 2 files changed, 66 insertions(+), 19 deletions(-)

commit 2557370445ccc841adddb369fe004ed2e91043e9
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Sep 1 16:06:04 2011 +0100

    docs/cookbook: Update the introduction
    
    Clean up some wording.

 doc/cookbook/introduction.xml |   62 +++++++++++++++++++++++++++++++++++------
 1 file changed, 53 insertions(+), 9 deletions(-)

commit b0f868edfdaebf9b0e32c88fce9ce2c487e27623
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Sep 1 13:51:20 2011 +0100

    build: Install the cookbook examples code
    
    Use $(datadir)/clutter-1.0/cookbook/examples as the target directory.

 doc/cookbook/examples/Makefile.am |    3 +++
 1 file changed, 3 insertions(+)

commit e03fb1e872ef96c0492efe3ce4cdcd09389d8481
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Aug 31 12:27:30 2011 +0100

    docs/cookbook: Update copyright

 doc/cookbook/clutter-cookbook.xml.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2fdf73f64ab33aaa6de1d357705e7c0bd4ecf090
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Aug 31 12:23:01 2011 +0100

    tests: Go back to the hover state on button-release
    
    If we get a button release, going back to the hover state is the most
    logical choice.

 tests/data/test-script-signals.json |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3bdd49dc191b9c037027349a5175dfa4a7692b66
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Aug 31 12:22:07 2011 +0100

    docs/cookbook: Add script->state connection recipe
    
    Script definitions can connect a signal to a State transition; this is a
    useful thing to document with a recipe in the cookbook.

 doc/cookbook/examples/Makefile.am        |   23 ++++--
 doc/cookbook/examples/script-signals.c   |    5 +-
 doc/cookbook/examples/script-states.c    |   44 +++++++++++
 doc/cookbook/examples/script-states.json |   92 ++++++++++++++++++++++
 doc/cookbook/script.xml                  |  127 ++++++++++++++++++++++++++++++
 5 files changed, 284 insertions(+), 7 deletions(-)

commit b428c3981bad08869f8c7693af50f221637dae34
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Tue Aug 30 21:24:26 2011 +0200

    Updated Spanish translation

 po/es.po | 1120 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 566 insertions(+), 554 deletions(-)

commit 0aacbd47b7f8e44f7688365ee1a76149e6bbd565
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Jul 12 23:03:41 2011 +0100

    actor: make offscreen_redirect prop take flags + default off
    
    Because we have had several reports about significant performance
    regressions since we enabled offscreen redirection by default for
    handling correct opacity we are now turning this feature off by default.
    
    We feel that clutter should prioritize performance over correctness in
    this case. Correct opacity is still possible if required but the
    overhead of the numerous offscreen allocations as well as the cost of
    many render target switches per-frame seems too high relative the
    improvement in quality for many cases.
    
    On reviewing the offscreen_redirect property so we have a way to
    disable redirection by default we realized that it makes more sense for
    it to take a set of flags instead of an enum so we can potentially
    extend the number of things that might result in offscreen redirection.
    
    We removed the ability to say REDIRECT_ALWAYS_FOR_OPACITY, since it
    seems that implies you don't trust the implementation of an actor's
    has_overlaps() vfunc which doesn't seem right.
    
    The default value if actor::redirect_offscreen is now 0 which
    effectively means don't ever redirect the actor offscreen.

 clutter/clutter-actor.c                 |   84 +++++++++++++++----------------
 clutter/clutter-actor.h                 |   10 ++--
 tests/conform/test-offscreen-redirect.c |   34 ++++++++++---
 3 files changed, 73 insertions(+), 55 deletions(-)

commit d847d43f70d29be78b529b19046b453a05135fa3
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Aug 30 10:47:12 2011 +0100

    actions/drag: Be more reliable when destroying the drag handle
    
    Whenever the drag handle gets destroyed mid-drag we need to cancel any
    current drag operation and reset the state of the DragAction.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=657681

 clutter/clutter-drag-action.c |   44 +++++++++++++++++++++++++++++++----------
 1 file changed, 34 insertions(+), 10 deletions(-)

commit f1a7cd7c0f6e3b270d3efd21c36742a8953222ab
Merge: 2212937 663bfd0
Author: Alejandro Piñeiro <apinheiro@igalia.com>
Date:   Tue Aug 30 12:26:35 2011 +0200

    Merge branch 'atkwindow'

commit 2212937788a907fb0c673f72a48863d8b8c9da93
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Aug 29 23:29:07 2011 +0100

    Post-release version bump to 1.7.13

 configure.ac       |    2 +-
 po/ca.po           |  218 ++++++-----
 po/ca@valencia.po  |  218 ++++++-----
 po/clutter-1.0.pot | 1104 ++++++++++++++++++++++++++-------------------------
 po/cs.po           |  218 ++++++-----
 po/de.po           |  218 ++++++-----
 po/eo.po           |  218 ++++++-----
 po/es.po           | 1106 ++++++++++++++++++++++++++--------------------------
 po/fr.po           |  218 ++++++-----
 po/gl.po           | 1100 ++++++++++++++++++++++++++-------------------------
 po/id.po           |  218 ++++++-----
 po/it.po           |  218 ++++++-----
 po/nb.po           | 1100 ++++++++++++++++++++++++++-------------------------
 po/nl.po           |  218 ++++++-----
 po/pa.po           |  218 ++++++-----
 po/pl.po           |  218 ++++++-----
 po/sl.po           |  218 ++++++-----
 po/sv.po           |  218 ++++++-----
 po/te.po           |  218 ++++++-----
 po/uk.po           |  218 ++++++-----
 po/zh_CN.po        |  218 ++++++-----
 po/zh_TW.po        |  218 ++++++-----
 22 files changed, 4103 insertions(+), 4015 deletions(-)

commit c26dd3f0081dadaf516ef583fffc440ae3b8a4b0
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Aug 29 23:05:03 2011 +0100

    Release Clutter 1.7.12 (snapshot)

 NEWS         |   43 +++++++++++++++++++++++++++++++++++++++++++
 configure.ac |    2 +-
 2 files changed, 44 insertions(+), 1 deletion(-)

commit 368c916c7fc954e37c264f375a3a95f496777fa4
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Aug 24 18:38:17 2011 +0100

    layout-managers: Take into account the allocations's origin
    
    If an actor using a LayoutManager has attributes like margin or padding
    then it'll have to shave them from the available allocation before
    passing it to the LayoutManager::allocate() implementation. Layout
    managers should, thus, not assume that the origin of the allocation is
    in (0, 0), but take into account that the passed ActorBox might have a
    different origin.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=649631

 clutter/clutter-bin-layout.c   |    9 +++++----
 clutter/clutter-flow-layout.c  |    9 ++++++---
 clutter/clutter-table-layout.c |    8 +++++---
 3 files changed, 16 insertions(+), 10 deletions(-)

commit 3314385119b92b19114417c11d05b98617d9d83d
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Aug 24 18:36:19 2011 +0100

    box: Munge the allocation passed to the layout manager
    
    The actor is in charge of providing to the LayoutManager the available
    allocation. ClutterBox should not just pass the box it got from its
    parent: it should, instead, provide a normalized box, with an origin in
    (0, 0) and the available size.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=649631

 clutter/clutter-box.c |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 96810e1d4d07dc75e9622f352674885977c34e60
Author: Emmanuele Bassi <ebassi@gnome.org>
Date:   Mon Aug 29 22:17:53 2011 +0100

    build: Add -lm to clutter's LIBADD rule
    
    We need to explicitly link against libm when building Clutter, since we
    use libm API.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=657529

 clutter/Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit 41d22f37efa9952ef8138711e055a834f0221c75
Author: Fran Dieguez <fran@openhost.es>
Date:   Sun Aug 28 17:36:57 2011 +0200

    Updated galician translations

 po/clutter-1.0.pot | 1108 +++++++++++++++++++++++++-------------------------
 po/gl.po           | 1149 ++++++++++++++++++++++++++--------------------------
 2 files changed, 1143 insertions(+), 1114 deletions(-)

commit 059d32b40d0d0fa364c0d28f4d5a8a7bbc27b5a2
Author: Emmanuele Bassi <ebassi@gnome.org>
Date:   Sat Aug 27 23:58:26 2011 +0100

    build: Add -lm to the tests linker flags
    
    https://bugzilla.gnome.org/show_bug.cgi?id=657529

 tests/interactive/Makefile.am |    2 +-
 tests/micro-bench/Makefile.am |    2 +-
 tests/performance/Makefile.am |   10 ++++++----
 3 files changed, 8 insertions(+), 6 deletions(-)

commit 2ad7f97fce34d48be64f89e3795a15ab7668317c
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   Fri Aug 26 13:26:49 2011 +0200

    Updated Norwegian bokmål translation

 po/nb.po | 1130 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 575 insertions(+), 555 deletions(-)

commit 2f1885565949dbd2c90e386ce557ee45ef1cba8b
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Aug 12 16:25:53 2011 +0100

    Adds experimental clutter_backend_get_cogl_context API
    
    This adds experimental API to be able to get the CoglContext associated
    with the ClutterBackend. The CoglContext is required to use some of the
    experimental 2.0 Cogl API.
    
    Note: Since CoglContext is itself experimental API this API should
    considered experimental too. This patch introduces a
    CLUTTER_ENABLE_EXPERIMENTAL_API #ifdef guard which anyone wanting to use
    this API must define so it's explicitly clear to developers that they
    are playing with experimental API.
    
    Note: This API is not yet supported on OSX because OSX still uses the
    stub Cogl winsys and the Clutter backend doesn't explicitly create a
    CoglContext.
    
    Note: even though this is experimental API we still promise that it
    wont be changed during a stable release cycle. This means for example
    that you can depend on this for the lifetime of the clutter-1.8 stable
    release cycle.

 clutter/clutter-backend.c |   26 ++++++++++++++++++++++++++
 clutter/clutter-backend.h |    7 +++++++
 2 files changed, 33 insertions(+)

commit 663bfd0e85852aee23726c1a590daf54779cd40f
Author: Alejandro Piñeiro <apinheiro@igalia.com>
Date:   Wed Aug 10 19:19:33 2011 +0200

    a11y: Using proper way to register to window events

 tests/accessibility/cally-atkevents-example.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 7635cb6f171514ba3422c058d97ba48cc18a1a1e
Author: Alejandro Piñeiro <apinheiro@igalia.com>
Date:   Wed Aug 10 13:06:14 2011 +0200

    a11y: We don't need to explicitly manage window events

 clutter/cally/cally-util.c |   38 +-------------------------------------
 1 file changed, 1 insertion(+), 37 deletions(-)

commit a9690a4a5e8604652048f32e2ea188aa40e0ae95
Author: Alejandro Piñeiro <apinheiro@igalia.com>
Date:   Wed Aug 10 13:02:26 2011 +0200

    a11y: Using AtkWindow on cally-stage

 clutter/cally/cally-stage.c |  112 +++++++------------------------------------
 configure.ac                |    2 +-
 2 files changed, 18 insertions(+), 96 deletions(-)

commit 2559fb1d0df32bb30bf35448913fa96b33e6a423
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Aug 23 10:58:09 2011 +0100

    actor: Add a comment on the unmapping order
    
    Let's add a comment to avoid reshuffling the unmap() implementation and
    end up triggering these bugs:
    
      http://bugzilla.clutter-project.org/show_bug.cgi?id=2621
      https://bugzilla.gnome.org/show_bug.cgi?id=652036

 clutter/clutter-actor.c |   12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit a661191b4bdd0547810893d240c3a0cbd1b122f2
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Aug 22 13:15:42 2011 +0100

    docs/cookbook: Point out that Cogl does not do AA drawing

 doc/cookbook/actors.xml |    6 ++++++
 1 file changed, 6 insertions(+)

commit 010fc072f9aa9633b92f2a85230b90da3d55c77a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Aug 22 12:33:20 2011 +0100

    docs/cookbook: Update the link to the GObject reference

 doc/cookbook/actors.xml |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d8fcf7329806ac335bea3cfc96de1f01a6b15be7
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Fri Aug 19 13:51:32 2011 +0200

    Updated Spanish translation

 po/es.po | 1112 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 566 insertions(+), 546 deletions(-)

commit d691c9cbe37f83b1c171ba98507edded5551cc5f
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Aug 18 15:36:20 2011 +0100

    x11/settings: Add Fontconfig/Timestamp key
    
    The XSETTINGS key that matches the :fontconfig-timestamp property on
    ClutterSettings.

 clutter/x11/clutter-settings-x11.h |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7d4f371ee900e6388cc900a00095532172db5324
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Aug 18 15:33:39 2011 +0100

    settings: Add ClutterSettings:fontconfig-timestamp
    
    The :fontconfig-timestamp is a write-only property that will get updated
    by the underlying platform whenever the fontconfig configuration has
    been changed — i.e. when the fontconfig caches should be rebuilt after
    the user has installed a new font.

 clutter/clutter-settings.c |   67 ++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 64 insertions(+), 3 deletions(-)

commit e906d2cbde5c1db4238660002f858111de8548c3
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Aug 18 15:32:29 2011 +0100

    build: Depend on pangoft2 on X11
    
    We need the fontconfig API to reinitialize the fontmap caches whenever
    the system tells us that the user fonts have changed.

 configure.ac |   15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit 397fe1b5b64ac188824c50a8bb3329f19691e9e2
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Aug 16 17:31:42 2011 +0100

    text: Implement Scriptable interface for font-description
    
    This makes ClutterText implement the Scriptable interface so that we can
    have a custom property parser and setter for the font-description
    property. This works by simply passing the string description through
    to clutter_text_set_font_name.
    
    Reviewed-by: Emmanuele Bassi <ebassi@linux.intel.com>

 clutter/clutter-text.c |   51 +++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 50 insertions(+), 1 deletion(-)

commit 98b3834d5526afcaf0df7c65c4593e4edf879227
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Aug 16 00:19:34 2011 +0100

    Post-release version bump to 1.7.11

 configure.ac       |    2 +-
 po/ca.po           |  194 +++++++++++++++++++++++++--------------------------
 po/ca@valencia.po  |  194 +++++++++++++++++++++++++--------------------------
 po/clutter-1.0.pot |  196 ++++++++++++++++++++++++++--------------------------
 po/cs.po           |  194 +++++++++++++++++++++++++--------------------------
 po/de.po           |  194 +++++++++++++++++++++++++--------------------------
 po/eo.po           |  194 +++++++++++++++++++++++++--------------------------
 po/es.po           |  194 +++++++++++++++++++++++++--------------------------
 po/fr.po           |  194 +++++++++++++++++++++++++--------------------------
 po/gl.po           |  194 +++++++++++++++++++++++++--------------------------
 po/id.po           |  194 +++++++++++++++++++++++++--------------------------
 po/it.po           |  194 +++++++++++++++++++++++++--------------------------
 po/nb.po           |  194 +++++++++++++++++++++++++--------------------------
 po/nl.po           |  194 +++++++++++++++++++++++++--------------------------
 po/pa.po           |  194 +++++++++++++++++++++++++--------------------------
 po/pl.po           |  194 +++++++++++++++++++++++++--------------------------
 po/sl.po           |  194 +++++++++++++++++++++++++--------------------------
 po/sv.po           |  194 +++++++++++++++++++++++++--------------------------
 po/te.po           |  194 +++++++++++++++++++++++++--------------------------
 po/uk.po           |  194 +++++++++++++++++++++++++--------------------------
 po/zh_CN.po        |  194 +++++++++++++++++++++++++--------------------------
 po/zh_TW.po        |  194 +++++++++++++++++++++++++--------------------------
 22 files changed, 2039 insertions(+), 2039 deletions(-)

commit d80fef4c71bb9e1a76420360d85d50fb62ed7d3b
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Aug 15 23:50:03 2011 +0100

    Release Clutter 1.7.10 (snapshot)

 NEWS         |   24 ++++++++++++++++++++++++
 configure.ac |    2 +-
 2 files changed, 25 insertions(+), 1 deletion(-)

commit abcc7c62ec30d4608e953723f3fc6a4b4a38dc8f
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Aug 15 23:52:45 2011 +0100

    build: Do not define LDADD twice

 tests/micro-bench/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ccb740f167b4a120f16c83bdd3165e8251f0e62a
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Aug 15 18:24:32 2011 +0100

    actor: Don't update last-paint-volume during picking
    
    Actually this change has two notable effects; firstly we no longer
    perform culling during picking and secondly we avoid updating the
    last-paint-volume of an actor when picking.
    
    We shouldn't perform culling during picking until clutter-stage.c is
    updated to setup the clipping planes appropriately.
    
    Since the last-paint-volume is intended to represent the visible region
    of the actor the last time it was painted on screen it doesn't make
    sense to update this during off screen pick renders since we are liable
    to end up with a last-paint-volume that maps to an actors new position
    when we next come to paint for real.
    
    This fixes a bug in gnome-shell with dragging dash icons leaving a
    messy trail on the screen.
    
    Reviewed-by: Emmanuele Bassi <ebassi@linux.intel.com>

 clutter/clutter-actor.c |   16 +++++++++++++---
 1 file changed, 13 insertions(+), 3 deletions(-)

commit 46b683cd2b24e3d3ffa779875325160ab30355b8
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Aug 15 17:16:54 2011 +0100

    Update the COPYING file
    
    The FSF changed address, so we need to update the license accordingly to
    avoid triggering issues with automated license checkers used by build
    systems, like OBS.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=656588

 COPYING |   20 +++++++++-----------
 1 file changed, 9 insertions(+), 11 deletions(-)

commit efa7a66a70811490a8390c4c89bdb7ab3bd3dd5e
Author: Alejandro Piñeiro <apinheiro@igalia.com>
Date:   Wed Aug 10 20:25:43 2011 +0200

    build: list correct dependencies
    
    Related to bug https://bugzilla.gnome.org/show_bug.cgi?id=656306#c4

 tests/micro-bench/Makefile.am |    4 +++-
 tests/performance/Makefile.am |    4 +---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit df107fc5baf8f69f2005bf15257eaf45875bd11c
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Aug 15 15:53:58 2011 +0100

    interactive/test-actors: Constraint the hands group
    
    Use constraints to align and size the ClutterGroup containing the
    spinning hands so that resizing the stage doesn't look like arse.

 tests/interactive/test-actors.c |    3 +++
 1 file changed, 3 insertions(+)

commit 8402e4133252b2efffeefc782a20d24f8029646f
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Aug 15 15:35:41 2011 +0100

    build: Require the latest stable version of Cogl

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2c34f0b16ccf257057bbc7de88fbdd998f7fe26b
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Aug 15 15:16:24 2011 +0100

    Post-release version bump to 1.7.9

 configure.ac       |    2 +-
 po/ca.po           |   28 +-
 po/ca@valencia.po  |   28 +-
 po/clutter-1.0.pot |   28 +-
 po/cs.po           | 1104 ++++++++++++++++++++++++++-------------------------
 po/de.po           |   28 +-
 po/eo.po           |   26 +-
 po/es.po           | 1111 ++++++++++++++++++++++++++--------------------------
 po/fr.po           |   27 +-
 po/gl.po           |   28 +-
 po/id.po           |   26 +-
 po/it.po           |   27 +-
 po/nb.po           |   27 +-
 po/nl.po           |   27 +-
 po/pa.po           |   26 +-
 po/pl.po           |   28 +-
 po/sl.po           |   28 +-
 po/sv.po           |   26 +-
 po/te.po           |   26 +-
 po/uk.po           |   29 +-
 po/zh_CN.po        |   27 +-
 po/zh_TW.po        |   27 +-
 22 files changed, 1440 insertions(+), 1294 deletions(-)

commit f6fe09fa24586fa277b53e010f77b50af15367c1
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Aug 15 14:32:37 2011 +0100

    Release Clutter 1.7.8 (snapshot)

 NEWS         |   54 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 configure.ac |    2 +-
 2 files changed, 55 insertions(+), 1 deletion(-)

commit 3591be474eaa3a3d9dc09ae31741c1e625b1c325
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Aug 15 14:09:24 2011 +0100

    conform: Temporarily disable Cally's conformance test
    
    See bug:
    
      https://bugzilla.gnome.org/show_bug.cgi?id=655588
    
    for the failure.

 tests/conform/test-conform-main.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 8ea6b7912ea195337a34d3c7f9a37b74bb606b4a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Aug 15 14:08:57 2011 +0100

    docs: Fix up the unused symbols warning

 doc/reference/clutter/clutter-sections.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aaa000acbf98b2710a85195d338e960ecce625ea
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Aug 15 14:08:28 2011 +0100

    docs: Fix up warnings in Cally's reference API

 doc/reference/cally/Makefile.am        |    4 ++--
 doc/reference/cally/cally-docs.xml.in  |   10 ++++++++++
 doc/reference/cally/cally-sections.txt |    2 ++
 3 files changed, 14 insertions(+), 2 deletions(-)

commit d2763fd8a4e60eb3aa8e4ad43809460f448fdf51
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Jul 22 12:28:29 2011 +0100

    stage-cogl: pass top-left relative swap_region coords
    
    All 2D coordinate spaces in Cogl have their origin at the top-left so we
    shouldn't be flipping the coordinates we pass to
    cogl_framebuffer_swap_region to be relative to the bottom of the
    framebuffer.
    
    This bumps the Cogl version requirement to 1.7.5 since we've had to fix
    a bug in the semantics of cogl_framebuffer_swap_region.
    
    Reviewed-by: Neil Roberts <neil@linux.intel.com>

 clutter/cogl/clutter-stage-cogl.c |    4 +---
 configure.ac                      |    2 +-
 2 files changed, 2 insertions(+), 4 deletions(-)

commit 944d9bdd694b769acf2336a3cab52362f2fd32fd
Author: Neil Roberts <neil@linux.intel.com>
Date:   Thu Aug 4 19:17:23 2011 +0100

    test-cogl-blend-strings: Don't disable the TEXTURE_N test
    
    This is now fixed in Cogl so there's no need to disable it.

 tests/conform/test-cogl-blend-strings.c |    2 --
 1 file changed, 2 deletions(-)

commit 694649e50c76178995538cb182cce885060d5a05
Author: Alejo Pacin <apacin@igalia.com>
Date:   Thu Aug 4 12:02:52 2011 +0200

    a11y: Notify ATK_STATE_SHOWING state change
    
    https://bugzilla.gnome.org/show_bug.cgi?id=648633

 clutter/cally/cally-actor.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 91ace65caedbde4216ba59aa5aa8ef185baefef1
Author: Neil Roberts <neil@linux.intel.com>
Date:   Sun Jul 31 18:00:43 2011 +0100

    clutter-stage-win32: Fix name cogl_win32_onscreen_set_foreign_window
    
    Since commit 38b67e2884f of Cogl the naming scheme for winsys-specific
    API has changed to be cogl_win32_onscreen_* instead of
    cogl_onscreen_win32_* so it wouldn't build on Windows.

 clutter/win32/clutter-stage-win32.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 01fd673505efeca530946018c921caf14b492f31
Author: Kirk A. Baker <kbaker@camerabits.com>
Date:   Mon Jul 25 15:00:30 2011 -0700

    osx: Avoid leaks in Stage::realize
    
    clutter_stage_osx_realize() can now be called multiple times without
    leaking views and windows.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=655307

 clutter/osx/clutter-stage-osx.c |   62 +++++++++++++++++++++++----------------
 clutter/osx/clutter-stage-osx.h |    1 +
 2 files changed, 37 insertions(+), 26 deletions(-)

commit e144378f5af09eba7adc9a851c4159868f71cea8
Author: Kirk A. Baker <kbaker@camerabits.com>
Date:   Mon Jul 11 21:56:04 2011 -0700

    osx: Implement windowDidResignKey
    
    Added isHiding field to _ClutterStageOSX to allow windowDidResignKey
    delegate to not order full screen window back whilst the full screen
    window was being hidden.  This caused other application windows to be
    hidden.  Also added code to keep hidden stage windows from being listed
    in the application's Windows menu.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=655311

 clutter/osx/clutter-stage-osx.c |    8 +++++++-
 clutter/osx/clutter-stage-osx.h |    3 ++-
 2 files changed, 9 insertions(+), 2 deletions(-)

commit 6f6b27fac5acb29ad619fc247f6d11d3d6ba309d
Author: Kirk A. Baker <kbaker@camerabits.com>
Date:   Mon Jul 25 15:02:46 2011 -0700

    osx: Add windowDidChangeScreen delegate
    
    Added -windowDidChangeScreen: delegate to handle condition where moving
    host window to a different screen would cause pick errors to be output.
    The delegate just causes the stage to be redrawn which re-creates the
    pick buffer.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=655306

 clutter/osx/clutter-stage-osx.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 7139ada80941754134ef5e201b7baa5e371cc710
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jul 29 13:17:11 2011 +0100

    model: Remove an unused variable

 clutter/clutter-model.c |    1 -
 1 file changed, 1 deletion(-)

commit a6bd11ac62951e1a6e78c44e2da05bd95404fef7
Author: Evan Nemerson <evan@coeus-group.com>
Date:   Wed Jul 27 00:14:10 2011 -0700

    introspection: add missing introspection data from Vala bindings
    
    https://bugzilla.gnome.org/show_bug.cgi?id=655387

 clutter/clutter-actor.c            |    3 ++-
 clutter/clutter-actor.h            |    2 +-
 clutter/clutter-behaviour-path.c   |    2 +-
 clutter/clutter-behaviour-rotate.c |    4 ++--
 clutter/clutter-behaviour.h        |    2 +-
 clutter/clutter-container.c        |    6 ++++--
 clutter/clutter-path.h             |    2 +-
 clutter/clutter-script.c           |    3 ++-
 clutter/clutter-stage.c            |    7 ++++---
 clutter/clutter-text.c             |    4 ++--
 10 files changed, 20 insertions(+), 15 deletions(-)

commit fe66575a2c0b5d423400b9223d0f2548f64cee10
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jul 29 11:48:13 2011 +0100

    docs: Update with the newly added Animatable symbol

 clutter/clutter-animatable.c               |   25 +++++++++++++++++++++++++
 doc/reference/clutter/clutter-sections.txt |    1 +
 2 files changed, 26 insertions(+)

commit f28c1d2d2a6bd90c494e860134195fcefcb78a6d
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jul 15 15:06:31 2011 +0100

    state: Use the Animatable interface
    
    The Animatable interface allows object classes to provide and animate
    properties outside of the usual GObject property introspection API.
    
    This change allows ClutterState to defer to the animatable objects the
    property introspection and animation, just like ClutterAnimation does.

 clutter/clutter-state.c        |   87 ++++++++++++++++++++++++++++++++++------
 tests/interactive/test-state.c |    4 ++
 2 files changed, 79 insertions(+), 12 deletions(-)

commit 8b03ec9d16832e3e25cef9f8a95e163c1a901112
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jul 15 14:31:12 2011 +0100

    actor: There is no need to implement animate_property()
    
    It's a deprecated virtual function, and its replacement does the right
    thing by default.

 clutter/clutter-actor.c |   17 -----------------
 1 file changed, 17 deletions(-)

commit 677df4497554ca1bbf1b461fe6eb5781d66a0581
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jul 15 14:30:39 2011 +0100

    animation: Use Animatable.interpolate_value()
    
    And stop using the deprecated animate_property() method.

 clutter/clutter-animation.c |   14 ++++----------
 1 file changed, 4 insertions(+), 10 deletions(-)

commit 8b861cea8fdc10231b9ed466e688d1b7abf48f2c
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jul 15 14:27:26 2011 +0100

    animatable: Deprecate and replace animate_property()
    
    The animate_property() method of the Animatable interface is far less
    than optimal:
    
      • it has a direct reference to ClutterAnimation;
      • it has an interval decomposed as two values.
    
    These issues tie the Animatable interface with the Animation object,
    even though it's neither necessary nor future-proof.
    
    Let's introduce a new method, interpolate_value(), which does not
    reference ClutterAnimation and uses a ClutterInterval to express the
    initial and final states.

 clutter/clutter-animatable.c |   62 ++++++++++++++++++++++++++++++++++++------
 clutter/clutter-animatable.h |   16 ++++++++++-
 2 files changed, 69 insertions(+), 9 deletions(-)

commit 473f3817d4a0c55b173bb74c6f6f34c09a90d951
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jul 29 11:29:51 2011 +0100

    model: Clean up ModelIter vfunc wrappers
    
    All ClutterModelIter virtual functions have a default implementation,
    and G_TYPE_INSTANCE_GET_CLASS cannot return NULL unless in case of a
    catastrophic event in the type system - which will most likely blow up
    any application code way before you could call a ModelIter method.
    
    Thus, the idiom:
    
      klass = CLUTTER_MODEL_ITER_GET_CLASS (instance);
      if (klass && klass->vfunc)
        klass->vfunc (instance);
    
    is utterly useless complication, and it can be perfectly replaced by:
    
      CLUTTER_MODEL_ITER_GET_CLASS (instance)->vfunc (instance);
    
    without any loss of safety.

 clutter/clutter-model.c |   94 ++++++++++++-----------------------------------
 1 file changed, 24 insertions(+), 70 deletions(-)

commit e470fd7d82502dbdc5084c08583d8764f95813f1
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Jul 28 15:00:18 2011 +0100

    model: Make sure to emit ::row-changed
    
    Currently, only clutter_model_iter_set_valist() is in charge of emitting
    the ClutterModel::row-changed signal. Both the set() and the
    set_valist() functions can be called with multiple columns, so we
    coalesce the signal emission at the end of the set_valist(), to have a
    single ::row-changed emission per change.
    
    The clutter_model_iter_set_value() function is just a thin wrapper
    around the set_value() virtual function, but since it's called
    internally we cannot add the signal emission there as well, as we'd
    break the signal coalescing.
    
    For this reason, we need some code refactoring inside the various set()
    variants of ClutterModelIter:
    
      - we only use the internal va_arg variant for both the set() and
        set_valist() public functions, to avoid multiple type checks;
      - the internal set_valist() calls an internal set_value() method
        which calls the virtual function from the iterator vtable;
      - a new internal emit_row_changed() method is needed to retrieve
        the ClutterModel from the iterator, and emit the signal;
    
    Now, all three variants of the value setter will call an internal
    ClutterModelIter::set_value() wrapper, and emit the ::row-changed
    signal.
    
    To check that the intended behaviour has been implemented, and it's not
    going to be broken, the test suite has grown a new unit which populates
    a model and changes a random row.

 clutter/clutter-model.c           |   60 +++++++++++++----------
 tests/conform/test-conform-main.c |    1 +
 tests/conform/test-model.c        |   95 +++++++++++++++++++++++++++++++++++++
 3 files changed, 132 insertions(+), 24 deletions(-)

commit 480d72d3e456cd0f511c89530e509a72848a8350
Author: Marek Černocký <marek@manet.cz>
Date:   Thu Jul 28 09:31:07 2011 +0200

    Updated Czech translation

 po/cs.po | 1116 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 567 insertions(+), 549 deletions(-)

commit 3e7ff362410760509e2b1351ad236ba797e5a6ad
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Wed Jul 27 20:34:39 2011 +0200

    Updated Spanish translation

 po/es.po | 1117 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 569 insertions(+), 548 deletions(-)

commit 110dff5823f56226103cdf5799a6a0b2d7ab3b9b
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Jul 27 11:48:07 2011 +0100

    test/cairo-clock: Remove a double source color set
    
    Do not call cairo_set_source_rgba() right after calling
    clutter_cairo_set_source_color().

 tests/interactive/test-cairo-clock.c |    1 -
 1 file changed, 1 deletion(-)

commit 468f121f59ad0c10eac7ed42fb339e2861edae59
Author: Alejandro Piñeiro <apinheiro@igalia.com>
Date:   Tue Jul 26 15:56:18 2011 +0200

    a11y: Use existing clutter_actor_get_paint_visibility
    
    Cally was initially created with Clutter 0.6 in mind. To check
    recursively the visibility of a actor a custom method was added.
    Since 0.8.4 clutter_actor_get_pain_visibility provides
    the same functionality.
    
    Also removed a dummy method. Lets add methods that provide a real
    functionality.

 clutter/cally/cally-actor.c |   56 ++++---------------------------------------
 1 file changed, 4 insertions(+), 52 deletions(-)

commit 7f8838d7cc9fe42ce694830cd07fa0ad0c1d27db
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jul 26 14:53:26 2011 +0100

    cairo-texture: Add the :auto-resize property
    
    Keeping the backing Cairo surface of a CairoTexture canvas in sync with
    the actor's allocation is tedious and prone to mistakes. We can
    definitely do better by simply exposing a property that does the surface
    resize and invalidation automagically on ::allocate.

 clutter/clutter-cairo-texture.c            |  120 +++++++++++++++++++++++++++-
 clutter/clutter-cairo-texture.h            |    3 +
 doc/reference/clutter/clutter-sections.txt |    2 +
 tests/interactive/test-cairo-clock.c       |    9 ++-
 4 files changed, 129 insertions(+), 5 deletions(-)

commit 301551aacfffcc37f43d0be05303e97461631ccc
Author: Philippe Normand <pnormand@igalia.com>
Date:   Mon Feb 7 11:59:19 2011 +0100

    tests: initial support for cally-text conform tests

 tests/conform/Makefile.am         |    5 +
 tests/conform/test-cally-text.c   |  338 +++++++++++++++++++++++++++++++++++++
 tests/conform/test-conform-main.c |    2 +
 3 files changed, 345 insertions(+)

commit fdba5692134371e03dfcedc96567e956eabd13ef
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jul 26 14:12:08 2011 +0100

    Post-release version bump to 1.7.7

 configure.ac       |    2 +-
 po/ca.po           | 1092 +++++++++++++++++++++++-----------------------
 po/ca@valencia.po  | 1092 +++++++++++++++++++++++-----------------------
 po/clutter-1.0.pot |  493 ++++++++++-----------
 po/cs.po           | 1099 +++++++++++++++++++++++-----------------------
 po/de.po           | 1101 +++++++++++++++++++++++-----------------------
 po/eo.po           |  491 +++++++++++----------
 po/es.po           | 1106 +++++++++++++++++++++++-----------------------
 po/fr.po           |  491 +++++++++++----------
 po/gl.po           |  499 ++++++++++-----------
 po/id.po           |  491 +++++++++++----------
 po/it.po           |  492 +++++++++++----------
 po/nb.po           | 1097 +++++++++++++++++++++++-----------------------
 po/nl.po           |  492 +++++++++++----------
 po/pa.po           |  491 +++++++++++----------
 po/pl.po           |  492 +++++++++++----------
 po/sl.po           | 1233 ++++++++++++++++++++++++++--------------------------
 po/sv.po           |  491 +++++++++++----------
 po/te.po           |  491 +++++++++++----------
 po/uk.po           |  492 +++++++++++----------
 po/zh_CN.po        |  491 +++++++++++----------
 po/zh_TW.po        |  492 +++++++++++----------
 22 files changed, 7398 insertions(+), 7313 deletions(-)

commit 0a008b98e7f72b9741ddbc3e2773153dafe302a1
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jul 26 13:18:43 2011 +0100

    Release Clutter 1.7.6 (snapshot)

 NEWS         |   71 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 README.in    |   13 +++++++++++
 configure.ac |    2 +-
 3 files changed, 85 insertions(+), 1 deletion(-)

commit 0f8e3ab4aa5980634d8c0b3c97830b31a3b34a67
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jul 26 13:55:01 2011 +0100

    bin-layout: Fix a leak
    
    https://bugzilla.gnome.org/show_bug.cgi?id=655342

 clutter/clutter-bin-layout.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 78049c38bf1839b9982059540501a9e3ef5e0c81
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jul 26 13:43:37 2011 +0100

    docs: Fixes for building the API reference

 clutter/clutter-actor.c          |    6 +++---
 clutter/clutter-animation.c      |    6 +++---
 clutter/clutter-animator.c       |    2 +-
 clutter/clutter-box.c            |    8 ++++----
 clutter/clutter-cairo-texture.c  |    2 +-
 clutter/clutter-cairo-texture.h  |    1 +
 clutter/clutter-container.c      |    4 ++--
 clutter/clutter-interval.c       |    6 +++---
 clutter/clutter-layout-manager.c |    4 ++--
 clutter/clutter-list-model.c     |    2 +-
 clutter/clutter-model.c          |   10 +++++-----
 clutter/clutter-paint-volume.c   |   27 ++++++++++++---------------
 clutter/clutter-script.c         |    2 +-
 clutter/clutter-shader-effect.c  |    2 +-
 clutter/clutter-state.c          |    2 +-
 15 files changed, 41 insertions(+), 43 deletions(-)

commit 278daca61cbeaffbf5515f7d105ff168b33a3be1
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jul 26 12:53:22 2011 +0100

    cairo-texture: Deprecate create()/create_region()
    
    The recommended way of drawing on a ClutterCairoTexture is the ::draw
    signal.

 clutter/clutter-cairo-texture.c            |    8 ++++
 clutter/clutter-cairo-texture.h            |    2 +
 tests/conform/test-clutter-cairo-texture.c |    1 +
 tests/interactive/test-bin-layout.c        |   21 +++++-----
 tests/interactive/test-cairo-flowers.c     |    1 +
 tests/interactive/test-easing.c            |   60 +++++++++++++++++-----------
 6 files changed, 59 insertions(+), 34 deletions(-)

commit 2f445682b1f0f717bc10447a937951798df15309
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jul 26 12:40:52 2011 +0100

    cairo-texture: Use signal-based drawing
    
    The current "create context/draw/destroy context" pattern presents
    various problems. The first issue is that it defers memory management to
    the caller of the create() or create_region() methods, which makes
    bookkeeping of the cairo_t* harder for language bindings and third party
    libraries. The second issue is that, while it's easier for
    draw-and-forget texturs, this API is needlessly complicated for contents
    that have to change programmatically - and it introduces constraints
    like calling the drawing code explicitly after a surface resize (e.g.
    inside an allocate() implementation).
    
    By using a signal-based approach we can make the CairoTexture actor
    behave like other actors, and like other libraries using Cairo as their
    2D drawing API.
    
    The semantics of the newly-introduced ::draw signal are the same as the
    one used by GTK+:
    
      - the signal is emitted on invalidation;
      - the cairo_t* context is owned by the actor;
      - it is safe to have multiple callbacks attached to the same
        signal, to allow composition;
      - the cairo_t* is already clipped to the invalidated area, so
        that Cairo can discard geometry immediately before we upload
        the texture data.
    
    There are possible future improvements, like coalescing multiple
    invalidations inside regions, and performing clipped draws during
    the paint cycle; we could even perform clipped redraws if we know the
    extent of the invalidated area.

 clutter/clutter-cairo-texture.c            |  489 ++++++++++++++++++++--------
 clutter/clutter-cairo-texture.h            |   51 +--
 doc/reference/clutter/clutter-sections.txt |    4 +
 tests/interactive/Makefile.am              |    1 +
 tests/interactive/test-cairo-clock.c       |  107 ++++++
 5 files changed, 501 insertions(+), 151 deletions(-)

commit dcad27120ed8387ade8791bee3dbb4bebe43fa97
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jul 25 11:07:18 2011 +0100

    conform/cogl-materials: Fix a compiler warning
    
    The function checking for the presence and use of the GLES2 support in
    Cogl should be protected by #ifdef guards, to avoid a compiler warning.

 tests/conform/test-cogl-materials.c |    2 ++
 1 file changed, 2 insertions(+)

commit 772ce1d561d0efde2a836ae7f01314aabf681b03
Author: Gil Forcada <gforcada@gnome.org>
Date:   Sat Jul 23 19:06:37 2011 +0200

    [l10n]Added Catalan (Valencian) translation

 po/ca@valencia.po | 2195 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2195 insertions(+)

commit a14e47ee8741c72f0e0b407a7555e56873d2bb98
Author: Gil Forcada <gforcada@gnome.org>
Date:   Sat Jul 23 19:06:26 2011 +0200

    [l10n]Added Catalan translation

 po/ca.po | 2196 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2196 insertions(+)

commit cf44b73f14065e47277c39bf3b11c0a712c5746f
Author: Marek Černocký <marek@manet.cz>
Date:   Thu Jul 21 07:13:27 2011 +0200

    Updated Czech translation

 po/cs.po | 1117 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 571 insertions(+), 546 deletions(-)

commit 55ac8e08466d10d2dc89e3d502d3c9e5043c2458
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Wed Jul 20 22:21:35 2011 +0200

    Updated Spanish translation

 po/es.po |  495 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 255 insertions(+), 240 deletions(-)

commit c89de4324e2f9581c4825183c155862148dd7061
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jul 19 14:32:13 2011 +0100

    docs: Remove manual/
    
    The programmers manual never materialized, and its role has been taken
    by both the cookbook and the API reference.

 .gitignore                           |    4 --
 configure.ac                         |    2 -
 doc/Makefile.am                      |    2 +-
 doc/manual/Makefile.am               |   76 --------------------------
 doc/manual/clutter-manual.xml.in     |   98 ----------------------------------
 doc/manual/images/clutter-header.png |  Bin 7715 -> 0 bytes
 doc/manual/manual.xsl                |   14 -----
 doc/manual/style.css                 |   97 ---------------------------------
 8 files changed, 1 insertion(+), 292 deletions(-)

commit b19106793bdf9f531bda9dac0850066deb8d0f67
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Tue Jul 19 22:26:03 2011 +0200

    Updated Slovenian translation

 po/sl.po | 1251 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 637 insertions(+), 614 deletions(-)

commit cbe1e8321bece8f31e1def9c9570e7efbb047387
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Jul 13 14:10:47 2011 +0100

    tests: Dynamically resolve GL symbols
    
    Some of the tests are making direct GL calls. Eventually we want
    Clutter not to link directly against any GL library so that it can
    leave Cogl to load it dynamically. As a step towards getting this to
    work this patch changes the tests to resolve the symbols using
    cogl_get_proc_address instead of linking directly.

 tests/conform/test-cogl-materials.c         |   12 ++++--
 tests/conform/test-cogl-texture-rectangle.c |   58 +++++++++++++++------------
 tests/conform/test-conform-common.c         |   24 +++++++++++
 tests/conform/test-conform-common.h         |   19 +++++++++
 tests/interactive/test-cogl-tex-foreign.c   |   49 +++++++++++++++++-----
 5 files changed, 121 insertions(+), 41 deletions(-)

commit 5cc5e566e6da0cc5d7761f20b158e8aff7c60a49
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jul 19 14:11:11 2011 +0100

    docs: Add fixed size and constraints to the size negotiation docs

 doc/size-negotiation.txt |   13 +++++++++++++
 1 file changed, 13 insertions(+)

commit e1327f5591287fee58d8818564984ea01e95ca87
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jul 19 14:03:02 2011 +0100

    actor: Clean up the allocate() checks
    
    Move the conditions to their own boolean flags, to avoid making the
    if() incomprehensible.

 clutter/clutter-actor.c |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 48a2b3a654a1955308ac26cfd92240d9eae7975d
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jul 19 14:02:59 2011 +0100

    docs: Rename the invariants documentation

 doc/actor-invariants.txt         |  301 ++++++++++++++++++++++++++++++++++++++
 doc/clutter-actor-invariants.txt |  301 --------------------------------------
 2 files changed, 301 insertions(+), 301 deletions(-)

commit c1951ab17ab88622c7850c2662392f60a7776b01
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jul 19 14:01:30 2011 +0100

    docs: Add a simple description of the size negotiation mechanism
    
    Describe (with an example) the ordering and meaning of flags for the
    size negotiation in ClutterActor.

 doc/size-negotiation.txt |   85 ++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 85 insertions(+)

commit 123bd41e6cf3cdcf240af7c6a7b79af73f42823a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jul 18 16:10:17 2011 +0100

    texture: Clean up error reporting
    
    ClutterTexture relies too much on GError, even for things that are
    clearly programmer errors. Also, no error message passed to GError
    is marked for translation as it should.
    
    We should move the programmer errors, like passing the wrong bpp
    value with regards to the presence of the alpha channel, to real
    warnings; we should also try and harmonize all the error messages,
    and not mention Cogl — especially in the ones marked for translation.

 clutter/clutter-texture.c |  130 ++++++++++++++++++++-------------------------
 1 file changed, 59 insertions(+), 71 deletions(-)

commit 672bc337ba9e5755df975ff6ee332259737e89c7
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Jul 18 16:39:43 2011 +0100

    build: don't explicitly include and egl or gl headers
    
    This avoids explicitly including gl or egl headers in
    clutter-egl-headers.h. We were getting build failures when building
    clutter against a libcogl that has runtime support for GL and GLES
    because cogl-defines.h was including gl.h and then clutter-egl-headers.h
    was later including GLES2/gl.h with typedef conflicts. Clutter relies on
    Cogl to abstract GL and GLES and the winsys APIs like EGL and GLX so
    Clutter should just rely on cogl.h to include the appropriate egl.h in
    clutter-egl-headers.h.
    
    Reviewed-by: Emmanuele Bassi <ebassi@linux.intel.com>
    Reviewed-by: Neil Roberts <neil@linux.intel.com>

 clutter/cogl/clutter-egl-headers.h |   22 +++-------------------
 1 file changed, 3 insertions(+), 19 deletions(-)

commit 90aa7b94468078a4fb40ba4dae821d8ecfeefa4e
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   Mon Jul 18 16:35:11 2011 +0200

    Updated Norwegian bokmål translation

 po/nb.po | 1292 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 648 insertions(+), 644 deletions(-)

commit a4b9eaf3ec3926565c1e20dee617788615943b88
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jul 16 11:07:24 2011 +0100

    alpha: Don't use the GClosure to compute the alpha when possible
    
    Setting up the call and calling the GClosure was showing up in profiles
    and seemed an easy one to remove.
    
    Instead of calling the closure, let's remember the alpha func and the
    user_data when possible (ie set_mode() and set_func()) and use it in
    get_alpha().
    
    https://bugzilla.gnome.org/show_bug.cgi?id=654727

 clutter/clutter-alpha.c |   66 +++++++++++++++++++++++++++++++++++------------
 1 file changed, 50 insertions(+), 16 deletions(-)

commit 4d58534fbb49be6c39017df1d4a32a9184e28f68
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Jul 12 17:32:26 2011 +0100

    text: Fix the default value of "editable"
    
    The "editable" property is documented to default to TRUE, but is
    initialized to FALSE in the _init() function.
    
    Third party code would be affected if we changed the default to be
    TRUE, so we have to change the default value in the GParamSpec.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=654726

 clutter/clutter-text.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e25e48efb3c17db428fc92426649a3f7a732456e
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jul 18 13:51:17 2011 +0100

    Do not use return with void functions
    
    https://bugzilla.gnome.org/show_bug.cgi?id=654718

 clutter/clutter-main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1402c0511239ede27855a836fd9ca9cc8dbf969d
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jul 18 13:45:55 2011 +0100

    timeline: Cast elapsed time before emitting ::new-frame
    
    When emitting a new-frame signal, priv->elapsed_time is passed as a
    parameter. This is a gint64. The closure marshal uses an INT. On some
    platforms, this is not received correctly by signal handlers (they
    receive 0). One solution is to cast priv->elapsed_time to a gint when
    emitting the signal.
    
    We cannot change the signature of the signal without breaking ABI.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=654066

 clutter/clutter-timeline.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit c9cbe58343d4202e40d8ffd898712effca08381e
Author: Bastian Winkler <buz@netbuz.org>
Date:   Tue Jul 5 17:31:41 2011 +0200

    snap-constraint: Fix allocation for CLUTTER_SNAP_EDGE_RIGHT
    
    Use source_with instead of source_height to calculate the the x1/x2
    positions for CLUTTER_SNAP_EDGE_RIGHT
    
    https://bugzilla.gnome.org/show_bug.cgi?id=654024

 clutter/clutter-snap-constraint.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f1f5d7658f64adc527e1a202b13307f90258271f
Author: Christian Kirbach <Christian.Kirbach@googlemail.com>
Date:   Mon Jul 18 00:38:55 2011 +0200

    [l10n] Updated German translation

 po/de.po |  316 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 164 insertions(+), 152 deletions(-)

commit ac859baf7b50a88c731a978b7f7046ccfb9a8d66
Author: Mario Blättermann <mariobl@gnome.org>
Date:   Fri Jul 15 21:21:54 2011 +0200

    [l10n] Updated German translation

 po/de.po | 1189 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 592 insertions(+), 597 deletions(-)

commit bc1c3e003d745dbaa95ecd161b83df0881e18cc6
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jul 15 16:03:00 2011 +0100

    x11/event: Avoid compiler warnings with HAVE_XGE undefined

 clutter/x11/clutter-event-x11.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 2dc69dc63d4e6fee068a918629f406a241ec9716
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jul 15 16:02:19 2011 +0100

    build: Escape AC_DEFINE arguments

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 538559391ca340d014796c812f860d509c1ed4cd
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jul 15 15:53:55 2011 +0100

    actor: Plug a leak in an error path
    
    If the meta for the animation property is not found, the name of the
    property to look for is still from the token, and we need to free the
    memory allocated for it.

 clutter/clutter-actor.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 075a4ed86c468b9f1bcb7d864ea678df25e7438b
Author: Carlos Garnacho <carlosg@gnome.org>
Date:   Thu Jul 14 21:58:25 2011 +0200

    x11: Improve XGenericEventCookie data allocation
    
    https://bugzilla.gnome.org/show_bug.cgi?id=654656
    
    Clutter may be used together with GTK+, which indirectly may use
    XInput2 too, so the cookie data must persist when both are handling
    events.
    
    What happens now in a nutshell is, Clutter is only guaranteed to allocate
    the cookie itself after XNextEvent(), and only frees the cookie if its
    XGetEventData() call allocated the cookie data.
    
    The X[Get|Free]EventData() calls happen now in clutter-event-x11.c as
    hypothetically different event translators could also handle other set
    of X Generic Events, or other libraries handling events for that matter.

 clutter/x11/clutter-device-manager-xi2.c |   18 +++++-------------
 clutter/x11/clutter-event-x11.c          |   23 +++++++++++++++++++++++
 configure.ac                             |   18 ++++++++++++++++++
 3 files changed, 46 insertions(+), 13 deletions(-)

commit c6a0427c69294e765728bdac4dc11b73fda55b12
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Jul 12 17:04:15 2011 +0100

    pick: Use Cogl API not GL API to disable dithering
    
    When picking we need to disable dithering to be sure that the hardware
    will not modify the colors we use as actor identifiers. Clutter was
    manually calling glEnable/Disable GL_DITHER to handle this, but that was
    a layering violation since Cogl is intended to handle all interactions
    with OpenGL. Since we are now striving for GL vs GLES to be a runtime
    choice we need to remove this last direct usage of GL from Clutter so it
    doesn't have to be linked with GL at build time.
    
    Signed-off-by: Neil Roberts <neil@linux.intel.com>

 clutter/clutter-stage.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 3183240fef315bb8be2391eac7b714520da88bd6
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Jul 12 01:11:51 2011 +0100

    Provide stable paint-boxes for fixed sized actors
    
    This updates _clutter_paint_volume_get_stage_paint_box to try and
    calculate more stable paint-box sizes for fixed sized paint-volumes by
    not basing the size on the volume's sub-pixel position.
    
    So the aim is that for a given rectangle defined with floating point
    coordinates we want to determine a stable quantized size in pixels that
    doesn't vary due to the original box's sub-pixel position.
    
    The reason this is important is because effects will use this API to
    determine the size of offscreen framebuffers and so for a fixed-size
    object that may be animated across the screen we want to make sure that
    the stage paint-box has an equally stable size so that effects aren't
    made to continuously re-allocate a corresponding fbo.
    
    The other thing we consider is that the calculation of this box is
    subject to floating point precision issues that might be slightly
    different to the precision issues involved with actually painting the
    actor, which might result in painting slightly leaking outside the
    user's calculated paint-volume. This patch now adds padding to consider
    this too.
    
    Signed-off-by: Neil Roberts <neil@linux.intel.com>
    Signed-off-by: Emmanuele Bassi <ebassi@linux.intel.com>

 clutter/clutter-paint-volume.c |   49 +++++++++++++++++++++++++++++++++++++++-
 1 file changed, 48 insertions(+), 1 deletion(-)

commit df751a8a255dbca77779fd361d990cfd6d4f5095
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Jul 12 01:06:28 2011 +0100

    actor: improve rounding in get_allocation_geometry
    
    Instead of relying on C to round the floating point allocation to
    integers by flooring the values we now use CLUTTER_NEARBYINT to round
    the allocation's position and size to the nearest integers instead. Using
    floor leads to rather unstable rounding for the width and height when
    there may be tiny fluctuations in the floating point width/height.
    
    Signed-off-by: Neil Roberts <neil@linux.intel.com>
    Signed-off-by: Emmanuele Bassi <ebassi@linux.intel.com>

 clutter/clutter-actor.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 32487af55b72e5a1be34176bc462ff11d8d378fc
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Jul 12 01:02:43 2011 +0100

    Adds a CLUTTER_NEARBYINT macro for float rounding
    
    This is a replacement for the nearbyint function which always rounds to
    the nearest integer. nearbyint is a C99 function so it might not always
    be available but also it seems in glibc it is defined as a function call
    so this macro could end up faster anyway. We can't just add 0.5 because
    it will break for negative numbers.
    
    Signed-off-by: Neil Roberts <neil@linux.intel.com>
    Signed-off-by: Emmanuele Bassi <ebassi@linux.intel.com>

 clutter/clutter-private.h |    7 +++++++
 1 file changed, 7 insertions(+)

commit ad234b303ca557c5f9bc34e0f4dfb0b3b619c865
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Jul 12 00:44:47 2011 +0100

    paint-volume: don't round paint-volume from allocation
    
    The implementation of _clutter_actor_set_default_paint_volume which
    simply uses the actor's allocation to determine a paint-volume was
    needlessly using the allocation rounded to integers by internally using
    clutter_actor_get_allocation_geometry instead of
    clutter_actor_get_allocation_box. This was introducing a lot of
    instability into the paint-volume due to the way rounding was done.
    
    The code has now been updated to use clutter_actor_get_allocation_box
    so we are dealing with the floating point allocation instead.
    
    Signed-off-by: Neil Roberts <neil@linux.intel.com>
    Signed-off-by: Emmanuele Bassi <ebassi@linux.intel.com>

 clutter/clutter-paint-volume.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 01cf70594dd29f7c80c73b0b89ca1d044777d04c
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   Thu Jul 14 13:11:12 2011 +0200

    Make sure the gesture is cancelled even if we miss the release event

 clutter/clutter-gesture-action.c |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 439c7e6ee71947558756d8c13c0cf8103203a7a1
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   Thu Jul 14 11:45:37 2011 +0200

    Remove unneeded class closure

 clutter/clutter-gesture-action.c |    1 -
 1 file changed, 1 deletion(-)

commit 18b3da95efa6d918eacade7e7f73f6979f201266
Author: Emmanuele Bassi <ebassi@gnome.org>
Date:   Wed Jul 13 19:32:47 2011 +0100

    osx: Code style cleanups

 clutter/osx/clutter-backend-osx.c |   11 +++++-----
 clutter/osx/clutter-stage-osx.c   |   42 ++++++++++++++++++++++++++++---------
 2 files changed, 38 insertions(+), 15 deletions(-)

commit c8e3db105c7340e4a470dd46147712b95e90e76a
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   Wed Jul 13 18:31:22 2011 +0200

    Add default closures for the signals in ClutterGestureAction
    
    Also make sure we cancel the gesture as soon as we know we have to

 clutter/clutter-gesture-action.c |   21 +++++++++++++++++++--
 1 file changed, 19 insertions(+), 2 deletions(-)

commit 48426c28bf8b0f88f31cc24b0c9f0d960b818637
Author: Dinh Bowman <dinh@vagueindustries.com>
Date:   Wed Jul 6 08:54:41 2011 -0700

    Fixed typo of bidng to bind
    
    https://bugzilla.gnome.org/show_bug.cgi?id=654103

 clutter/clutter-bind-constraint.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f45b12dac40d9f7500840877c7ec38292873c8cf
Author: Emmanuele Bassi <ebassi@gnome.org>
Date:   Wed Jul 13 14:49:55 2011 +0100

    build: Unescape conditionally defined defaults in AS_HELP_STRING
    
    AS_HELP_STRING() escapes everything, so m4 doesn't have a chance to run
    expansions.

 configure.ac |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ab89f9b9e820a5d81d9f392f852397906d6098b9
Author: Emmanuele Bassi <ebassi@gnome.org>
Date:   Wed Jul 13 14:20:47 2011 +0100

    build: Detect the appropriate default flavour
    
    If we're building on/for Windows, set 'win32' as the default flavour; if
    we're building on OS X, set 'osx' as the default flavour. For everything
    else, use 'glx'.

 configure.ac |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 9a3b97b55ea7a97f15d53b5797f3a4ffb84975b8
Author: Emmanuele Bassi <ebassi@gnome.org>
Date:   Wed Jul 13 14:26:05 2011 +0100

    Revert "build: Detect the appropriate default flavour"
    
    Ouch, butterfingers and git commit -a.
    
    This reverts commit 81e8c8dec902e1e3b6277ebad5804f2321535332.

 clutter/clutter-actor.c |    8 --------
 clutter/clutter-actor.h |   16 +++-------------
 configure.ac            |    8 +-------
 3 files changed, 4 insertions(+), 28 deletions(-)

commit d67bc235a466bd1f5779bcfac6a8fd2cedd468e6
Author: Emmanuele Bassi <ebassi@gnome.org>
Date:   Wed Jul 13 14:22:14 2011 +0100

    build: The OSX backend is not experimental any more
    
    The OSX backend is actively developed, and tested, so we can drop the
    experimental flag.

 configure.ac |    1 -
 1 file changed, 1 deletion(-)

commit 81e8c8dec902e1e3b6277ebad5804f2321535332
Author: Emmanuele Bassi <ebassi@gnome.org>
Date:   Wed Jul 13 14:20:47 2011 +0100

    build: Detect the appropriate default flavour
    
    If we're building on/for Windows, set 'win32' as the default flavour; if
    we're building on OS X, set 'osx' as the default flavour. For everything
    else, use 'glx'.

 clutter/clutter-actor.c |    8 ++++++++
 clutter/clutter-actor.h |   16 +++++++++++++---
 configure.ac            |    8 +++++++-
 3 files changed, 28 insertions(+), 4 deletions(-)

commit a72237b8761d3c760922703e981a1234abf4a6fe
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Jul 12 17:16:43 2011 +0100

    clutter-stage: Add clutter_stage_get_redraw_clip_bounds
    
    This adds a public function to get the bounds of the current clipped
    redraw on a stage. This should only be called while the stage is being
    painted. The function diverts to a virtual function on the
    ClutterStageWindow implementation. If the function isn't implemented
    or it returns FALSE then the entire stage is reported. The clip bounds
    are in integer pixel coordinates in the stage's coordinate space.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2421

 clutter/clutter-stage-window.c             |   15 ++++++++++
 clutter/clutter-stage-window.h             |    6 ++++
 clutter/clutter-stage.c                    |   41 ++++++++++++++++++++++++++++
 clutter/clutter-stage.h                    |    4 +++
 clutter/cogl/clutter-stage-cogl.c          |   25 +++++++++++++++++
 clutter/cogl/clutter-stage-cogl.h          |    4 +++
 doc/reference/clutter/clutter-sections.txt |    1 +
 7 files changed, 96 insertions(+)

commit 25a7435a866385aa19a4417957d5b9cdc3bd69ac
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jul 11 02:03:57 2011 +0100

    uprof: Add the units in the name of the "Per Frame" timer attribute
    
    So it shows up in the profile report. Take the opportunity to write a
    better long description for the attribute.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=654363

 clutter/clutter-profile.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fa336ab57f526a3274c51a25dddaadca91b21122
Author: Neil Roberts <neil@linux.intel.com>
Date:   Mon Jul 11 16:42:03 2011 +0100

    test-cogl-materials: Use glGetString to determine cogl driver
    
    Rather than using the #ifdefs and assuming that only one Cogl driver
    is compiled in (which is no longer true), the test now calls
    glGetString to check the GL_VERSION. This is kind of a hack but the
    test is already calling GL functions directly anyway.

 tests/conform/test-cogl-materials.c |   45 +++++++++++++++++++++++------------
 1 file changed, 30 insertions(+), 15 deletions(-)

commit 2bb4c2c6cb8afee99c0ebfdb9808a8d175fa4503
Author: Neil Roberts <neil@linux.intel.com>
Date:   Mon Jul 11 16:32:10 2011 +0100

    test-cogl-materials: Remove a redundant comment
    
    test-cogl-materials had a weird comment about glReadPixels using
    inverted coordinates but the test now uses cogl_read_pixels instead of
    glReadPixels so it is irrelevant.

 tests/conform/test-cogl-materials.c |    1 -
 1 file changed, 1 deletion(-)

commit ab6be41ea043065424cb494ec80d4242812e2488
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Jul 4 15:12:20 2011 +0100

    build: update cogl_onscreen_x11 syms to cogl_x11_onscreen
    
    Cogl recently renamed symbols with the form
    cogl_onscreen_<platform>_blah to be consistent with other platform
    specific APIs so they are now named like cogl_<platform>_onscreen_blah.
    This makes the corresponding change to clutter.

 clutter/cogl/clutter-stage-cogl.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d182d5a1714be65004e6c68c347a7f45deaf47d8
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Jul 1 01:50:30 2011 +0100

    backend-cogl: update _get_egl_context symbol name
    
    Cogl changed has changed the name of cogl_context_egl_get_egl_context to
    cogl_egl_context_get_egl_context to be consistent with other platform
    specific symbols.

 clutter/cogl/clutter-backend-cogl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 71d0872b76ec6678f03fddf4731f394eaa06ba9f
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Jul 1 01:44:13 2011 +0100

    don't call cogl_set_default_context since it's been removed
    
    cogl_set_default_context has been removed from Cogl so this updates
    Clutter in-line with that change.

 clutter/cogl/clutter-backend-cogl.c   |    4 ----
 clutter/win32/clutter-backend-win32.c |    4 ----
 2 files changed, 8 deletions(-)

commit 62ae252c59ba83723a2ed3b309ea63868fb91857
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Jul 11 16:57:29 2011 +0100

    build: depend on cogl-1.7.3 development version
    
    Since some experimental API in Cogl that Clutter uses has changed this
    bumps our dependency up to 1.7.3 before landing the corresponding build
    fixes for clutter to bring it in line with the Cogl changes.

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c17ddfd6a94fa3918a3d73cb0635fa874ee82295
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jul 11 01:42:59 2011 +0100

    uprof: Rename timers to remove the EGL specific bits
    
    Cogl abstracts the winsys, Remove the egl prefix from the timer names.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=654361

 clutter/cogl/clutter-stage-cogl.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a9ef7dd81247b151072f76a719c4fde9853039f7
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   Sun Jul 10 14:37:18 2011 +0200

    Updated POTFILES.in

 po/POTFILES.in |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 5d10a7141ca6557049aff1d4a513953f06fe0d54
Author: Emmanuele Bassi <ebassi@gnome.org>
Date:   Sun Jul 10 10:24:40 2011 +0100

    text: Make sure that the selection box is big enough
    
    Do not use integers to store the result of the PANGO_UNITS scaling to
    avoid rounding issues with the default C rules. We should use cielf()
    instead.

 clutter/clutter-text.c |   34 +++++++++++++++++-----------------
 1 file changed, 17 insertions(+), 17 deletions(-)

commit f6cdeb985812e13174c85cf04bc4a782e2d1939d
Author: Emmanuele Bassi <ebassi@gnome.org>
Date:   Sun Jul 10 10:12:08 2011 +0100

    osx: Fix a compiler warning
    
    No declaration after statement.

 clutter/osx/clutter-event-osx.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 73b043630d20ff46edb3a288d1da917680ae61e9
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jul 8 12:12:43 2011 +0100

    conform/pick: Print debug spew only if verbosity is toggled

 tests/conform/test-pick.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 96440acffec37d11717a98dc140219a36cf39483
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jul 8 12:08:19 2011 +0100

    texture: Deprecate the new_from_actor() function
    
    Now that we have proper offscreen and shader handling using the
    ClutterEffect API, we can finally deprecate this hard to bind, easy
    to break function.

 clutter/clutter-texture.c        |    4 ++++
 clutter/clutter-texture.h        |    4 ++++
 tests/conform/test-texture-fbo.c |    1 +
 tests/interactive/test-fbo.c     |    1 +
 4 files changed, 10 insertions(+)

commit e677ebc3e83132da67e8cbdbc3ac9fab87c1cea8
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jul 8 12:01:08 2011 +0100

    Deprecate ClutterScore
    
    The class is of dubious utility, now that we have a complex animation
    API in ClutterAnimator and ClutterState, as opposed to a simple one
    in ClutterBehaviour. The Score API also suffers from some naïve design
    issues that made it far less useful than intended.

 clutter/clutter-score.c    |    3 +++
 clutter/clutter-score.h    |    4 ++++
 tests/conform/test-score.c |    2 ++
 3 files changed, 9 insertions(+)

commit 7115c54fda8c87f61dc7c24420e531a519281016
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Jul 6 12:43:29 2011 +0100

    test-cogl-materials: Add a simple test for ref-counting copies
    
    This adds a simple test which creates a material and a copy of
    it. Both materials are then immediately unref'd. The test checks
    whether the materials were actually freed by registering some user
    data with a destroy callback. This should catch a bug that Cogl had
    where it add an extra reference to the parent when a pipeline is
    copied.
    
    Signed-off-by: Robert Bragg <robert@linux.intel.com>

 tests/conform/test-cogl-materials.c |   47 +++++++++++++++++++++++++++++++++++
 1 file changed, 47 insertions(+)

commit eb28d16300d5f86f64a2c595f59d7de3469d7704
Author: Philippe Normand <pnormand@igalia.com>
Date:   Wed Feb 2 12:58:47 2011 +0100

    a11y: cally-text get_offset_at_point implementation
    
    See http://bugzilla.clutter-project.org/show_bug.cgi?id=1733

 clutter/cally/cally-text.c                  |   83 ++++++++++++++++++++++++++-
 tests/accessibility/cally-atktext-example.c |    6 ++
 2 files changed, 88 insertions(+), 1 deletion(-)

commit 7565fcaab04855fc2cb197c86f41b6e39409ae88
Author: Philippe Normand <pnormand@igalia.com>
Date:   Wed Feb 2 11:29:33 2011 +0100

    a11y: cally-text get_character_extents implementation
    
    See http://bugzilla.clutter-project.org/show_bug.cgi?id=1733

 clutter/cally/cally-text.c                  |   79 ++++++++++++++++++++++++++-
 tests/accessibility/cally-atktext-example.c |   13 ++++-
 2 files changed, 90 insertions(+), 2 deletions(-)

commit 61ea64c8c174bf5dc74058c701f1d3f83a7601cf
Author: Philippe Normand <pnormand@igalia.com>
Date:   Wed Feb 2 15:02:45 2011 +0100

    a11y: expose _cally_actor_get_top_level_origin in cally-actor-private
    
    As this function is needed for atktext get_character_extents and
    get_offset_at_point implementations.

 clutter/cally/cally-actor-private.h |    4 ++++
 clutter/cally/cally-actor.c         |   25 ++++++++++++++-----------
 2 files changed, 18 insertions(+), 11 deletions(-)

commit ae0aa9e4cf6d19a857af042b498455d3bbbdc092
Author: Philippe Normand <pnormand@igalia.com>
Date:   Wed Jul 6 16:51:49 2011 +0200

    a11y: get_default_attributes implementation on cally-text
    
    See http://bugzilla.clutter-project.org/show_bug.cgi?id=1733

 clutter/cally/cally-text.c                  |  201 ++++++++++++++++++++++++++-
 tests/accessibility/cally-atktext-example.c |   32 ++++-
 2 files changed, 231 insertions(+), 2 deletions(-)

commit 6812ed7d3aaee6c6d5b7498478eb32cecb3c5df0
Author: Philippe Normand <pnormand@igalia.com>
Date:   Fri Feb 4 09:36:19 2011 +0100

    a11y: cally-atktext-example cleanups
    
    Added an early return in test_atk_text().
    Fixed a unichar conversion
    Print the run_attributes too.

 tests/accessibility/cally-atktext-example.c |  109 ++++++++++++++-------------
 1 file changed, 58 insertions(+), 51 deletions(-)

commit 11efaf829771736ce31837d10a715640ef7d5054
Author: Philippe Normand <pnormand@igalia.com>
Date:   Fri Feb 4 10:20:23 2011 +0100

    a11y: use actor color if no fgcolor found in pango attributes

 clutter/cally/cally-text.c |   78 +++++++++++++++++++++++++++++---------------
 1 file changed, 52 insertions(+), 26 deletions(-)

commit 49d43174208421141aa967380c042b1703b53c57
Author: Philippe Normand <pnormand@igalia.com>
Date:   Wed Feb 2 15:34:40 2011 +0100

    a11y: factor some PangoAttributes->AtkTextAttributes mappings
    
    That code can then be used by get_run_attributes and
    get_default_attributes implementations.

 clutter/cally/cally-text.c |  154 ++++++++++++++++++++++++++++----------------
 1 file changed, 98 insertions(+), 56 deletions(-)

commit 7e9ee85c7d23ed6d2ae5f69a91d26b34f0f523df
Author: Alejandro Piñeiro <apinheiro@igalia.com>
Date:   Wed Jul 6 14:25:02 2011 +0200

    [a11y] Exposing via ATK the proper toolkit name and version

 clutter/cally/cally-actor.c |   18 ++++++++++++++++++
 clutter/cally/cally-util.c  |    9 ++-------
 2 files changed, 20 insertions(+), 7 deletions(-)

commit bd3762b7199bf8bc373fb245823e0bb8c730b913
Author: Neil Roberts <neil@linux.intel.com>
Date:   Mon Jul 4 18:23:32 2011 +0100

    clutter-actor: Don't apply shaders during picking
    
    Commit 0ede622f5132 inadvertently made it so that shaders are applied
    during picking. This was making test-shader fail to respond to clicks.
    
    The commit also makes it so that culling is applied during
    picking. Presumably this is also unintentional because the commit
    message does not mention it. However I think it may make sense to do
    culling during picking so it might as well stay that way.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=653959

 clutter/clutter-actor.c |   13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit 805d27fb0de01f99eb991f5f81ef92109477da97
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jul 4 22:28:30 2011 +0100

    Post-release version bump to 1.7.5

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 79f21a9b50b4d2bd86fe604e3a400aa1d32904ab
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jul 4 18:31:02 2011 +0100

    Release Clutter 1.7.4 (snapshot)

 NEWS         |   62 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 configure.ac |    2 +-
 2 files changed, 63 insertions(+), 1 deletion(-)

commit 2fc8fa82f07fd6f927c58f02af8f8a5b545b57b8
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jul 4 22:12:51 2011 +0100

    build: Fix up the tarball target used when releasing

 build/autotools/Makefile.am.release |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c1e113c89a50d7f8e6ff3527ceb86592d4b2f4a2
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jul 4 17:19:24 2011 +0100

    build: Clean up the cally test Makefile.am
    
    Use global target variables to avoid copy/pasting the same values in
    every single binary target.

 tests/accessibility/Makefile.am |   90 +++++++++++++--------------------------
 1 file changed, 29 insertions(+), 61 deletions(-)

commit aa05b66a018b7b7bc9349aed30d24e7cf012b34b
Author: Øyvind Kolås <pippin@linux.intel.com>
Date:   Wed Jan 19 11:38:25 2011 +0000

    tests: Add performance tracking framework
    
    This adds a performance tracking framework that can run a set of tests over
    specified git revisions. The ruby script for generating the reports comes from
    similar performance tracking in GEGL. The framework permits evaluating new
    tests against older version of clutter.
    
    The tests themselves go through a few hoops for disabling framerate limiting in
    both mesa and clutter.
    
    When running make check the tests will be run and lines of the form:
    
    @ test-state: 40.51 fps
    
    will be left in the output, a script can scrape these lines out of a build log
    on a buildbot to in other ways track performance.

 Makefile.am                                |    5 +-
 configure.ac                               |    1 +
 tests/Makefile.am                          |    4 +-
 tests/README                               |   18 +--
 tests/performance/Makefile-retrospect      |   66 ++++++++++
 tests/performance/Makefile-tests           |   15 +++
 tests/performance/Makefile.am              |   42 ++++++
 tests/performance/create-report.rb         |  179 +++++++++++++++++++++++++
 tests/performance/joblist                  |   27 ++++
 tests/performance/makejobs.rb              |   24 ++++
 tests/performance/test-common.h            |  130 +++++++++++++++++++
 tests/performance/test-picking.c           |  133 +++++++++++++++++++
 tests/performance/test-state-hidden.c      |  149 +++++++++++++++++++++
 tests/performance/test-state-interactive.c |  194 ++++++++++++++++++++++++++++
 tests/performance/test-state-mini.c        |  152 ++++++++++++++++++++++
 tests/performance/test-state-pick.c        |  158 ++++++++++++++++++++++
 tests/performance/test-state.c             |  157 ++++++++++++++++++++++
 tests/performance/test-text-perf.c         |  164 +++++++++++++++++++++++
 18 files changed, 1606 insertions(+), 12 deletions(-)

commit fa1350b8f36d2c1719c83d03fb282286a6e59e87
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jul 4 16:18:46 2011 +0100

    po: Fix the name of the translatable file
    
    I will check before pushing.    I will check before pushing.
    I will check before pushing.    I will check before pushing.
    I will check before pushing.    I will check before pushing.
    I will check before pushing.    I will check before pushing.
    I will check before pushing.    I will check before pushing.

 po/POTFILES.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 29dc9bdb730da681b7186a2ec3a8a90bf35d1e5c
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jul 4 16:16:56 2011 +0100

    po: Fix the location of a translatable file
    
    There is no glx/, only cogl/.

 po/POTFILES.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 87f35a3434040f5e80d37218fe86efa547ac4ae5
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jul 4 16:09:41 2011 +0100

    build: Fix the path to the tslib event source

 clutter/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2544e878697f116b21b5aa88e2b4378dae807897
Author: Samuel Degrande <Samuel.Degrande@lifl.fr>
Date:   Fri May 20 15:57:51 2011 +0200

    clutter-media: mention the asynchronous behavior of set_playing() in the doc.
    
    Depending on the ClutterMedia implementation, the set_playing()
    call can be asynchronous, the playing state's change being not
    immediate.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=650675

 clutter/clutter-media.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 037138d3bf0be118a7e3559fef0a93667e6d1fe4
Author: Jasper St. Pierre <jstpierre@mecheye.net>
Date:   Sun Jul 3 16:43:17 2011 -0400

    clutter-text: Always update cursor positions when painting
    
    The cursor's on-screen rectangle is defined in terms of the text
    length, the current index, and text_x and text_y, which hold the text
    offset in overflowing text fields.
    
    When deleting large amounts of text, text_x is set to 0. In some
    edge case branch paths, the cursor rectangle could be calculated
    after the current index and text length were updated, but before
    the text_x offset could be. This left a negative x position, which
    consequently blew up Cogl and the widget.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=651079

 clutter/clutter-text.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit e9a42f23fe6325a95861d51f2c1152b438ea705e
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sun Jul 3 19:31:15 2011 +0100

    Deprecate mallum's add() macros for Group and Stage
    
    I think we're way past overdue.

 clutter/clutter-group.h |    6 +++++-
 clutter/clutter-stage.h |    4 ++++
 2 files changed, 9 insertions(+), 1 deletion(-)

commit d65161a7fd38859a0e2db3362f9822b0956c4a62
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Jul 4 15:16:50 2011 +0100

    build: fix Makefile.am to build glx tfp code on x11 platforms
    
    It was already the intention that the ClutterGLXTexturePixmap API should
    be built and made available on any X11 based platforms since there was
    nothing specific about the API and it is useful to have for
    compatibility. There was a mistake in the Makefile.am though which meant
    only the header was getting installed but the code wasn't being built.
    
    Signed-off-by: Emmanuele Bassi <ebassi@linux.intel.com>

 clutter/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5ab10e0f7a44b90f0ef10cae1aa374c0859ebc69
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Jul 4 15:14:52 2011 +0100

    glx-tfp: Don't include glx.h
    
    Since the implementation of ClutterGLXTexturePixmap has nothing GLX
    specific about it (it is simply layered on top of
    ClutterX11TexturePixmap) we don't need to include glx.h. Removing this
    include also means that the code can be built for compatibility against
    GLES drivers.
    
    Signed-off-by: Emmanuele Bassi <ebassi@linux.intel.com>

 clutter/cogl/clutter-glx-texture-pixmap.c |    2 --
 1 file changed, 2 deletions(-)

commit 8e3805136ca633a6bebc701a2cf49c8f07e1268a
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Jul 4 15:09:42 2011 +0100

    build: check COGL_HAS_GLES2 to check for gles2 support
    
    We were checking HAVE_COGL_GLES2 but this is not publicly defined by
    Cogl so since splitting Cogl from Clutter test-cogl-materials.c would
    not have built against gles2 since it would end up enabling the GL
    specific code path which would reference an undefined symbol.
    
    Signed-off-by: Emmanuele Bassi <ebassi@linux.intel.com>

 tests/conform/test-cogl-materials.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dbf2ccfd59294a0b5a98cbc8f67965809c965df8
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jul 1 17:26:10 2011 +0100

    Bump up the Cogl dependency
    
    We need 1.7.2 at least.

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c94e8d1292aeaff63051148b805a223723ecbbea
Author: Peter Ward <peteraward@gmail.com>
Date:   Wed Jun 29 13:01:20 2011 +1000

    Arrays in parameters were not correctly annotated.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=653607

 clutter/clutter-stage.c   |    2 +-
 clutter/clutter-texture.c |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 8bc265d22c5451ba5d523e667a53ff4d671918f1
Author: Robert Bragg <robert@linux.intel.com>
Date:   Wed Jun 22 19:54:19 2011 +0100

    paint-volume: remove more is_axis_aligned assertions
    
    This removes the is_axis_aligned assertions for the width/height/depth
    getters and setters, since for example it is legitimate to query the
    width, height or depth of a container's child actors which aren't
    necessarily axis aligned.
    
    Signed-off-by: Emmanuele Bassi <ebassi@linux.intel.com>

 clutter/clutter-paint-volume.c |  131 ++++++++++++++++++++++++++++++++++------
 1 file changed, 114 insertions(+), 17 deletions(-)

commit cc5808387ef9e427b1813c0aa8869946d640d3cd
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Jun 28 14:47:35 2011 +0100

    backend-cogl: update in line with Cogl API change
    
    cogl_renderer_xlib_set_foreign_display was renamed to
    cogl_xlib_renderer_set_foriegn_display so this is the corresponding
    change to clutter.
    
    Signed-off-by: Emmanuele Bassi <ebassi@linux.intel.com>

 clutter/cogl/clutter-backend-cogl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aacdbb4a5580f2ca77330be4b7c42bf9e48ef81e
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Jun 28 14:01:22 2011 +0100

    win32: use typesafe cogl_win32_renderer_handle_event
    
    The generic cogl_renderer_handle_native_event API was removed from the
    Cogl public API in favour of typesafe functions, so this updates the
    win32 backend in line with that change.
    
    Signed-off-by: Emmanuele Bassi <ebassi@linux.intel.com>

 clutter/win32/clutter-event-win32.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0a83e03afbc97508d135519e6ef60e73f56ba89c
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Jun 29 16:16:25 2011 +0100

    doc/RELEASING: Fix the check for diffs from origin/master
    
    The recommended command to check for differences from master to the
    remote master was using git log with a range from the local master to
    the remote master but this wouldn't work if the local master is ahead
    of the remote master because the range is backwards. This patch
    changes it to recommend git diff --stat instead because then the
    command would work even if the two branches have diverged.

 doc/RELEASING |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2dc8e2f866b3c1c352a00358109ac858a9f40eec
Author: Peter Ward <peteraward@gmail.com>
Date:   Fri Jun 24 14:31:31 2011 +1000

    Annotate ClutterTexture::load-finished with the correct type for error.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=653307

 clutter/clutter-texture.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 478014041b14ecaa4e9f0d4302d26ccc31a66131
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jun 24 19:22:22 2011 +0100

    build: Create and install clutter-glx pkg-config file
    
    For backward compatibility.

 clutter/Makefile.am |    5 +++++
 1 file changed, 5 insertions(+)

commit 2528ad8cb8daf56f63f72ff8f413b5b8d3aea094
Author: Peter Ward <peteraward@gmail.com>
Date:   Tue Jun 21 23:17:51 2011 +1000

    Support multiple pointers in ClutterDragAction.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=653066

 clutter/clutter-drag-action.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 0788c85df1cccb5d3db1ed51ded96a1ce9afac5c
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jun 21 10:52:44 2011 +0100

    docs: Remove the in-tree cogl fixxref option
    
    Cogl has been moved out of tree.

 doc/reference/clutter/Makefile.am |    1 -
 1 file changed, 1 deletion(-)

commit 459e1e7fc9d2a608ee7e404b0f9f98eea648fea4
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 20 19:45:14 2011 +0100

    docs: Fix the GLX section
    
    The whole thing should just go away.

 clutter/cogl/clutter-glx-texture-pixmap.c  |    4 +++-
 clutter/cogl/clutter-glx.h                 |   10 ----------
 doc/reference/clutter/clutter-docs.xml.in  |    1 -
 doc/reference/clutter/clutter-sections.txt |    5 -----
 4 files changed, 3 insertions(+), 17 deletions(-)

commit f3f1c87d8c3379536967b1273e2a33b146ced455
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 20 19:44:55 2011 +0100

    docs: Fix deprecation notice for ClutterBehaviour

 clutter/clutter-behaviour.c |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 34cbc0e94cfc385ae780818d8b6239c0ed68e6a5
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 20 19:44:33 2011 +0100

    docs: Fix up labels in the constraint example image

 doc/reference/clutter/constraints-example.png |  Bin 5985 -> 6199 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit f971c2cb11d2f03fd182990c5e71f419448cbf32
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 20 18:46:56 2011 +0100

    docs: Add the (now deprecated) GLX texture-pixmap
    
    It was missing from the API reference.

 doc/reference/clutter/clutter-docs.xml.in  |    1 +
 doc/reference/clutter/clutter-sections.txt |   42 ++++++++++++++++------------
 2 files changed, 25 insertions(+), 18 deletions(-)

commit 513f218c389ed0b8e47e7cc1442c4f641c685b4b
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 20 18:42:08 2011 +0100

    docs: Add the Deprecate tag to Behaviours
    
    And link the migration guide.

 clutter/clutter-behaviour-depth.c   |    4 ++++
 clutter/clutter-behaviour-ellipse.c |    3 +++
 clutter/clutter-behaviour-opacity.c |    4 ++++
 clutter/clutter-behaviour-path.c    |    3 +++
 clutter/clutter-behaviour-rotate.c  |    4 ++++
 clutter/clutter-behaviour-scale.c   |    4 ++++
 clutter/clutter-behaviour.c         |    5 ++++-
 7 files changed, 26 insertions(+), 1 deletion(-)

commit 948461b8f28b567e98ad9ebca4650b68300393a0
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 20 18:40:31 2011 +0100

    docs: Fix duplicate symbol in the sections list

 doc/reference/clutter/clutter-sections.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7b064a0bda10897a38396aa6d7cb3c19b0179ebd
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 20 18:26:34 2011 +0100

    build: Build the GLX symbols
    
    The change from the GLX backend to the Cogl backend left out the GLX
    source code from the list of source files to be built.

 clutter/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 71b655417696f49cd41f33e2388af75b9c156ec2
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 20 18:22:06 2011 +0100

    Fix the deprecation guard for ClutterGLXTexturePixmap
    
    It's CLUTTER_DISABLE_DEPRECATED.

 clutter/cogl/clutter-glx-texture-pixmap.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e5641dabf86f765ff5b4e67aa761db52f2a45f16
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jun 17 17:22:01 2011 +0100

    docs: Document ClutterDropAction
    
    And add it to the API reference.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=652842

 clutter/clutter-drop-action.c              |  115 +++++++++++++++++++++++++++-
 clutter/clutter-drop-action.h              |   28 +++++++
 doc/reference/clutter/clutter-docs.xml.in  |    1 +
 doc/reference/clutter/clutter-sections.txt |   17 ++++
 doc/reference/clutter/clutter.types        |    1 +
 5 files changed, 160 insertions(+), 2 deletions(-)

commit 1238e0ddf92c7fc7a3ec49dcbeeb934a696b9800
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jun 17 16:54:31 2011 +0100

    Add ClutterDropAction
    
    ClutterDropAction is an Action sub-class that allows writing actors that
    react to dragged actors being dropped on them.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=652842

 clutter/Makefile.am           |    2 +
 clutter/clutter-drop-action.c |  358 +++++++++++++++++++++++++++++++++++++++++
 clutter/clutter-drop-action.h |   85 ++++++++++
 clutter/clutter-marshal.list  |    1 +
 clutter/clutter.h             |    1 +
 tests/interactive/Makefile.am |    3 +-
 tests/interactive/test-drop.c |  245 ++++++++++++++++++++++++++++
 7 files changed, 694 insertions(+), 1 deletion(-)

commit a6a57d79677b8a498622c83c915c981779963460
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jun 17 16:53:22 2011 +0100

    drag-action: Remove the drag handle on destruction
    
    When the drag handle actor is destroyed we should unset the field inside
    the DragAction, to avoid having stale pointers lying around.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=652842

 clutter/clutter-drag-action.c |   25 ++++++++++++++++++++++---
 1 file changed, 22 insertions(+), 3 deletions(-)

commit 0dea846096d9fbf38d83946003a2d6f29542d276
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jun 17 16:52:25 2011 +0100

    drag-action: Use the dragged actor private API
    
    Use the newly added private API on ClutterStage to track the currently
    dragged actor.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=652842

 clutter/clutter-drag-action.c |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 530a13f02f710710607732ed21b1493f04931615
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jun 17 16:51:05 2011 +0100

    stage: Allow tracking dragged actors
    
    We should be able to internally attach the actor currently being dragged
    to the device that is dragging it.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=652842

 clutter/clutter-stage-private.h |    8 +++++++
 clutter/clutter-stage.c         |   48 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 56 insertions(+)

commit e4756fd7641136009272251457884c4249a37295
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 20 14:26:57 2011 +0100

    docs: Fix up the API reference

 clutter/clutter-effect.h                   |    3 ++-
 clutter/clutter-gesture-action.c           |    2 +-
 clutter/clutter-types.h                    |    4 ++++
 doc/reference/clutter/clutter-sections.txt |    6 ++++--
 4 files changed, 11 insertions(+), 4 deletions(-)

commit 675da6ed864de53e4035b33a213ab5dc0094a03b
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 20 13:59:14 2011 +0100

    build: Use tar-ustar and dist-xz to dist tarballs

 configure.ac |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 3861a1c3bac6080d17d586af6171352bbc18f388
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 20 13:56:46 2011 +0100

    build: Update the API reference build
    
    Add the Cogl prefix to the fix-cross-references script options, and
    update the location of the extra headers.

 configure.ac                      |   31 ++++++++++++++++---------------
 doc/reference/clutter/Makefile.am |   29 +++++++++++++++--------------
 2 files changed, 31 insertions(+), 29 deletions(-)

commit d5ea422c8fcf0fb3422f42f79b9d278b14d6dec5
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 20 13:53:09 2011 +0100

    stage: Maintain the motion event delivery invariants
    
    It is possible, by calling clutter_set_motion_events_enabled() prior to
    the creation of any stage, to control the per-actor motion event
    delivery flag on each newly created stage. Since we deprecated the
    global accessor functions in favour of the per-Stage ones, we need to
    remove the call to clutter_get_motion_events_enabled() inside the
    ClutterStage instance initialization, and replace it with an internal
    function.
    
    This code will go away when we can finally break API and remove the
    deprecated functions.

 clutter/clutter-main.c    |   12 +++++++++---
 clutter/clutter-private.h |   21 +++++++++++----------
 clutter/clutter-stage.c   |    9 ++++++++-
 3 files changed, 28 insertions(+), 14 deletions(-)

commit b6eb5728e101f5a6c0d76cf03c2dfc4c7fa39ca7
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 20 11:41:28 2011 +0100

    stage: Make per-actor motion event delivery accessors public
    
    Complete the quest of commit bc548dc86271d38918d310c26c9c59de76218d16
    by making the ClutterStage methods for controlling the per-actor motion
    and crossing event delivery public, and deprecating the global ones.

 clutter/clutter-device-manager.c |    2 +-
 clutter/clutter-drag-action.c    |    8 ++---
 clutter/clutter-main.c           |   12 +++++---
 clutter/clutter-main.h           |    3 +-
 clutter/clutter-stage-private.h  |    4 ---
 clutter/clutter-stage.c          |   60 +++++++++++++++++++++++++++++++++-----
 clutter/clutter-stage.h          |    5 ++++
 tests/interactive/test-events.c  |   11 ++++---
 tests/interactive/test-grab.c    |   10 +++++--
 9 files changed, 88 insertions(+), 27 deletions(-)

commit 5002ff7a965f983c3e8391b3f3b97edcee6562a8
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Sun Jun 19 12:14:35 2011 +0200

    Updated Spanish translation

 po/es.po | 1103 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 555 insertions(+), 548 deletions(-)

commit b66c22ac1c793a06492364399e6a948294a90465
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Jun 17 18:27:45 2011 +0100

    actor: documents _get/apply_relative_transform_matrix
    
    Although this patch doesn't make them public, it documents the
    _clutter_actor_get/apply_relative_transform_matrix functions so they
    could easily be made public if desired. I think these API could be
    useful to have publicly, and I originally documented them because I
    thought they would be needed in the MX toolkit.

 clutter/clutter-actor-private.h |    6 +--
 clutter/clutter-actor.c         |   96 +++++++++++++++++++++++++++++----------
 clutter/clutter-paint-volume.c  |    8 ++--
 clutter/clutter-texture.c       |    6 +--
 4 files changed, 81 insertions(+), 35 deletions(-)

commit 87d55ffcfaf79f16f864564f65b05339750fa6f7
Author: Neil Roberts <neil@linux.intel.com>
Date:   Fri Jun 17 17:27:09 2011 +0100

    actor: Don't use propagated_one_redraw to determine effect dirty state
    
    Previously ClutterActor was using priv->propagated_one_redraw to
    determine whether to pass CLUTTER_EFFECT_PAINT_ACTOR_DIRTY to the
    paint method of the effect. This isn't a good idea because the
    propagated_one_redraw flag is cleared whenever clutter_actor_paint is
    called, even if the actor isn't actually painted because of the zero
    opacity shortcut. Instead of this, ClutterActor now has a separate
    flag called is_dirty that gets set whenever queue_redraw_full is
    called or whenever the queue redraw signal is bubbled up from a child
    actor. The flag is only cleared in clutter_actor_paint if the effects
    are actually run. Therefore it will stay set even if the opacity is
    zero or if the parent actor decides not to paint the child.
    
    Previously there were two places set propagated_one_redraw to FALSE -
    once if the opacity is zero and once just before we emit the paint
    signal.  Now that propagated_one_redraw is only used to determine
    whether to pass on the queue redraw signal it seems to make sense to
    just clear it in one place right at the start of clutter_actor_paint.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=651784

 clutter/clutter-actor.c |   53 +++++++++++++++++++++++++++--------------------
 1 file changed, 30 insertions(+), 23 deletions(-)

commit 1720b77d29b474aeff156633138baf7244db1567
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Jun 17 17:44:16 2011 +0100

    actor: review use of _apply_modelview_transform_recursive
    
    On reviewing the clutter-actor.c code using
    _apply_modelview_transform_recursive I noticed various comments stating
    that it will never call the stage's ->apply_transform vfunc to transform
    into eye coordinates, but actually looking at the implementation that's
    not true. The comments probably got out of sync with an earlier
    implementation that had that constraint. This removes the miss-leading
    comments and also updates various uses of the api where we were manually
    applying the stage->apply_transform.

 clutter/clutter-actor.c        |   30 +++++-------------------------
 clutter/clutter-paint-volume.c |   32 ++------------------------------
 clutter/clutter-texture.c      |    8 --------
 3 files changed, 7 insertions(+), 63 deletions(-)

commit ddc9eb5fa5326904852951a3fa00159bed75fde1
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Jun 17 16:23:35 2011 +0100

    group: Handle list modification while destroying children
    
    This makes the dispose code that destroys children resilient against
    priv->children being modified during child destruction.

 clutter/clutter-group.c |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 1741c805be7f403f2995b3037059879ba29d3d2a
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Jun 16 17:50:50 2011 +0100

    debug: Use cogl_primitive api for paint-volume visualization
    
    Instead of using the cogl_vertex_buffer API this uses the more concise
    cogl_primitive API instead. The aim is to get rid of the
    cogl_vertex_buffer API eventually so we should be trying out the
    replacement API wherever possible.

 clutter/clutter-actor.c |   17 +++++------------
 1 file changed, 5 insertions(+), 12 deletions(-)

commit 7f64772984e07101eb54075eb7c802bf63c5d263
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Jun 16 17:24:26 2011 +0100

    debug: disable culling with CLUTTER_PAINT=paint-volumes
    
    When using CLUTTER_PAINT=paint-volumes to visualize the paint-volumes of
    actors we were already disabling clipped-redraws because we are drawing
    extra geometry that the actors don't know about but we didn't disable
    culling. This was resulting in actors disappearing while using this
    debug option.

 clutter/clutter-main.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit d7bf2143973529626ef8781dfa18c7dec8902031
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Jun 16 17:22:30 2011 +0100

    debug: avoid visualization code during picking
    
    This makes sure we don't try and draw paint-volumes or culling results
    during a pick cycle since that results in us reading back invalid ids
    from the pick-buffer.

 clutter/clutter-actor.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 1e2e0f21b86857354450beb7da78eb0fbbc95c06
Author: Neil Roberts <neil@linux.intel.com>
Date:   Mon Jun 6 18:22:20 2011 +0100

    clutter-actor: Add a debug flag for disabling offscreen redirect
    
    This adds CLUTTER_PAINT=disable-offscreen-redirect to help diagnose
    problems with the correct opacity changes. This just makes it so that
    it never installs the flatten effect so it will never automatically
    redirect an actor offscreen.

 clutter/clutter-actor.c |    4 ++++
 clutter/clutter-debug.h |    3 ++-
 clutter/clutter-main.c  |    3 ++-
 3 files changed, 8 insertions(+), 2 deletions(-)

commit 78fbac71f2f10477a302c970edd5b404d16251e7
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jun 17 12:14:15 2011 +0100

    keysyms: Update the key symbols
    
    Re-sync with the X.org headers.

 clutter/clutter-keysyms-compat.h |  106 +++++++++++++++++++++++++++++++++-----
 clutter/clutter-keysyms.h        |  106 +++++++++++++++++++++++++++++++++-----
 2 files changed, 186 insertions(+), 26 deletions(-)

commit c79f613c2597b4ea8d338a76b20befa5d6e8ce60
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jun 17 12:03:21 2011 +0100

    Remove an unused variable
    
    And the compiler warning that comes with it.

 clutter/cogl/clutter-stage-cogl.c |   17 ++++++++---------
 1 file changed, 8 insertions(+), 9 deletions(-)

commit daaa4c5b969b43ee66d99c6a0aaa9f2e8256d780
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Jun 16 17:11:39 2011 +0100

    tests/cally: Remove last uses of clutter_group_add()

 tests/accessibility/cally-atkcomponent-example.c    |   12 ++++++------
 tests/accessibility/cally-atkeditabletext-example.c |   18 +++++++++---------
 tests/accessibility/cally-atkevents-example.c       |    6 +++---
 tests/accessibility/cally-atktext-example.c         |   10 +++++-----
 tests/accessibility/cally-clone-example.c           |   10 +++++-----
 5 files changed, 28 insertions(+), 28 deletions(-)

commit cb3999744f3bd879bbf0739489b479e23364d35c
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Jun 16 17:07:32 2011 +0100

    Remove usage of clutter_group_add()
    
    The macro is there for mallum eyes only.

 tests/conform/test-actor-invariants.c |    8 ++++----
 tests/interactive/test-fbo.c          |   10 +++++-----
 tests/interactive/test-scale.c        |    6 +++---
 tests/interactive/test-unproject.c    |    6 +++---
 4 files changed, 15 insertions(+), 15 deletions(-)

commit e936b9591a92de4e227057abf9346511e215212e
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Jun 16 15:22:03 2011 +0100

    paint-volumes: remove is_axis_aligned assert for _union
    
    This removes the pv->is_xis_aligned assertion in
    _clutter_paint_volume_union. We were already considering the case where
    the second volume may not be axis aligned and aligning it into a
    temporary variable in that case, but we now also consider that the first
    pv may also not be aligned.

 clutter/clutter-paint-volume.c |   13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit 4dc30c255fa9570853eae8c576c3403e5d3b1a2e
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Jun 16 15:18:46 2011 +0100

    paint-volumes: avoid is_complete assert in _axis_align
    
    The removes the pv->is_complete assertion from
    _clutter_paint_volume_axis_align() and instead if the volume isn't
    complete it calls _clutter_paint_volume_complete().

 clutter/clutter-paint-volume.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit e6c58b7fb3b12ec4fc5faae621c2bad800bc3f51
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Jun 16 13:35:22 2011 +0100

    build: Replace AC_HELP_STRING with AS_HELP_STRING
    
    The latter is the new version of the former.

 configure.ac |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 923b1657d9e5437de862a397a12495d6f75293f9
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Jun 16 12:33:25 2011 +0100

    paint-volumes: fix unioning with empty volumes
    
    When calculating the union of a volume with an empty volume we aim to
    simply take the contents of the non-empty volume, but we were not
    copying the flags across. We now use
    _clutter_paint_volume_set_from_volume which copies all the flags except
    the is_static flag.

 clutter/clutter-paint-volume.c |    6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit 394512b274cadec2d7baa78671de41a27ef8bbc3
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Jun 16 12:31:50 2011 +0100

    paint-volumes: remove alignment constraint for _set_origin
    
    The implementation for clutter_paint_volume_set_origin can cope with
    volumes that are not axis aligned so this remove the is_axis_aligned
    assertion.

 clutter/clutter-paint-volume.c |    1 -
 1 file changed, 1 deletion(-)

commit 30eb3be781475699389fba7b690649a85ba1aea4
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Jun 16 12:28:37 2011 +0100

    paint-volumes: avoid trashing is_static state
    
    In _clutter_paint_volume_set_from_volume we were using memcpy to simply
    copy everything from one volume to another, but that meant we were
    trashing the is_static flag which determines if the destination
    paint-volume was slice allocated or not.

 clutter/clutter-paint-volume.c |    2 ++
 1 file changed, 2 insertions(+)

commit a9789616b9705e7c24b5591a1790dfc2fdda51dc
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Jun 16 12:19:49 2011 +0100

    paint-volumes: remove alignment constraint for completion
    
    This removes the constraint that a paint-volume must be axis aligned
    before _clutter_paint_volume_complete can be called. NB: A paint volume
    is represented by one origin vertex and then three axis vertices to
    define the width, height and depth of the volume. It's straightforward
    to use the vectors from the origin to the axis vertices to deduce the
    other 4 vertices so we can remove the is_axis_aligned assertion.

 clutter/clutter-paint-volume.c |   42 ++++++++++++++++++++++++++--------------
 1 file changed, 27 insertions(+), 15 deletions(-)

commit 34600949edbb650e810fbb98fe96c7858211b244
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Jun 6 17:40:57 2011 +0100

    clutter-stage: Allow a wider range of visible z values
    
    Since eef9078f the translation of the camera away from the z=zero
    plane was hardcoded at 50 which is approximately half way between the
    default z_near and z_far values. This ended up with quite a small
    distance in user-space coordinates to the far plane with the default
    stage size and this was causing test-texture-quality to clip the actor
    early.
    
    This patch makes it try to calculate a reasonable value for the
    position of the z=0 plane as well as a value for z_far so we maximize
    the space in between the z=0 plane and the near plane and we have a
    predictable amount of space behind the stage before hitting the far
    clipping plane, while considering the trade off of loosing depth
    precision by pushing the far plane too far back relative to the near
    plane.
    
    With the default fov of 60° it's not possible to use the stage size to
    define the gap in-front of the stage plane; only ~87% of the stage size
    is possible as an upper limit. We make 85% of the stage_height available
    assuming you have a fov of 60°. We consistently provide 10 times the
    stage height of space behind the stage regardless of the fov.
    
    It seems worth noting here that we went around in circles a few times
    over how to calculate the gaps since there are a number of trade offs to
    consider and they also affect the complexity of the solution. In the end
    we went for simplicity but commented the issues well enough hopefully so
    we can develop a more elaborate solution if we ever have a use-case.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2625

 clutter/clutter-stage.c |  142 ++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 139 insertions(+), 3 deletions(-)

commit 2022e4c100d8d8e635ea38d990d6023f7306020f
Author: Neil Roberts <neil@linux.intel.com>
Date:   Mon Apr 4 18:42:52 2011 +0100

    clutter-stage: Don't override the user's perspective matrix
    
    Since eef9078f ClutterStage updates the aspect ratio of the
    perspective matrix whenever the size of the stage changes. This meant
    that if an application tries to set its own perspective matrix then
    part of it would get overridden. It's not really clear what the
    use-case of setting the perspective on the stage should be but it
    seems like the safest bet is to always try to preserve the
    application's request. The documentation for the function has been
    tweaked to discourage its use.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2625

 clutter/clutter-stage.c |   62 ++++++++++++++++++++++++++++++++---------------
 1 file changed, 43 insertions(+), 19 deletions(-)

commit d90c849e80b88c3dd00fa03b9b71b940001505b9
Author: Robert Bragg <robert@linux.intel.com>
Date:   Wed May 11 19:59:52 2011 +0100

    make some parts of the stage-window interface optional
    
    Some parts of the StageWindow interface aren't meaningful for all window
    systems. This makes stage_window_set_title/fullscreen/cursor_visible
    optional instead of requiring those window systems to implement empty
    stubs. Notably the empty stubs we had in the Cogl backend (previously
    the EGL backend) used g_warning to report the feature as unsupported and
    that was causing conformance test failures.

 clutter/clutter-stage-window.c    |   17 ++++++++++++-----
 clutter/cogl/clutter-stage-cogl.c |   29 -----------------------------
 2 files changed, 12 insertions(+), 34 deletions(-)

commit dd6392ba2060e853009627dd7ffbacaa579e040c
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Jun 15 13:07:04 2011 +0100

    Update the location of the cex100 header in the ignore file

 .gitignore |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fa8e6d368a27222f959fa08a5680e801e221f680
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Jun 15 13:05:18 2011 +0100

    Do not include clutter-egl.h unconditionally

 clutter/cogl/clutter-backend-cogl.h |    2 --
 1 file changed, 2 deletions(-)

commit 6a73cece713b7e35fa2145c28f2cd47d47de1ae7
Author: Robert Bragg <robert@linux.intel.com>
Date:   Wed Jun 15 12:43:47 2011 +0100

    backend-cogl: fix s/egl/cogl/ naming left-over

 clutter/cogl/clutter-backend-cogl.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b3c93bca20a6c8a7397ad149016331308150ed56
Author: Robert Bragg <robert@linux.intel.com>
Date:   Wed Jun 15 12:41:08 2011 +0100

    build: Adds missing clutter-glx.h

 clutter/cogl/clutter-glx.h |   46 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 46 insertions(+)

commit dd02c56bdb7a8ff110af5e957899834ce387b65d
Author: Robert Bragg <robert@linux.intel.com>
Date:   Wed Jun 15 12:28:44 2011 +0100

    build: Adds missing clutter-egl-headers.h

 clutter/cogl/clutter-egl-headers.h |   46 ++++++++++++++++++++++++++++++++++++
 1 file changed, 46 insertions(+)

commit 2d8083bab8b9ec0b353d08d66265bd0ae38d6822
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon May 9 00:27:10 2011 +0100

    unify egl and glx backends as "cogl" backend
    
    Since GLX and EGL are abstracted by Cogl the two backends are both
    implementing everything using the Cogl API and they are almost
    identical.
    
    This updates the egl backend to support everything that the glx backend
    supports. Now that EGL and GLX are abstracted by Cogl, the plan is that
    we will squash the clutter-egl/glx backends into one. Since the EGL
    backend in clutter can conditionally not depend on X11 we will use the
    EGL backend as the starting point of our common backend.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=649826

 clutter/Makefile.am                       |   82 ++--
 clutter/cogl/clutter-backend-cogl.c       |  533 ++++++++++++++++++++++++
 clutter/cogl/clutter-backend-cogl.h       |  105 +++++
 clutter/cogl/clutter-cex100.h.in          |   91 +++++
 clutter/cogl/clutter-egl.h                |   92 +++++
 clutter/cogl/clutter-event-tslib.c        |  294 ++++++++++++++
 clutter/cogl/clutter-glx-texture-pixmap.c |  158 ++++++++
 clutter/cogl/clutter-glx-texture-pixmap.h |   92 +++++
 clutter/cogl/clutter-stage-cogl.c         |  629 +++++++++++++++++++++++++++++
 clutter/cogl/clutter-stage-cogl.h         |   78 ++++
 clutter/egl/clutter-backend-egl.c         |  523 ------------------------
 clutter/egl/clutter-backend-egl.h         |  105 -----
 clutter/egl/clutter-cex100.h.in           |   91 -----
 clutter/egl/clutter-egl-headers.h         |   46 ---
 clutter/egl/clutter-egl.h                 |   92 -----
 clutter/egl/clutter-event-tslib.c         |  294 --------------
 clutter/egl/clutter-stage-egl.c           |  531 ------------------------
 clutter/egl/clutter-stage-egl.h           |   75 ----
 clutter/glx/clutter-backend-glx.c         |  380 -----------------
 clutter/glx/clutter-backend-glx.h         |   75 ----
 clutter/glx/clutter-glx-texture-pixmap.c  |  158 --------
 clutter/glx/clutter-glx-texture-pixmap.h  |   92 -----
 clutter/glx/clutter-glx.h                 |   46 ---
 clutter/glx/clutter-stage-glx.c           |  541 -------------------------
 clutter/glx/clutter-stage-glx.h           |   77 ----
 configure.ac                              |   12 +-
 26 files changed, 2115 insertions(+), 3177 deletions(-)

commit 951cb82ec5e76a6e67b0cb7c2050d6ea5703d4ba
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon May 9 01:09:39 2011 +0100

    egl: fix args to cogl_onscreen_x11_set_foreign_window_xid
    
    We hadn't updated the egl backend inline with a change to the arguments
    that cogl_onscreen_x11_set_foreign_window_xid would expect and that was
    causing a compilation error.

 clutter/egl/clutter-stage-egl.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 05bcd40729fe807af1dfa1148495e7f072548d77
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jun 14 16:11:54 2011 +0100

    stage: Ignore do_update() on unrealized stages
    
    An unrealized stage has no resources set yet, so we might as well skip
    it during the master clock spin.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=652566

 clutter/clutter-stage.c |    3 +++
 1 file changed, 3 insertions(+)

commit 81e9bf6127e96ae20c5add1ee7b6aaf603c72e4e
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jun 14 15:50:42 2011 +0100

    backend: Do not call ensure_context() with NULL stage
    
    Always call ensure_context() if we have a valid Stage.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=652566

 clutter/clutter-backend.c |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 0b2073923206e3abfe328ed724328fa962c556ee
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jun 14 15:50:21 2011 +0100

    glx: Ignore ensuring context on NULL stages
    
    https://bugzilla.gnome.org/show_bug.cgi?id=652566

 clutter/glx/clutter-backend-glx.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit a7fc76a1c506aca9494c5f1d6bfad970d5a70179
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jun 14 14:47:14 2011 +0100

    build: Disable deprecated symbols during development cycles
    
    And add a configure switch to toggle them.

 clutter/Makefile.am |    5 +----
 configure.ac        |   33 +++++++++++++++++++++++++++++++++
 2 files changed, 34 insertions(+), 4 deletions(-)

commit 4382e6588c0ebebe46bbc9b077c5fb42593ef5b7
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jun 14 11:36:01 2011 +0100

    glx: Remove unused Atom members from ClutterBackendGLX
    
    The atoms were moved to the shared X11 backend structure ages ago.

 clutter/glx/clutter-backend-glx.h |    4 ----
 1 file changed, 4 deletions(-)

commit 5ded02cd08fa315e95cd75b5906371893d2ad367
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jun 14 01:02:09 2011 +0100

    docs: Add symbols index for 1.8

 doc/reference/clutter/clutter-docs.xml.in |    5 +++++
 1 file changed, 5 insertions(+)

commit b046bc354c64dd2f6271778beec7d2bc70e45d18
Author: Colin Walters <walters@verbum.org>
Date:   Mon May 16 12:41:10 2011 -0400

    ClutterModifierType: Port fix from GDK to clutter's GDK copy
    
    See https://bugzilla.gnome.org/show_bug.cgi?id=634994 where GDK was
    modified to include all flag values, which helps bindings.  Port this
    fix to Clutter's copy of GDK.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=650329

 clutter/clutter-types.h |   23 ++++++++++++++++++++++-
 1 file changed, 22 insertions(+), 1 deletion(-)

commit 5e1fa714988db6a76adf6d64fb870c76c7883129
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 13 23:46:21 2011 +0100

    Post-release version bump to 1.7.3

 configure.ac       |    2 +-
 po/clutter-1.0.pot | 1109 ++++++++++++++++++++++++-----------------------
 po/cs.po           | 1091 +++++++++++++++++++++++-----------------------
 po/de.po           | 1146 ++++++++++++++++++++++++------------------------
 po/eo.po           | 1102 +++++++++++++++++++++++-----------------------
 po/es.po           | 1112 ++++++++++++++++++++++++-----------------------
 po/fr.po           |  703 +++++++++++++++---------------
 po/gl.po           | 1113 ++++++++++++++++++++++++-----------------------
 po/id.po           |  726 ++++++++++++++++---------------
 po/it.po           |  730 ++++++++++++++++---------------
 po/nb.po           | 1093 +++++++++++++++++++++++-----------------------
 po/nl.po           |  731 ++++++++++++++++---------------
 po/pa.po           |  698 +++++++++++++++---------------
 po/pl.po           |  723 ++++++++++++++++---------------
 po/sl.po           | 1227 ++++++++++++++++++++++++++--------------------------
 po/sv.po           |  708 +++++++++++++++---------------
 po/te.po           |  703 +++++++++++++++---------------
 po/uk.po           |  731 ++++++++++++++++---------------
 po/zh_CN.po        |  729 ++++++++++++++++---------------
 po/zh_TW.po        |  731 ++++++++++++++++---------------
 20 files changed, 8730 insertions(+), 8178 deletions(-)

commit a7cc84a483a7d4e21c84ce0567f66c04c47f48f6
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 13 17:24:28 2011 +0100

    Release Clutter 1.7.2 (snapshot)

 NEWS         |   97 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 README.in    |   27 ++++++++++++++++
 configure.ac |    2 +-
 3 files changed, 125 insertions(+), 1 deletion(-)

commit 86d96dbcc1bb38cef0a1b6ac176d6af1943088a9
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 13 23:14:39 2011 +0100

    build: Put back ChangeLog.pre-git-import to unbreak distcheck

 ChangeLog.pre-git-import              |15743 +++++++++++++++++++++++++++++++++
 build/autotools/Makefile.am.changelog |    3 +-
 doc/ChangeLog.pre-git-import          |15743 ---------------------------------
 3 files changed, 15744 insertions(+), 15745 deletions(-)

commit e8bd46b82b1f62082440eb8e5ebe2bc1f1c0c540
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 13 17:20:19 2011 +0100

    build: Fix up ChangeLog build generation
    
    Since the pre-git-import ChangeLog has been moved, we need to put it
    back in the list temporarily when generating the rest.

 build/autotools/Makefile.am.changelog |   41 +++++++++++++++++----------------
 1 file changed, 21 insertions(+), 20 deletions(-)

commit fbdc9675751014b9382aa28c540f9dfc8854d0d0
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 13 16:32:24 2011 +0100

    release rules: Add note for snapshots

 build/autotools/Makefile.am.release |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 494629d4b9eac31afa3910ef130404030656bc4e
Author: Philippe Normand <pnormand@igalia.com>
Date:   Fri Feb 4 12:33:53 2011 +0100

    clutter-text: new clutter_text_get_layout_offsets API
    
    This new function can be used to retrieve the coordinates where the
    ClutterText will draw the PangoLayout representing the text.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2553

 clutter/clutter-text.c                     |   38 +++++++++++++++++++++++++++-
 clutter/clutter-text.h                     |    4 +++
 doc/reference/clutter/clutter-sections.txt |    1 +
 3 files changed, 42 insertions(+), 1 deletion(-)

commit 74a9b7106038b74690856fe45b658edbab5d6a8b
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 13 15:58:46 2011 +0100

    effect: Rename RunFlags to PaintFlags
    
    Since run() was replaced and both paint() and pick() use the
    enumeration.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=651700

 clutter/clutter-actor.c            |    6 +++---
 clutter/clutter-effect-private.h   |   16 ++++++++--------
 clutter/clutter-effect.c           |   18 +++++++++---------
 clutter/clutter-effect.h           |   34 ++++++++++++++++------------------
 clutter/clutter-offscreen-effect.c |    6 +++---
 tests/conform/test-pick.c          |    8 ++++----
 6 files changed, 43 insertions(+), 45 deletions(-)

commit 0ede622f5132843bf1c1dc88d9322a5ca514790e
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   Thu Jun 2 14:16:23 2011 +0200

    Give a chance to effects for running when picking
    
    Some effects can change the actor's shape and position, so they need
    to run when picking.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=651700

 clutter/clutter-actor.c          |  163 +++++++++++++++++--------------
 clutter/clutter-effect-private.h |    2 +
 clutter/clutter-effect.c         |   21 ++++
 clutter/clutter-effect.h         |    6 +-
 tests/conform/test-pick.c        |  200 +++++++++++++++++++++++++++++---------
 5 files changed, 270 insertions(+), 122 deletions(-)

commit 700c543850caf51c4041afd5c1d53940c2d15c5c
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   Mon Jun 6 08:44:11 2011 +0200

    Rename ClutterEffect::run to ClutterEffect::paint
    
    In preparation for adding ClutterEffect::pick
    
    https://bugzilla.gnome.org/show_bug.cgi?id=651700

 clutter/clutter-actor.c            |    2 +-
 clutter/clutter-effect-private.h   |    2 +-
 clutter/clutter-effect.c           |   40 ++++++++++++++++++------------------
 clutter/clutter-effect.h           |    4 ++--
 clutter/clutter-offscreen-effect.c |   10 ++++-----
 5 files changed, 29 insertions(+), 29 deletions(-)

commit 165b2f959984bc075cba789d8768b68007eebc71
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 13 15:36:07 2011 +0100

    docs: Fix Clutter API reference

 clutter/clutter-gesture-action.h           |    6 ++++++
 doc/reference/clutter/clutter-sections.txt |    2 ++
 doc/reference/clutter/clutter.types        |    2 ++
 3 files changed, 10 insertions(+)

commit cd2b36ed916b1b8230f28c53055d370547b47f89
Merge: 4f0769d 80dd60e
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 13 14:39:03 2011 +0100

    Merge branch 'swipe-action'
    
    * swipe-action:
      test-swipe-action: Clean up the test code
      docs: Add the new actions to the API reference
      gesture-action: Remove the multi-device entry points
      swipe-action: Remove the required devices call
      swipe-action: Clean up
      gesture-action: Clean up
      Add ClutterSwipeAction and ClutterGestureAction

commit 4f0769d69d4216d197be325ab84059f2d6822ece
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 13 13:27:46 2011 +0100

    docs: Update missing documentation

 clutter/clutter-actor.c                    |   16 +++++++++++-----
 clutter/clutter-backend.c                  |   27 +++++++++++++++++++++++++++
 clutter/clutter-script.c                   |    1 +
 doc/reference/clutter/clutter-sections.txt |    2 ++
 4 files changed, 41 insertions(+), 5 deletions(-)

commit 8625f07c3bd3fb1dc50e3c1584b44d6d28b502bd
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 13 13:08:26 2011 +0100

    script: Plug a leak
    
    The SignalInfo structure gained a couple of string fields that should be
    deallocated when destroying the structure.

 clutter/clutter-script.c |    2 ++
 1 file changed, 2 insertions(+)

commit a9dd5abfcccd96a4da6210e2eedbb115ea5bfa74
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 13 13:07:04 2011 +0100

    script: Allow warping to states
    
    Do not just allow animating states connected to signals: add a "warp"
    optional key that ends up calling clutter_state_warp_to_state(). This
    is useful for debugging.

 clutter/clutter-script-parser.c  |   10 ++++++++--
 clutter/clutter-script-private.h |    1 +
 clutter/clutter-script.c         |   27 +++++++++++++++++++++++----
 3 files changed, 32 insertions(+), 6 deletions(-)

commit 3017a48228a5416a455bfaa7d8a631501d8488c2
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jun 13 12:11:45 2011 +0100

    Skip introspection for GValue ↔ CoglFixed API
    
    It's pointless to introspect an API that it's not meant to be used
    through introspection.

 clutter/clutter-fixed.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d9c1a2ebbbf395aa4d255b2a31f17ce8d0e2377a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sun Jun 12 11:27:34 2011 +0100

    script: Use a weak ref to remove the signal emission hook
    
    When an object goes away we should remove the emission hook for the
    state transitions, to avoid leaving hooks around.

 clutter/clutter-script.c |   27 ++++++++++++++++++++++-----
 1 file changed, 22 insertions(+), 5 deletions(-)

commit b33973f9f8ff87d2cb5d9083149b8bfd7f4130c0
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sat Jun 11 13:30:02 2011 +0100

    script: Rename "state" → "states"
    
    Make it clear that the key used when defining a state-based signal is
    linked to the states of a ClutterState.

 clutter/clutter-script-parser.c     |    6 +--
 clutter/clutter-script.c            |   70 +++++++++++++++++++++++++----------
 clutter/clutter-script.h            |    8 ++--
 tests/data/test-script-signals.json |    8 ++--
 4 files changed, 62 insertions(+), 30 deletions(-)

commit 29d7c5a2979d63e9ce78a901090da6c0e82d85a8
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jun 10 17:16:45 2011 +0100

    script: Allow resolving signals states added from code
    
    Currently, defining states for object signals can only be done by
    defining a ClutterState inside the ClutterScript definition. We should
    allow creating a (named) ClutterState in code, and associating it to a
    ClutterScript instance — and have the Script resolve the "state" field
    of a signal definition correctly.

 clutter/clutter-script-parser.c |   31 ++++++---------
 clutter/clutter-script.c        |   78 +++++++++++++++++++++++++++++++++++-
 clutter/clutter-script.h        |   83 +++++++++++++++++++++------------------
 3 files changed, 131 insertions(+), 61 deletions(-)

commit e745ce52e77211ecff131245e6871cef6b97539a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 7 13:57:16 2011 +0000

    test-interactive: Add signal-based state transitions
    
    Use the newly added support for binding signal emissions to state
    changes on a ClutterState.

 tests/data/Makefile.am                |    3 +-
 tests/data/test-script-signals.json   |   68 +++++++++++++++++++++++++++++++++
 tests/interactive/Makefile.am         |    3 +-
 tests/interactive/test-state-script.c |   54 ++++++++++++++++++++++++++
 4 files changed, 126 insertions(+), 2 deletions(-)

commit dd8cf63a62018704b59a84f76eb73e9568257ebb
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 7 13:48:58 2011 +0000

    script: Allow connecting signal to ClutterState states
    
    One of the uses of a ClutterState state machine along with ClutterScript
    is to provide a quick way to transition from state to state in response
    to signal emitted on specific instances.
    
    Connecting a real function, in code, to a specific signal does not
    improve the ease of use of ClutterScript to define scenes.
    
    By adding a new signal definition to the current one we can have both a
    simple way to define application logic in code and in the UI definition
    file.
    
    The new syntax is trivial:
    
      {
        "name" : <signal name>,
        "state" : <state machine script id>,
        "target-state" : <target state>
      }
    
    The ClutterState instance is identified by its script id, and the target
    state is resolved at run-time, so it can be defined both in
    ClutterScript or in code. Ideally, we should find a way to associate a
    default ClutterState instance to the ClutterScript one that parses the
    definition; this way we would be able to remove the "state" member, or
    even "style" the behaviour of an object by replacing the ClutterState
    instance.
    
    The implementation uses a signal emission hook, to avoid knowing the
    signal signature; we check the emitter of the signal against the object
    that defined the signal, to avoid erroneous state changes.

 clutter/clutter-script-parser.c  |  116 +++++++++++++++++++++++++-------------
 clutter/clutter-script-private.h |    4 ++
 clutter/clutter-script.c         |  113 ++++++++++++++++++++++++++++++++-----
 3 files changed, 181 insertions(+), 52 deletions(-)

commit 2c2bdc1d2c2ce6caebdbdc8ce034146fefd9e90f
Author: Marek Černocký <marek@manet.cz>
Date:   Mon Jun 13 13:54:32 2011 +0200

    Updated Czech translation

 po/cs.po |  329 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 168 insertions(+), 161 deletions(-)

commit 0409840d18604f9a2c23b45ca5ab3628d4a6f2cd
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Sat Jun 11 17:36:23 2011 +0200

    Updated Slovenian translation

 po/sl.po |  419 +++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 220 insertions(+), 199 deletions(-)

commit 7b4f7cd3e054121a64c113cb696502faaa90540b
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Jun 10 17:48:54 2011 +0100

    build: include <cairo.h> not <cairo/cairo.h>
    
    cairo.h is intended to be included as <cairo.h> not <cairo/cairo.h> as
    is the style for clutter.h. If you have installed cairo to a custom
    prefix then using cairo/cairo.h can result in unintentional use of the
    system cairo headers, or if they aren't installed then it will result in
    a failure to find the header.

 clutter/clutter-stage.c              |    2 +-
 tests/conform/test-path.c            |    2 +-
 tests/interactive/test-bin-layout.c  |    2 +-
 tests/interactive/test-flow-layout.c |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 80dd60ecbb4b7cf0fcb00f663a33662fcb3f49b8
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jun 10 15:01:13 2011 +0100

    test-swipe-action: Clean up the test code
    
    Remove unused code, and be more strict at discarding swipes on
    constrained actors.
    
    Add a note on the behaviour of each rectangle/action pair.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2585

 tests/interactive/test-swipe-action.c |  132 ++++++++++++++++++++++++++-------
 1 file changed, 105 insertions(+), 27 deletions(-)

commit 9b4ad40f048fe2dc383d09dff97a75fcc0f662cd
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jun 10 14:47:16 2011 +0100

    docs: Add the new actions to the API reference
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2585

 doc/reference/clutter/clutter-docs.xml.in  |    2 ++
 doc/reference/clutter/clutter-sections.txt |   36 ++++++++++++++++++++++++++++
 2 files changed, 38 insertions(+)

commit 2c791da70ae489c9fcbb367071bf2d4401e889bf
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jun 10 14:45:50 2011 +0100

    gesture-action: Remove the multi-device entry points
    
    GestureAction supports a single device/touch point. We'll need touch
    events supported in Clutter before adding the ability to set required
    device/touch points on gestures.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2585

 clutter/clutter-gesture-action.c |   63 +++++++++-----------------------------
 clutter/clutter-gesture-action.h |    4 ---
 2 files changed, 14 insertions(+), 53 deletions(-)

commit f9ce9014961e245bc6162bf20249a836d0bdf98d
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jun 10 14:44:06 2011 +0100

    swipe-action: Remove the required devices call
    
    The SwipeAction requires one device/touch point, and that is the default
    for GestureAction — if GestureAction supported multiple devices/touch
    points.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2585

 clutter/clutter-swipe-action.c |    2 --
 1 file changed, 2 deletions(-)

commit 11d961b6058b1413b47276654e5d939814f6b646
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jun 10 14:33:20 2011 +0100

    swipe-action: Clean up
    
    Clean up the documentation, and use a type safe GFlags marshaller for
    the ::swept signal's @direction argument - instead of a generic integer
    marshaller.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2585

 clutter/clutter-marshal.list   |    2 +-
 clutter/clutter-swipe-action.c |   78 ++++++++++++++--------------------------
 clutter/clutter-swipe-action.h |   17 +++++----
 3 files changed, 37 insertions(+), 60 deletions(-)

commit 0058c78b799596c1f856c92e705b92015dd7bf6a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jun 10 14:32:00 2011 +0100

    gesture-action: Clean up
    
    The GestureAction is marked as abstract, but it has a constructor. It
    should be possible to create simple gesture recognizers through signal
    handling alone, so we might as well have GestureAction be a concrete
    class from the start.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2585

 clutter/clutter-gesture-action.c |   36 ++++++++++++++++++-----------
 clutter/clutter-gesture-action.h |   46 ++++++++++++++++++--------------------
 2 files changed, 45 insertions(+), 37 deletions(-)

commit ba72235b66ee956977ad6e5c7a8510f9f23a3517
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   Wed Mar 9 10:06:44 2011 +0100

    Add ClutterSwipeAction and ClutterGestureAction
    
    To allow actors to handle gestures in a more organized way.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2585

 clutter/Makefile.am                   |    4 +
 clutter/clutter-gesture-action.c      |  500 +++++++++++++++++++++++++++++++++
 clutter/clutter-gesture-action.h      |  120 ++++++++
 clutter/clutter-marshal.list          |    1 +
 clutter/clutter-swipe-action.c        |  249 ++++++++++++++++
 clutter/clutter-swipe-action.h        |  117 ++++++++
 clutter/clutter.h                     |    2 +
 tests/interactive/Makefile.am         |    1 +
 tests/interactive/test-swipe-action.c |  109 +++++++
 9 files changed, 1103 insertions(+)

commit d151d789f668a0b2f79eb052ff904a0521409552
Author: Neil Roberts <neil@linux.intel.com>
Date:   Mon Mar 7 18:53:07 2011 +0000

    clutter-text: Use the ink rect in the paint volume
    
    Previously ClutterText was just reporting the allocation as the paint
    volume. The preferred size of a ClutterText is just the logical
    rectangle of the layout. A pango layout can sometimes draw outside of
    its logical rectangle for example with an italicised font with large
    serifs. Additionally, ClutterText doesn't make any attempt to clip the
    text if the actor gets allocated a size too small for the text so it
    would also end up drawing outside of the paint volume in that case. To
    fix this, the paint volume is now reported as the ink rect of the
    Pango layout. The rectangle for the cursor and selection is also
    unioned into that because it won't necessarily be within the ink
    rectangle.
    
    The function for drawing the selection rectangles has been split up
    into a generic function that calculates the rectangles that need to be
    drawn and a function that draws them. That way the get_paint_volume
    virtual can share the code to calculate the rectangles.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2599

 clutter/clutter-text.c |  369 ++++++++++++++++++++++++++++++++++++------------
 1 file changed, 276 insertions(+), 93 deletions(-)

commit a20a8071ed835496f26712093f0cfb72aabfd8c8
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Mar 8 17:30:04 2011 +0000

    clutter-text: Don't move the cursor to the left when at pos 0
    
    When the cursor is at the leftmost position in the text the drawn
    pixel position is moved to the left by the size of the cursor. There's
    no explanation for why this happens and it doesn't seem to make any
    sense so this patch removes it. It makes multi-line texts looks odd
    because the cursor ends up at a different horizontal position when it
    is on the first line from any other line. It also makes using
    priv->cursor_pos difficult in any other part of the code because the
    paint function modifies it.
    
    The original patch that added this can be traced back to Tidy commit
    c356487c15. There's no explanation in the commit message either.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2599

 clutter/clutter-text.c |    3 ---
 1 file changed, 3 deletions(-)

commit 501208758808c9dd05f754d46e883766c4c1264b
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Jun 10 09:39:09 2011 +0100

    clutter.modules: Update the moduleset
    
    Reflect the changes in the repository location for a bunch of modules,
    and add the Cogl dependency to Clutter.

 build/clutter.modules |   21 +++++++++++++++++----
 1 file changed, 17 insertions(+), 4 deletions(-)

commit 7d1d1acbbb757162bde1b22182cd9f59bf8c44c1
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Jun 9 15:58:34 2011 +0100

    docs: Update the releasing checklist

 doc/RELEASING |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 4944a5e7d1602ae80eeb3d4b0323a4f6b392b85e
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Jun 9 15:53:29 2011 +0100

    Move some old doc files under doc/
    
    ChangeLog.pre-git-import is useless since the Git log contains the
    pre-Git history anyway.
    
    AUTHORS is not really useful, as many more people have been committing
    to Clutter for a while now.

 AUTHORS                      |   17 -
 ChangeLog.pre-git-import     |15743 ------------------------------------------
 doc/AUTHORS.old              |   17 +
 doc/ChangeLog.pre-git-import |15743 ++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 15760 insertions(+), 15760 deletions(-)

commit 9636a4f12588e91777bb425b272875192b8374a0
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Jun 9 15:40:57 2011 +0100

    docs: Fix up new symbols for the API reference

 doc/reference/clutter/Makefile.am          |    1 +
 doc/reference/clutter/clutter-sections.txt |    8 ++++++++
 2 files changed, 9 insertions(+)

commit 46cab9c8c6298b773442b6f00f69f2f441826007
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Jun 9 15:40:26 2011 +0100

    event: Add clutter_event_set_source() declaration
    
    The function was defined but not declared in the header.

 clutter/clutter-event.h |    2 ++
 1 file changed, 2 insertions(+)

commit b91ec2a82e371e22a89d5cf95d31a78290e7df65
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Jun 9 15:28:39 2011 +0100

    Fix deprecation guards for ClutterGLXTexturePixmap

 clutter/glx/clutter-glx-texture-pixmap.c |    4 ++--
 clutter/glx/clutter-glx-texture-pixmap.h |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 8b70260528c02db27c3e4546bf7b28b2a4286b24
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Jun 9 14:42:31 2011 +0100

    test-bin-layout: Use the long-press signal on ClickAction

 tests/interactive/test-bin-layout.c |   29 +++++++++++++++++++++++++++--
 1 file changed, 27 insertions(+), 2 deletions(-)

commit 23a9980c721c3f6c2dbd35336ab70f05dda72031
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed May 18 11:21:58 2011 +0100

    click-action: Add support for long press detection
    
    A long press is a special form of click action; the default
    implementation uses a single signal with multiple states: query, action
    and cancel. On click we use the "query" state to check whether the
    ClutterClickAction supports long presses; if the callback returns TRUE
    then we install a timeout and we either emit the "activate" state when
    the timeout expires or we emit the "cancel" state if the pointer leaves
    the actor, or if the pointer moves outside a certain threshold. If the
    long press reached the "activate" state then we skip the clicked signal
    emission.

 clutter/clutter-click-action.c |  362 +++++++++++++++++++++++++++++++++++++++-
 clutter/clutter-click-action.h |   32 +++-
 clutter/clutter-marshal.list   |    1 +
 3 files changed, 384 insertions(+), 11 deletions(-)

commit 93207d08f80c66628f9dbf673a6f7dadc9fc9845
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Jun 9 14:33:17 2011 +0100

    settings: Add the :long-press-duration
    
    A property to control the minimum time that has to elapse before a press
    is recognized as a long press. This will be used by ClutterClickAction,
    but it can be shared across touch-based gestures.

 clutter/clutter-settings.c |   32 ++++++++++++++++++++++++++++++++
 1 file changed, 32 insertions(+)

commit 2b81d90dd7399c409cf23d7324ff909351dbefa3
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jun 7 15:49:20 2011 +0100

    Eliminate G_CONST_RETURN
    
    The G_CONST_RETURN define in GLib is, and has always been, a bit fuzzy.
    
    We always used it to conform to the platform, at least for public-facing
    API.
    
    At first I assumed it has something to do with brain-damaged compilers
    or with weird platforms where const was not really supported; sadly,
    it's something much, much worse: it's a define that can be toggled at
    compile-time to remove const from the signature of public API. This is a
    truly terrifying feature that I assume was added in the past century,
    and whose inception clearly had something to do with massive doses of
    absynthe and opium — because any other explanation would make the
    existence of such a feature even worse than assuming drugs had anything
    to do with it.
    
    Anyway, and pleasing the gods, this dubious feature is being
    removed/deprecated in GLib; see bug:
    
      https://bugzilla.gnome.org/show_bug.cgi?id=644611
    
    Before deprecation, though, we should just remove its usage from the
    whole API. We should especially remove its usage from Cally's internals,
    since there it never made sense in the first place.

 clutter/cally/cally-actor.c           |   18 +++++++--------
 clutter/cally/cally-text.c            |    6 ++---
 clutter/cally/cally-util.c            |    8 +++----
 clutter/clutter-actor-meta-private.h  |   39 +++++++++++++++------------------
 clutter/clutter-actor-meta.c          |    4 ++--
 clutter/clutter-actor-meta.h          |   16 +++++++-------
 clutter/clutter-actor-private.h       |    8 +++----
 clutter/clutter-actor.c               |   12 ++++++++--
 clutter/clutter-actor.h               |    2 +-
 clutter/clutter-animator.c            |    2 +-
 clutter/clutter-animator.h            |   16 +++++++-------
 clutter/clutter-backend.c             |    2 +-
 clutter/clutter-backend.h             |    2 +-
 clutter/clutter-binding-pool.c        |    2 +-
 clutter/clutter-binding-pool.h        |    2 +-
 clutter/clutter-color.c               |    4 ++--
 clutter/clutter-color.h               |    8 +++----
 clutter/clutter-event.c               |    2 +-
 clutter/clutter-event.h               |    3 +--
 clutter/clutter-input-device.c        |    2 +-
 clutter/clutter-input-device.h        |    2 +-
 clutter/clutter-interval.c            |    2 +-
 clutter/clutter-interval.h            |    2 +-
 clutter/clutter-model.c               |    2 +-
 clutter/clutter-model.h               |    2 +-
 clutter/clutter-private.h             |    2 +-
 clutter/clutter-script.c              |    2 +-
 clutter/clutter-script.h              |    2 +-
 clutter/clutter-scriptable.c          |    2 +-
 clutter/clutter-scriptable.h          |    2 +-
 clutter/clutter-shader-types.c        |    6 ++---
 clutter/clutter-shader-types.h        |   30 ++++++++++++-------------
 clutter/clutter-shader.c              |    4 ++--
 clutter/clutter-shader.h              |    8 +++----
 clutter/clutter-stage.c               |    2 +-
 clutter/clutter-stage.h               |    2 +-
 clutter/clutter-state.c               |    8 +++----
 clutter/clutter-state.h               |    8 +++----
 clutter/clutter-text.c                |    4 ++--
 clutter/clutter-text.h                |    4 ++--
 clutter/clutter-units.c               |    2 +-
 clutter/clutter-units.h               |    6 ++---
 clutter/clutter-util.c                |    2 +-
 clutter/egl/clutter-backend-egl.c     |    2 +-
 clutter/egl/clutter-backend-egl.h     |    3 +--
 clutter/glx/clutter-backend-glx.c     |    2 +-
 clutter/glx/clutter-backend-glx.h     |    3 +--
 clutter/win32/clutter-backend-win32.c |    2 +-
 clutter/win32/clutter-backend-win32.h |    2 +-
 clutter/x11/clutter-backend-x11.c     |    2 +-
 clutter/x11/clutter-x11.h             |    2 +-
 doc/CODING_STYLE                      |    8 +++----
 doc/cookbook/examples/cb-button.c     |    2 +-
 doc/cookbook/examples/cb-button.h     |    2 +-
 54 files changed, 148 insertions(+), 146 deletions(-)

commit 343f54e65921eb00a97d4937d515da1751dc78f2
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   Tue Jun 7 16:46:55 2011 +0200

    Added Norwegian bokmål translation

 po/nb.po |  746 ++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 412 insertions(+), 334 deletions(-)

commit c28218b240a1ba81cafe572021e721c77ca39af9
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   Tue Jun 7 16:45:45 2011 +0200

    Add Norwegian bokmål translation.

 po/nb.po | 2040 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2040 insertions(+)

commit 70bdb342d15c6170b901ba90855b67f63fa23ad8
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Tue Jun 7 15:45:45 2011 +0200

    Updated Slovenian translation

 po/sl.po |   60 ++++++++++++++++++++++++++++++------------------------------
 1 file changed, 30 insertions(+), 30 deletions(-)

commit e636a0bbce2b24fdb4e99dcf2d4385eb25d0247a
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   Wed May 18 16:10:18 2011 +0200

    Sync allocation in ClutterBoxLayout with the one in GtkBox
    
    https://bugzilla.gnome.org/show_bug.cgi?id=650487
    
    Signed-off-by: Emmanuele Bassi <ebassi@linux.intel.com>

 clutter/clutter-box-layout.c |  512 ++++++++++++++++++++++++++++++------------
 1 file changed, 370 insertions(+), 142 deletions(-)

commit 9ecddeb1c3fce7bbd3fdb0096713e05a50e6ffcd
Author: Craig R. Hughes <craig.git@rungie.com>
Date:   Mon May 9 09:39:55 2011 -0700

    osx: Handle bare modifier keypresses
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2644

 clutter/osx/clutter-event-osx.c |   85 ++++++++++++++++++++++++++++++++++++---
 1 file changed, 80 insertions(+), 5 deletions(-)

commit 22cc9b35cb78e9b7a867a3c356647e15bf005c85
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jun 7 14:34:19 2011 +0100

    stage: Bail out of do_update() when no impl is set
    
    If the Stage has been destroyed the StageWindow implementation is not
    going to be available, but the IN_DESTRUCTION flag will have already
    been cleared.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2656

 clutter/clutter-stage.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 19c986c0c6e0aa08ae76ab7d992fbf70ae5e44a0
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Jun 7 14:25:17 2011 +0100

    actor: Avoid queueing redraws during destruction
    
    If an actor or the stage to which it belongs are being destroyed then
    there is no point in queueing a redraw that will not be seen anyway.
    Bailing out early also avoids the case in which a redraw is queued
    during destruction wil cause redraw entries will be added to the Stage,
    which will take references on it and cause the Stage never to be
    finalized.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2652

 clutter/clutter-actor.c |   18 ++++++++++++------
 1 file changed, 12 insertions(+), 6 deletions(-)

commit 835fc2381c94fc46d5b6f6eef7f9d17db7e97411
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed May 25 16:23:08 2011 +0100

    Deprecate ClutterShader
    
    With the instantiatable ClutterShaderEffect, the only reason for
    ClutterShader to exist is to make the ClutterActor::paint implementation
    miserable.
    
    Yes, ClutterShader doesn't use a FBO, so it's "more efficient" on
    ClutterTextures. It's also generally wrong unless you know *exactly* how
    the actor's pipeline is set up — something we cannot even guarantee
    internally unless we start doing lame type checks.

 clutter/clutter-actor.c         |   11 ++++++++++
 clutter/clutter-actor.h         |    2 ++
 clutter/clutter-shader-types.h  |    1 -
 clutter/clutter-shader.c        |   46 ++++++++++++++++++++++++++++++++++++---
 clutter/clutter-shader.h        |   13 +++++++++++
 clutter/clutter-types.h         |    2 ++
 tests/interactive/test-shader.c |    2 ++
 7 files changed, 73 insertions(+), 4 deletions(-)

commit 941d8d23fa3ebb54f5c27c5f8cfa883903dbb24e
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed May 25 15:38:56 2011 +0100

    test-constrains: Use a ShaderEffect
    
    Demonstrate how to use a ShaderEffect instance.

 tests/interactive/test-constraints.c |   42 +++++++++++++++++++++++++++++++---
 1 file changed, 39 insertions(+), 3 deletions(-)

commit 53483896a822b2814c1fbe06b5d08e26d67f0301
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed May 25 15:37:45 2011 +0100

    shader-effect: Allow instantiating ShaderEffect
    
    ClutterShaderEffect doesn't require to be sub-classed in order to be
    useful. It is possible to just create an instance, set the source and
    the uniforms, and attach it to an actor. This should effectively replace
    ClutterShader for good.

 clutter/clutter-shader-effect.c |   41 ++++++++++++++++++++++++++++++++-------
 clutter/clutter-shader-effect.h |   30 +++++++++++++++-------------
 2 files changed, 50 insertions(+), 21 deletions(-)

commit 9ed5f2842a3c4c97d51d8f3434d8bf25f8f21cc2
Author: Marek Černocký <marek@manet.cz>
Date:   Tue Jun 7 11:38:01 2011 +0200

    Updated Czech translation

 po/cs.po |   64 +++++++++++++++++++++++++++++---------------------------------
 1 file changed, 30 insertions(+), 34 deletions(-)

commit ad78242f55857f5366dca1fb82b91a8973257c9c
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Mon Jun 6 22:23:32 2011 +0200

    Updated Spanish translation

 po/es.po |   75 +++++++++++++++++++++++++++++---------------------------------
 1 file changed, 35 insertions(+), 40 deletions(-)

commit 1a85b87fc9846879be0774a49993d3095eee36d1
Author: Alexandre Franke <alexandre.franke@gmail.com>
Date:   Thu Jun 2 20:56:22 2011 +0200

    Fix typo

 clutter/clutter-media.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 588d97c2c7f8108e84fd2a32fdae071a4629d283
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Jun 2 12:10:59 2011 +0100

    culling: Use vertex_count not '4' to determine partial culls
    
    We were mistakenly using the constant 4 to determine the number of
    vertices that need to be culled for a paint-volume to be considered
    fully culled too. This is only ok for 2d volumes and was resulting in
    some 3d volumes being considered culled whenever 4 out of 8 vertices
    were culled. This fix is simply to reference the vertex_count variable
    instead of assuming 4.

 clutter/clutter-paint-volume.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ba8cc8e064c43d79676d20eb09b24e1085587a95
Author: Øyvind Kolås <pippin@linux.intel.com>
Date:   Wed Jun 1 22:42:41 2011 +0100

    stage: ensure correct stage is current when picking
    
    _clutter_stage_do_pick called by interactive picking and
    clutter_stage_get_actor_at_pos could be accidentally reading back the wrong
    actor id's if an other stage has had a more recent render due to animation.
    
    This should resolve some multi stage / ClutterGtk related pick id warnings.

 clutter/clutter-stage.c |    1 +
 1 file changed, 1 insertion(+)

commit eed174461286ce983e06893a73592edc50a64373
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Jun 1 18:33:27 2011 +0100

    stage: Use the debug name for the pick buffer dump stem
    
    This avoids overwriting files in the multi-stage case.

 clutter/clutter-stage.c |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit b03288af519ae64bc089cfa5a4baf287044b12e6
Author: Kristjan SCHMIDT <kristjan.schmidt@googlemail.com>
Date:   Wed Jun 1 19:22:39 2011 +0200

    Add Esperanto translation

 po/eo.po | 2122 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2122 insertions(+)

commit c836b8c53c473e7d309c6c0c9d25b3ec74c827ff
Author: Peter Ward <peteraward@gmail.com>
Date:   Sat May 28 00:12:15 2011 +1000

    device: Prevent segfault
    
    When disposing a slave device without a master.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2655

 clutter/clutter-input-device.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 0b0d4e12397f425b075e449c38dc9777f75ab3d6
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed May 25 16:22:31 2011 +0100

    test-binding-pool: Remove usage of deprecated get_gid()
    
    Use the actor name instead of a random, internal numeric id.

 tests/interactive/test-binding-pool.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit e83a7851ad2cf64e778465620b23fe3c111c7164
Author: Dan Winship <danw@gnome.org>
Date:   Thu May 19 10:46:24 2011 -0400

    clutter-id-pool: fix warning on bad pick
    
    Commit 13ac1fe7 purported to extend the _clutter_id_pool_lookup()
    warning to the case where the id referred to a deleted actor, but did
    not actually do so, because _clutter_id_pool_remove() set deleted IDs
    to 0xdecafbad, not NULL. Fix this.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=650597

 clutter/clutter-id-pool.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 46aadb745b819b2f69b69b119ce70ce84ab04cb9
Author: Alejandro Piñeiro <apinheiro@igalia.com>
Date:   Thu May 19 12:58:36 2011 +0200

    [cally] Removed default actions on CallyActor

 clutter/cally/cally-actor.c |   99 +++++--------------------------------------
 1 file changed, 11 insertions(+), 88 deletions(-)

commit d007155ac4a4b8a171a6503757d01f8c739b13f6
Author: Alejandro Piñeiro <apinheiro@igalia.com>
Date:   Fri May 20 14:18:09 2011 +0200

    [cally] CallyRoot is the parent of any CallyStage object
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2597

 clutter/cally/cally-root.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 58adcb4022935fe13487b440acf8f3c35b292616
Author: Alejandro Piñeiro <apinheiro@igalia.com>
Date:   Fri May 20 14:13:14 2011 +0200

    [cally] Added old cally Changelog (pre clutter-cally merge)
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2484

 clutter/cally/ChangeLog.pre-cally-merge |  986 +++++++++++++++++++++++++++++++
 1 file changed, 986 insertions(+)

commit 153532297c864be693b16714c76accd4129c8b85
Author: Alejandro Piñeiro <apinheiro@igalia.com>
Date:   Fri May 20 14:07:47 2011 +0200

    [cally] Removing default name and description
    
    Those were added on the old "just for automatic testing" times. That was
    somewhat silly on that moment. Now is just silly (ie: having the stage
    returning as default name "Stage").
    
    The real description should be set by the app, or provided by the
    context of a specific actor feature (like the tooltip on StWidget).
    
    The current information provided by the default description can be
    mostly obtained from the ATK_ROLE, and the indirect debugging
    advantage of having always a meaningful description is just not enough
    to justify them, and you can solve that by proper debug logging.
    
    Fixes: http://bugzilla.clutter-project.org/show_bug.cgi?id=2482

 clutter/cally/cally-clone.c     |   21 +-------------------
 clutter/cally/cally-rectangle.c |   21 +-------------------
 clutter/cally/cally-stage.c     |   40 ---------------------------------------
 clutter/cally/cally-texture.c   |   19 -------------------
 4 files changed, 2 insertions(+), 99 deletions(-)

commit 247c8d49ae9a75ec7ae279b0bf787a3eb6fe0a2f
Author: Alejandro Piñeiro <apinheiro@igalia.com>
Date:   Fri May 20 14:00:35 2011 +0200

    [cally] Fix a crash on some a11y examples if there isn't accessibility support
    
    Most of the accessibility tests can be executed without the
    accessibility support, although it is clear that they will
    not work properly (ie using accerciser).
    
    But in some specific cases (right now just the atk event test),
    the test will crash if no accessibility support is enabled
    
    Fixes http://bugzilla.clutter-project.org/show_bug.cgi?id=2447

 tests/accessibility/cally-atkevents-example.c |    7 ++++++-
 tests/accessibility/cally-examples-util.c     |   10 +++++++---
 tests/accessibility/cally-examples-util.h     |    2 +-
 3 files changed, 14 insertions(+), 5 deletions(-)

commit e59fff7a3f2d490b7a9b8dc8e149dfc20831a141
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   Fri May 20 11:15:07 2011 +0200

    clutter-offscreen-effect: use target size when setting up the viewport
    
    https://bugzilla.gnome.org/show_bug.cgi?id=650650

 clutter/clutter-offscreen-effect.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit c18a83baa3239cc635be0732e8d0a859604b6d4c
Author: Neil Roberts <neil@linux.intel.com>
Date:   Mon May 16 18:57:37 2011 +0100

    test-cogl-depth-test: Update to new Cogl API
    
    The Cogl depth state API has changed to have a separate CoglDepthState
    struct so this test was no longer building. This patch updates it to
    use CoglPipeline and the new depth state API.

 tests/conform/test-cogl-depth-test.c |   30 ++++++++++++++++--------------
 1 file changed, 16 insertions(+), 14 deletions(-)

commit 86dce2fd98efe934b0223580e00424bace043809
Author: Neil Roberts <neil@linux.intel.com>
Date:   Mon May 16 16:07:19 2011 +0100

    test-cogl-pixel-buffer: Use the new name for CoglPixelArray
    
    Cogl has changed the name of the experimental CoglPixelArray API to
    CoglPixelBuffer. This updates the test to reflect that so it will
    continue to build.

 tests/conform/test-cogl-pixel-buffer.c |   20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit 7d233241f1def912ab0a7688777482f6b4a4e7b6
Author: Neil Roberts <neil@linux.intel.com>
Date:   Mon May 16 16:04:27 2011 +0100

    Fix include location for cogl-pango.h
    
    In Cogl, cogl-pango.h has moved to <cogl-pango/cogl-pango.h>. When
    using the experimental 2.0 API (which Clutter does) it is no longer
    possible to include it under the old name of <cogl/cogl-pango.h> so we
    need to update the include location.

 clutter/clutter-main.c                |    2 +-
 clutter/clutter-private.h             |    2 +-
 clutter/clutter-text.c                |    2 +-
 doc/cookbook/examples/text-shadow.c   |    2 +-
 tests/interactive/test-box-layout.c   |    2 +-
 tests/interactive/test-table-layout.c |    2 +-
 6 files changed, 6 insertions(+), 6 deletions(-)

commit 07ecaf569ff66e01327e5fdb23c495a8f148250b
Author: Marek Černocký <marek@manet.cz>
Date:   Sun May 15 21:09:17 2011 +0200

    Updated Czech translation

 po/cs.po |  591 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 306 insertions(+), 285 deletions(-)

commit 8ad780af37cc13dfcd5b50fe7dae75b6986dc003
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Sun May 15 17:46:33 2011 +0200

    Updated Spanish translation

 po/es.po |  570 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 296 insertions(+), 274 deletions(-)

commit c2f7e5916efe08d0856621829f8765241fc35450
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Sat May 14 19:49:39 2011 +0200

    Updated Slovenian translation

 po/sl.po |  600 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 308 insertions(+), 292 deletions(-)

commit f9d7650b97c3788763e14ce3b39f21f19edc41bb
Author: Chris Lord <chris@linux.intel.com>
Date:   Mon Mar 28 16:10:59 2011 +0100

    actor: Ensure the validity of the queue_redraw_entry pointer
    
    In _clutter_actor_queue_redraw_with_clip, there was the possibility that
    the actor will add itself to the stage's redraw queue without keeping track
    of the allocated list member.
    
    In clutter_actor_unparent, the redraw queue entry was being invalidated
    before the mapped notify signal was being fired, meaning that queueing a
    redraw of an unmapped actor in the mapped notification callback could
    cause a crash.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2621

 clutter/clutter-actor.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 5aa8ed93cef370be0ef2d840c3356a847fb95dbe
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon May 2 12:15:28 2011 -0400

    test-cogl-sub-texture: Allow single-bit rendering error
    
    Signed-off-by: Adam Jackson <ajax@redhat.com>
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2640

 tests/conform/test-cogl-sub-texture.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 7beb222d3f27740cb3c1a8a75859aee74712a9cd
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon May 2 12:13:57 2011 -0400

    test-cogl-blend-strings: Allow single-bit rendering error
    
    Signed-off-by: Adam Jackson <ajax@redhat.com>
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2640

 tests/conform/test-cogl-blend-strings.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit b7a3ccf35c587c724386ff6f27ba256a5d50d47e
Author: Øyvind Kolås <pippin@linux.intel.com>
Date:   Fri May 13 21:44:49 2011 +0100

    doap: fix a typo in a url

 clutter.doap |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ba4615cd4bb6c1c230bb864b4b5bc43a4d143f6a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri May 13 14:26:22 2011 +0100

    text: Check the has_focus flag in selection_paint()
    
    It is the only place were it is used, so it should only be checked
    there, and not in the general paint() implementation.

 clutter/clutter-text.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 729e9985c1aec44f008e9687cdd1bf0818acc95d
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri May 13 14:17:39 2011 +0100

    text: Implement the ::has_overlaps virtual
    
    Since ClutterText has overlapping primitives when selecting, or a
    visible cursor, then we need to report that to Clutter, to avoid
    bleeding colors through when a Text actor is non-fully opaque.

 clutter/clutter-text.c |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 94c9c075099da0972ed07866e11b12c5255685c7
Author: Jasper St. Pierre <jstpierre@mecheye.net>
Date:   Wed Mar 2 12:02:56 2011 -0500

    clutter-text: Add a selected-text-color
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2595

 clutter/clutter-text.c |  185 ++++++++++++++++++++++++++++++++++++++++++------
 clutter/clutter-text.h |    5 ++
 2 files changed, 167 insertions(+), 23 deletions(-)

commit 0a8ec7f7d575423ca984f10171998d85ef035a13
Author: Jasper St. Pierre <jstpierre@mecheye.net>
Date:   Thu Mar 3 06:33:42 2011 -0500

    tests: Add test for selected-text-color
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2595

 tests/interactive/test-text-field.c |    2 ++
 tests/interactive/test-text.c       |    2 ++
 2 files changed, 4 insertions(+)

commit d95258e987178a9d1a2316db60bd89685e030929
Author: Neil Roberts <neil@linux.intel.com>
Date:   Fri May 13 15:29:50 2011 +0100

    clutter-actor: Store the queue_redraw_entry when queueing a redraw
    
    _clutter_stage_queue_actor_redraw returns a pointer to the
    ClutterStageQueueRedrawEntry struct which it allocates. The actor is
    expected to store a pointer to this so that it doesn't need to search
    the list of queued redraws next time a queue redraw is called. However
    _clutter_actor_queue_redraw_full wasn't storing this pointer which
    meant that it thought every queue redraw was the first queue
    redraw. That meant that queueing a redraw with a clip or an effect
    would override any previous attempts to queue a redraw instead of
    trying to combine them.
    
    I think this happened because the old queue_redraw_with_clip also
    didn't store the pointer and queue_redraw_full was based on that.

 clutter/clutter-actor.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 701440efd8b4df1b38976a3b5b2abf7f456c2c38
Author: Neil Roberts <neil@linux.intel.com>
Date:   Mon Mar 14 16:30:53 2011 +0000

    clutter-actor: Add a 'has_overlaps' virtual
    
    This adds a virtual to ClutterActor so that an actor subclass can
    report whether it has overlapping primitives. ClutterActor uses this
    to determine whether it needs to use ClutterFlattenEffect to implement
    the opacity property. The default implementation of the virtual
    returns TRUE which means that most actors will end up being redirected
    offscreen when the opacity != 255. ClutterTexture and ClutterRectangle
    override this to return FALSE because they should never need to be
    redirected. ClutterClone overrides it to divert to the source.
    
    The values for the ClutterOffscreenRedirect enum have changed to:
    
    AUTOMATIC_FOR_OPACITY
    
     The actor will only be redirected if has_overlaps returns TRUE and
     the opacity is < 255
    
    ALWAYS_FOR_OPACITY
    
     The actor will always be redirected if the opacity < 255 regardless
     of the return value of has_overlaps
    
    ALWAYS
    
     The actor will always be redirected offscreen.
    
    This means that the property can't be used to prevent the actor from
    being redirected but only to increase the likelihood that it will be
    redirected.
    
    ClutterActor now adds and removes the flatten effect depending on
    whether flattening is needed directly in clutter_actor_paint(). There
    are new internal versions of add/remove_effect that don't queue a
    redraw. This means that ClutterFlattenEffect is now just a no-op
    subclass of ClutterOffscreen. It is only needed because
    ClutterOffscreen is abstract. Removing the effect also makes it so
    that the cached image will be freed as soon as an actor is repainted
    without being flattened.

 clutter/clutter-actor.c                    |  236 ++++++++++++++++++++--------
 clutter/clutter-actor.h                    |   28 ++--
 clutter/clutter-clone.c                    |   14 ++
 clutter/clutter-flatten-effect.c           |  101 +-----------
 clutter/clutter-flatten-effect.h           |    2 -
 clutter/clutter-rectangle.c                |    9 ++
 clutter/clutter-texture.c                  |    9 ++
 doc/reference/clutter/clutter-sections.txt |    1 +
 tests/conform/test-offscreen-redirect.c    |   55 ++++++-
 9 files changed, 272 insertions(+), 183 deletions(-)

commit 2a09a04c2a1478278f58bfe6426ccb65f2715664
Author: Neil Roberts <neil@linux.intel.com>
Date:   Fri Mar 4 16:48:59 2011 +0000

    Add a conformance test for the offscreen-redirect property
    
    This adds a conformance test for redirecting offscreen. It verifies
    that the redirected actor has the right paint opacity, that it gets
    redrawn only when the image cache needs to be invalidated and that it
    ends up with the right appearance.

 tests/conform/Makefile.am               |    1 +
 tests/conform/test-conform-main.c       |    1 +
 tests/conform/test-offscreen-redirect.c |  283 +++++++++++++++++++++++++++++++
 3 files changed, 285 insertions(+)

commit 7f78237ee53c6d1ec1981a2aec47e5aa651923d5
Author: Neil Roberts <neil@linux.intel.com>
Date:   Mon Feb 28 15:05:51 2011 +0000

    clutter-actor: Add an 'offscreen-redirect' property
    
    This adds a property which can be used to redirect the actor through
    an FBO before painting so that it becomes flattened in an image. The
    image can be used as a cache to avoid having to repaint the actor if
    something unrelated in the scene changes. It can also be used to
    implement correct opacity even if the actor has overlapping
    primitives. The property is an enum that takes three values:
    
    CLUTTER_OFFSCREEN_REDIRECT_NEVER: The default behaviour which is to
      never flatten the actor.
    
    CLUTTER_OFFSCREEN_REDIRECT_ALWAYS: The actor is always redirected
      through an FBO.
    
    CLUTTER_OFFSCREEN_REDIRECT_ONLY_FOR_OPACITY: The actor is only
      redirected through an FBO if the paint opacity is not 255. This
      value would be used if the actor wants correct opacity. It will
      avoid the overhead of using an FBO whenever the actor is fully
      opaque.
    
    The property is implemented by installing a ClutterFlattenEffect.
    ClutterFlattenEffect is a new internal class which subclasses
    ClutterOffscreen to redirect the painting to an FBO. When
    ClutterOffscreen paints, the effect sets an opacity override on the
    actor so that the image will always contain the actor at full
    opacity. The opacity is then applied to the resulting image before
    painting it to the stage. This means the actor does not need to be
    redrawn while the opacity is being animated.
    
    The effect has a high internal priority so that it will always occur
    before any other effects and it gets hidden from the application.

 clutter/Makefile.am                          |    2 +
 clutter/clutter-actor.c                      |  180 +++++++++++++++++++++++++-
 clutter/clutter-actor.h                      |   24 ++++
 clutter/clutter-flatten-effect.c             |  151 +++++++++++++++++++++
 clutter/clutter-flatten-effect.h             |   75 +++++++++++
 doc/reference/clutter/Makefile.am            |    6 +-
 doc/reference/clutter/clutter-sections.txt   |    3 +
 doc/reference/clutter/offscreen-redirect.png |  Bin 0 -> 4821 bytes
 8 files changed, 438 insertions(+), 3 deletions(-)

commit 8df8d4ff0fa667cb25148b451ef754115f5c954b
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Mar 1 16:39:22 2011 +0000

    clutter-actor: Redraw or relayout when clearing effects or constraints
    
    When calling clutter_actor_clear_constraints the layout of the actor
    may change so we need to queue a relayout. Similarly when the effects
    are cleared we need to queue a redraw.

 clutter/clutter-actor.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 942321478332794e27f96ea63767c93af3f5fc24
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Mar 1 15:37:04 2011 +0000

    clutter-actor-meta: Add an internal 'priority' property
    
    This adds a priority property to all ClutterActorMetas. The
    ClutterMetaGroup keeps the list sorted so that higher priority metas
    remain at the beginning of the list. The priority is a signed integer
    with the default as zero. An actor meta can therefore be put before
    all default metas with a positive number, or after with a negative
    number.
    
    There are constants to set an 'internal' priority. The intention is
    that applications wouldn't be allowed to use these values so that we
    can keep special internal metas to that are before or after all
    application metas.
    
    The property isn't a real GObject property because for now it is
    completely internal and only used to implement the 'transparency'
    property of ClutterActor. ClutterMetaGroup doesn't currently resort
    the list if the property changes so if we wanted to make it public we
    should either make it construct-only or make the meta group listen for
    changes on the property and resort accordingly.
    
    The methods in ClutterActor that get the list of metas now use a new
    function that filters out internal metas from the meta
    group. Similarly for clearing the metas, the internal metas are left
    in.

 clutter/clutter-actor-meta-private.h |   26 ++++++++
 clutter/clutter-actor-meta.c         |  117 +++++++++++++++++++++++++++++++++-
 clutter/clutter-actor.c              |   23 ++-----
 3 files changed, 148 insertions(+), 18 deletions(-)

commit 00b733a85ad4c7781166ffce61c44f15116fa6ba
Author: Neil Roberts <neil@linux.intel.com>
Date:   Mon Feb 28 12:16:55 2011 +0000

    clutter-effect: Add clutter_effect_queue_rerun
    
    This adds a new public function to queue a rerun of an effect. If
    nothing else queues a redraw then when the effect's actor is painted
    the effect will be run without the CLUTTER_EFFECT_RUN_ACTOR_DIRTY
    flag. This allows parametrised offscreen effects to report that they
    need to redraw the image without having to redraw the underlying
    actor. This will be used to implement the 'transparency' effect of
    ClutterActor.
    
    If multiple redraws are queued with different effects then redrawing
    is started from the one that occurs last in the list of effects.
    
    Internally the function is a wrapper around the new function
    _clutter_actor_queue_redraw_full. This is intended to be the sole
    point of code for queuing redraws on an actor. It has parameters for
    the clip and the effect. The other two existing functions to queue a
    redraw (one with a clip and one without) now wrap around this function
    by passing a NULL effect.

 clutter/clutter-actor-private.h            |    5 +
 clutter/clutter-actor.c                    |  310 +++++++++++++++++-----------
 clutter/clutter-effect.c                   |   60 ++++++
 clutter/clutter-effect.h                   |    2 +
 doc/reference/clutter/clutter-sections.txt |    1 +
 5 files changed, 261 insertions(+), 117 deletions(-)

commit 11443ed4801be02e8433abb34c776e32bd0c253a
Author: Neil Roberts <neil@linux.intel.com>
Date:   Fri Feb 25 11:24:23 2011 +0000

    clutter-offscreen-effect: Don't redraw the actor if cached offscreen
    
    When painting an actor, it now tries to determine if the last paint of
    the offscreen was using the same matrix and the actor isn't dirty. If
    so, it can skip calling clutter_actor_continue_paint and avoid
    actually painting the actor. Instead just the offscreen image will be
    painted.

 clutter/clutter-offscreen-effect.c |   80 +++++++++++++++++++++++++++++-------
 1 file changed, 65 insertions(+), 15 deletions(-)

commit c3aa4d24bf32a7aacdcd96b0807ba780738431a1
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Mar 2 16:55:10 2011 +0000

    clutter-effect: Add a 'run' virtual
    
    This adds a new virtual to ClutterEffect which is intended to be a
    more flexible replacement for the pre and post_paint functions. The
    implementation of a run virtual would look something like this:
    
    void
    effect_run (ClutterEffect *effect,
                ClutterEffectRunFlags flags)
    {
      /* Set up state */
      /* ... */
    
      /* Chain to the next item in the paint sequence */
      clutter_actor_continue_paint (priv->actor);
    
      /* Clean up state */
      /* ... */
    }
    
    ClutterActor now just calls this virtual instead of the pre_paint and
    post_paint functions. It keeps track of the next effect in the list so
    that it knows what to do when clutter_actor_continue_paint is
    called. clutter_actor_continue_paint is a new function added just for
    implementing effects.
    
    The default implementation of the run virtual just calls pre_paint and
    post_paint so that existing effects will continue to work.
    
    An effect is allowed to conditionally skip calling
    clutter_actor_continue_paint(). This is useful to implement effects
    that cache the image of an actor. The flags parameter can be used to
    determine if the actor is dirty since the last paint. ClutterActor
    sets this flag whenever propagated_one_redraw is TRUE which means that
    a redraw for this actor or one of its children was queued.

 clutter/clutter-actor.c                    |  140 +++++++++++++++-------------
 clutter/clutter-actor.h                    |    1 +
 clutter/clutter-effect-private.h           |    2 +
 clutter/clutter-effect.c                   |  124 +++++++++++++++++-------
 clutter/clutter-effect.h                   |   19 +++-
 doc/reference/clutter/clutter-sections.txt |    2 +
 6 files changed, 189 insertions(+), 99 deletions(-)

commit 05a7419e11eb557932326b13182a5b7acd6af029
Author: Miguel Bouzada <mbouzada@gmail.com>
Date:   Thu May 12 13:18:02 2011 +0200

    Updated Galician translations

 po/clutter-1.0.pot | 1085 +++++++++++++++++++++---------------------
 po/gl.po           | 1345 +++++++++++++++++++++++++++-------------------------
 2 files changed, 1239 insertions(+), 1191 deletions(-)

commit 9b0e013322bfd4ab7ab30c69afb0107608e2b298
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed May 11 10:11:59 2011 +0100

    po: Remove a non existent file in POTFILES.in

 po/POTFILES.in |    1 -
 1 file changed, 1 deletion(-)

commit 66b08ec96144d9a194ab0e91dab15a013df675d0
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Tue May 10 21:07:12 2011 +0200

    Updated Spanish translation

 po/es.po |   52 ++++++++++++++++++++++++++++++++--------------------
 1 file changed, 32 insertions(+), 20 deletions(-)

commit f5ace7b2a5ed177271a44536351d0780df982fef
Author: Neil Roberts <neil@linux.intel.com>
Date:   Thu Apr 21 16:52:54 2011 +0100

    win32: Use the Cogl WGL winsys
    
    Cogl now has a full WGL winsys so Clutter doesn't need to directly
    deal with WGL itself.

 clutter/win32/clutter-backend-win32.c |  348 ++++++++-------------------------
 clutter/win32/clutter-backend-win32.h |    6 +-
 clutter/win32/clutter-event-win32.c   |    8 +
 clutter/win32/clutter-stage-win32.c   |   59 +++---
 clutter/win32/clutter-stage-win32.h   |    3 +-
 5 files changed, 125 insertions(+), 299 deletions(-)

commit 36e3a19722140b4d3f70d80359a1536c8987e952
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Mon May 9 19:24:30 2011 +0200

    Updated Spanish translation

 po/es.po |  113 +++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 61 insertions(+), 52 deletions(-)

commit 044df4ab1e8b2db3aa642745d698e4d39f8df443
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Sun May 8 17:09:33 2011 +0200

    Updated Spanish translation

 po/es.po |   60 +++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 33 insertions(+), 27 deletions(-)

commit 043f804452a9ac12e59b1aed3bf1f2b4fad56a43
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Apr 11 14:11:39 2011 +0100

    Make the pick id pool per Stage
    
    The id pool used for the actor's id should be a per-stage field. At some
    point, we might have a Stage mapped to multiple framebuffers, or each
    Stage mapped to a different framebuffer; also, on backend with low
    color precision we don't want to exhaust the size of the available ids
    with a global pool. Finally, it's yet another thing we can remove from
    the global Clutter context.
    
    Having the id pool allocated per-stage, and the pick id assigned on
    Actor:mapped will make the whole pick-id more reliable and future proof.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2633
    
    https://bugzilla.gnome.org/show_bug.cgi?id=647876

 clutter/clutter-actor.c         |   42 ++++++++++++++++++++++++++++++-------
 clutter/clutter-main.c          |   14 ++++++++-----
 clutter/clutter-private.h       |    9 ++++----
 clutter/clutter-stage-private.h |    7 +++++++
 clutter/clutter-stage.c         |   44 +++++++++++++++++++++++++++++++++++++--
 tests/conform/test-pick.c       |   14 ++++++-------
 6 files changed, 103 insertions(+), 27 deletions(-)

commit f6e6c803d9ff95c30f489e1e66b01c589a153084
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Apr 11 12:30:51 2011 +0100

    Deprecate actor id
    
    The actor's id, which is currently used to generate the pick color,
    should not be part of the public API: it's an internal detail of the
    pick implementation, and having it exposed is like punching a hole
    through the abstraction.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2633
    
    https://bugzilla.gnome.org/show_bug.cgi?id=647876

 clutter/clutter-actor-private.h |    2 ++
 clutter/clutter-actor.c         |   10 +++++++++-
 clutter/clutter-actor.h         |    5 +++++
 clutter/clutter-main.c          |    2 ++
 4 files changed, 18 insertions(+), 1 deletion(-)

commit dbae7e60143120bac913d2dbaaf786b357f51faf
Author: Neil Roberts <neil@linux.intel.com>
Date:   Fri May 6 17:20:06 2011 +0100

    configure.ac: Remove the check for 'ffs'
    
    The check for the ffs function is only needed by Cogl we don't need to
    have it in Clutter's configure script anymore.

 configure.ac |    4 ----
 1 file changed, 4 deletions(-)

commit ea502fd49250d011b6897690a71d3e64566769b7
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri May 6 17:21:00 2011 +0100

    build: Depend on cogl-pango-1.0
    
    For both builds and introspection.

 clutter/Makefile.am |    2 +-
 configure.ac        |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit f1204bfe09aec05af08ae4baa4ae6eee5cc695e6
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri May 6 16:56:29 2011 +0100

    build: Specify the buildreq version for Cogl
    
    Don't just assume the latest.

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 21786cccd629597b38073326dee9fe9de94a55ca
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri May 6 16:55:10 2011 +0100

    build: Fix introspection rules
    
    Remove some cruft after the surgery that split Cogl out of tree.

 clutter/Makefile.am |   33 ++++++++++-----------------------
 1 file changed, 10 insertions(+), 23 deletions(-)

commit 96ac597272d30d7ae0033cdcde0ac5376655a6bb
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri May 6 16:44:40 2011 +0100

    docs: Fix README.md to match README.in

 README.md |    7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit 589c80e41e4febc981cb2218c8f6eaf1b8c33157
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri May 6 14:55:05 2011 +0100

    Remove last dependency on the GdkPixbuf API
    
    In test-pixmap.c instead of using the GdkPixbuf API to load the
    redhand.png image we now use the cairo API to load the png into a xlib
    surface which wraps our Pixmap.
    
    This test was the last thing that depended on the gdk API and since
    it's more concise to use Cairo here which is a hard dependency for
    Clutter this change means we avoid depending on GdkPixbuf directly.

 README.in                       |    4 --
 clutter/clutter-script.c        |    4 --
 configure.ac                    |    2 -
 tests/interactive/test-pixmap.c |  119 +++++++++++----------------------------
 4 files changed, 33 insertions(+), 96 deletions(-)

commit 223e14811c101e8c5821ffb21c0b7978bd8f9c24
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu May 5 20:56:44 2011 +0100

    Removes Cogl from the repository
    
    Cogl has now been split out into a standalone project with a separate
    repository at git://git.gnome.org/cogl. From now on the Clutter build
    will now simply look for a cogl-1.0 pkg-config file to find a suitable
    Cogl library to link against at build time.

 .gitignore                                         |   46 -
 README.in                                          |   35 +-
 clutter/Makefile.am                                |   75 +-
 clutter/clutter-main.c                             |    5 -
 clutter/clutter-private.h                          |    4 -
 clutter/cogl/Makefile.am                           |    7 -
 clutter/cogl/autogen.sh                            |   73 -
 clutter/cogl/build/autotools/Makefile.am.enums     |   51 -
 clutter/cogl/build/autotools/Makefile.am.silent    |   19 -
 clutter/cogl/build/autotools/as-compiler-flag.m4   |   62 -
 clutter/cogl/build/autotools/as-linguas.m4         |   24 -
 clutter/cogl/build/autotools/introspection.m4      |   94 -
 clutter/cogl/cogl/Makefile.am                      |  419 --
 clutter/cogl/cogl/cogl-1.0-clutter.pc.in           |   17 -
 clutter/cogl/cogl/cogl-1.0.pc.in                   |   13 -
 clutter/cogl/cogl/cogl-atlas-texture-private.h     |   80 -
 clutter/cogl/cogl/cogl-atlas-texture.c             |  806 ---
 clutter/cogl/cogl/cogl-atlas.c                     |  589 --
 clutter/cogl/cogl/cogl-atlas.h                     |   97 -
 clutter/cogl/cogl/cogl-attribute-private.h         |  103 -
 clutter/cogl/cogl/cogl-attribute.c                 | 1280 ----
 clutter/cogl/cogl/cogl-attribute.h                 |  182 -
 clutter/cogl/cogl/cogl-bitmap-fallback.c           |  582 --
 clutter/cogl/cogl/cogl-bitmap-pixbuf.c             |  331 -
 clutter/cogl/cogl/cogl-bitmap-private.h            |  214 -
 clutter/cogl/cogl/cogl-bitmap.c                    |  498 --
 clutter/cogl/cogl/cogl-bitmap.h                    |  131 -
 clutter/cogl/cogl/cogl-bitmask.c                   |  257 -
 clutter/cogl/cogl/cogl-bitmask.h                   |  227 -
 clutter/cogl/cogl/cogl-blend-string.c              |  984 ---
 clutter/cogl/cogl/cogl-blend-string.h              |  137 -
 clutter/cogl/cogl/cogl-blit.c                      |  395 --
 clutter/cogl/cogl/cogl-blit.h                      |   89 -
 clutter/cogl/cogl/cogl-buffer-private.h            |  163 -
 clutter/cogl/cogl/cogl-buffer.c                    |  556 --
 clutter/cogl/cogl/cogl-buffer.h                    |  242 -
 clutter/cogl/cogl/cogl-clip-stack.c                |  748 ---
 clutter/cogl/cogl/cogl-clip-stack.h                |  192 -
 clutter/cogl/cogl/cogl-clip-state-private.h        |   53 -
 clutter/cogl/cogl/cogl-clip-state.c                |  255 -
 clutter/cogl/cogl/cogl-clip-state.h                |   50 -
 clutter/cogl/cogl/cogl-clutter.c                   |   79 -
 clutter/cogl/cogl/cogl-clutter.h                   |   57 -
 clutter/cogl/cogl/cogl-color-private.h             |   45 -
 clutter/cogl/cogl/cogl-color.c                     |  313 -
 clutter/cogl/cogl/cogl-color.h                     |  544 --
 clutter/cogl/cogl/cogl-context-private.h           |  282 -
 clutter/cogl/cogl/cogl-context.c                   |  501 --
 clutter/cogl/cogl/cogl-context.h                   |   84 -
 clutter/cogl/cogl/cogl-debug-options.h             |  187 -
 clutter/cogl/cogl/cogl-debug.c                     |  248 -
 clutter/cogl/cogl/cogl-debug.h                     |  121 -
 clutter/cogl/cogl/cogl-defines.h.in                |   36 -
 clutter/cogl/cogl/cogl-deprecated.h                |   36 -
 clutter/cogl/cogl/cogl-display-glx-private.h       |   57 -
 clutter/cogl/cogl/cogl-display-private.h           |   48 -
 clutter/cogl/cogl/cogl-display-xlib-private.h      |   35 -
 clutter/cogl/cogl/cogl-display.c                   |  135 -
 clutter/cogl/cogl/cogl-display.h                   |  100 -
 clutter/cogl/cogl/cogl-enum-types.c.in             |   41 -
 clutter/cogl/cogl/cogl-enum-types.h.in             |   25 -
 clutter/cogl/cogl/cogl-feature-private.c           |  144 -
 clutter/cogl/cogl/cogl-feature-private.h           |   81 -
 clutter/cogl/cogl/cogl-fixed.c                     |  950 ---
 clutter/cogl/cogl/cogl-fixed.h                     |  804 ---
 clutter/cogl/cogl/cogl-flags.h                     |   89 -
 clutter/cogl/cogl/cogl-framebuffer-private.h       |  358 -
 clutter/cogl/cogl/cogl-framebuffer.c               | 1731 -----
 clutter/cogl/cogl/cogl-framebuffer.h               |  226 -
 clutter/cogl/cogl/cogl-gtype-private.h             |   48 -
 clutter/cogl/cogl/cogl-handle.h                    |   35 -
 clutter/cogl/cogl/cogl-index-array-private.h       |   39 -
 clutter/cogl/cogl/cogl-index-array.c               |  131 -
 clutter/cogl/cogl/cogl-index-array.h               |   79 -
 clutter/cogl/cogl/cogl-indices-private.h           |   54 -
 clutter/cogl/cogl/cogl-indices.c                   |  253 -
 clutter/cogl/cogl/cogl-indices.h                   |   77 -
 clutter/cogl/cogl/cogl-internal.h                  |  135 -
 clutter/cogl/cogl/cogl-journal-private.h           |   93 -
 clutter/cogl/cogl/cogl-journal.c                   | 1805 ------
 clutter/cogl/cogl/cogl-material-compat.c           |  495 --
 clutter/cogl/cogl/cogl-material-compat.h           | 1397 ----
 clutter/cogl/cogl/cogl-matrix-mesa.c               | 1700 -----
 clutter/cogl/cogl/cogl-matrix-mesa.h               |  226 -
 clutter/cogl/cogl/cogl-matrix-private.h            |   47 -
 clutter/cogl/cogl/cogl-matrix-stack.c              |  550 --
 clutter/cogl/cogl/cogl-matrix-stack.h              |  130 -
 clutter/cogl/cogl/cogl-matrix.c                    |  673 --
 clutter/cogl/cogl/cogl-matrix.h                    |  589 --
 clutter/cogl/cogl/cogl-object-private.h            |  276 -
 clutter/cogl/cogl/cogl-object.c                    |  249 -
 clutter/cogl/cogl/cogl-object.h                    |  127 -
 clutter/cogl/cogl/cogl-offscreen.h                 |  105 -
 clutter/cogl/cogl/cogl-onscreen-template-private.h |   37 -
 clutter/cogl/cogl/cogl-onscreen-template.c         |   62 -
 clutter/cogl/cogl/cogl-onscreen-template.h         |   48 -
 clutter/cogl/cogl/cogl-path-private.h              |  115 -
 clutter/cogl/cogl/cogl-path.c                      |  303 -
 clutter/cogl/cogl/cogl-path.h                      |  491 --
 .../cogl/cogl-pipeline-fragend-arbfp-private.h     |   43 -
 clutter/cogl/cogl/cogl-pipeline-fragend-arbfp.c    | 1109 ----
 .../cogl/cogl-pipeline-fragend-fixed-private.h     |   36 -
 clutter/cogl/cogl/cogl-pipeline-fragend-fixed.c    |  366 --
 .../cogl/cogl/cogl-pipeline-fragend-glsl-private.h |   39 -
 clutter/cogl/cogl/cogl-pipeline-fragend-glsl.c     |  899 ---
 clutter/cogl/cogl/cogl-pipeline-opengl-private.h   |  155 -
 clutter/cogl/cogl/cogl-pipeline-opengl.c           | 1332 ----
 clutter/cogl/cogl/cogl-pipeline-private.h          | 1258 ----
 .../cogl/cogl/cogl-pipeline-progend-glsl-private.h |   54 -
 clutter/cogl/cogl/cogl-pipeline-progend-glsl.c     |  949 ---
 .../cogl/cogl-pipeline-vertend-fixed-private.h     |   36 -
 clutter/cogl/cogl/cogl-pipeline-vertend-fixed.c    |  125 -
 .../cogl/cogl/cogl-pipeline-vertend-glsl-private.h |   39 -
 clutter/cogl/cogl/cogl-pipeline-vertend-glsl.c     |  420 --
 clutter/cogl/cogl/cogl-pipeline.c                  | 6854 --------------------
 clutter/cogl/cogl/cogl-pipeline.h                  | 1256 ----
 clutter/cogl/cogl/cogl-pixel-array-private.h       |   55 -
 clutter/cogl/cogl/cogl-pixel-array.c               |  148 -
 clutter/cogl/cogl/cogl-pixel-array.h               |  131 -
 clutter/cogl/cogl/cogl-point-in-poly-private.h     |   40 -
 clutter/cogl/cogl/cogl-point-in-poly.c             |  100 -
 clutter/cogl/cogl/cogl-primitive-private.h         |   54 -
 clutter/cogl/cogl/cogl-primitive.c                 |  553 --
 clutter/cogl/cogl/cogl-primitive.h                 |  674 --
 clutter/cogl/cogl/cogl-primitives-private.h        |   43 -
 clutter/cogl/cogl/cogl-primitives.c                | 1178 ----
 clutter/cogl/cogl/cogl-primitives.h                |  190 -
 clutter/cogl/cogl/cogl-private.h                   |   53 -
 clutter/cogl/cogl/cogl-profile.c                   |   78 -
 clutter/cogl/cogl/cogl-profile.h                   |   61 -
 clutter/cogl/cogl/cogl-program-private.h           |   84 -
 clutter/cogl/cogl/cogl-program.c                   |  633 --
 clutter/cogl/cogl/cogl-rectangle-map.c             |  752 ---
 clutter/cogl/cogl/cogl-rectangle-map.h             |   78 -
 clutter/cogl/cogl/cogl-renderer-glx-private.h      |   61 -
 clutter/cogl/cogl/cogl-renderer-private.h          |   47 -
 clutter/cogl/cogl/cogl-renderer-x11-private.h      |   32 -
 clutter/cogl/cogl/cogl-renderer-xlib-private.h     |   76 -
 clutter/cogl/cogl/cogl-renderer-xlib.c             |  200 -
 clutter/cogl/cogl/cogl-renderer.c                  |  285 -
 clutter/cogl/cogl/cogl-renderer.h                  |  164 -
 clutter/cogl/cogl/cogl-shader-boilerplate.h        |  127 -
 clutter/cogl/cogl/cogl-shader-private.h            |   65 -
 clutter/cogl/cogl/cogl-shader.c                    |  534 --
 clutter/cogl/cogl/cogl-shader.h                    |  453 --
 clutter/cogl/cogl/cogl-spans.c                     |  132 -
 clutter/cogl/cogl/cogl-spans.h                     |   70 -
 clutter/cogl/cogl/cogl-sub-texture-private.h       |   70 -
 clutter/cogl/cogl/cogl-sub-texture.c               |  473 --
 clutter/cogl/cogl/cogl-swap-chain-private.h        |   38 -
 clutter/cogl/cogl/cogl-swap-chain.c                |   74 -
 clutter/cogl/cogl/cogl-swap-chain.h                |   51 -
 clutter/cogl/cogl/cogl-texture-2d-private.h        |  115 -
 clutter/cogl/cogl/cogl-texture-2d-sliced-private.h |   71 -
 clutter/cogl/cogl/cogl-texture-2d-sliced.c         | 1397 ----
 clutter/cogl/cogl/cogl-texture-2d.c                |  741 ---
 clutter/cogl/cogl/cogl-texture-3d-private.h        |   98 -
 clutter/cogl/cogl/cogl-texture-3d.c                |  681 --
 clutter/cogl/cogl/cogl-texture-3d.h                |  154 -
 clutter/cogl/cogl/cogl-texture-driver.h            |  213 -
 clutter/cogl/cogl/cogl-texture-private.h           |  303 -
 clutter/cogl/cogl/cogl-texture-rectangle-private.h |   75 -
 clutter/cogl/cogl/cogl-texture-rectangle.c         |  652 --
 clutter/cogl/cogl/cogl-texture.c                   | 1533 -----
 clutter/cogl/cogl/cogl-texture.h                   |  464 --
 clutter/cogl/cogl/cogl-types.h                     |  674 --
 clutter/cogl/cogl/cogl-util.c                      |  240 -
 clutter/cogl/cogl/cogl-util.h                      |  106 -
 clutter/cogl/cogl/cogl-vector.c                    |  284 -
 clutter/cogl/cogl/cogl-vector.h                    |  389 --
 clutter/cogl/cogl/cogl-vertex-array-private.h      |   39 -
 clutter/cogl/cogl/cogl-vertex-array.c              |   77 -
 clutter/cogl/cogl/cogl-vertex-array.h              |   82 -
 clutter/cogl/cogl/cogl-vertex-buffer-private.h     |  164 -
 clutter/cogl/cogl/cogl-vertex-buffer.c             | 1772 -----
 clutter/cogl/cogl/cogl-vertex-buffer.h             |  409 --
 clutter/cogl/cogl/cogl-xlib-private.h              |   76 -
 clutter/cogl/cogl/cogl-xlib.c                      |  184 -
 clutter/cogl/cogl/cogl-xlib.h                      |   84 -
 clutter/cogl/cogl/cogl.c                           | 1114 ----
 clutter/cogl/cogl/cogl.h                           | 1262 ----
 clutter/cogl/cogl/cogl.pc.in                       |   13 -
 clutter/cogl/cogl/cogl2-clip-state.c               |   49 -
 clutter/cogl/cogl/cogl2-clip-state.h               |   52 -
 clutter/cogl/cogl/cogl2-path.c                     | 1572 -----
 clutter/cogl/cogl/cogl2-path.h                     |  506 --
 clutter/cogl/cogl/driver/Makefile.am               |    7 -
 .../cogl/cogl/driver/gl/cogl-context-driver-gl.h   |   53 -
 .../cogl/driver/gl/cogl-feature-functions-gl.h     |  423 --
 clutter/cogl/cogl/driver/gl/cogl-gl.c              |  233 -
 .../cogl/cogl/driver/gl/cogl-texture-driver-gl.c   |  522 --
 .../cogl/driver/gles/cogl-context-driver-gles.h    |   52 -
 .../cogl/driver/gles/cogl-feature-functions-gles.h |  141 -
 clutter/cogl/cogl/driver/gles/cogl-gles.c          |  150 -
 .../cogl/driver/gles/cogl-texture-driver-gles.c    |  511 --
 clutter/cogl/cogl/stb_image.c                      | 3891 -----------
 clutter/cogl/cogl/tesselator/GL/glu.h              |   40 -
 clutter/cogl/cogl/tesselator/README                |  446 --
 clutter/cogl/cogl/tesselator/dict-list.h           |  100 -
 clutter/cogl/cogl/tesselator/dict.c                |  111 -
 clutter/cogl/cogl/tesselator/dict.h                |  100 -
 clutter/cogl/cogl/tesselator/geom.c                |  264 -
 clutter/cogl/cogl/tesselator/geom.h                |   84 -
 clutter/cogl/cogl/tesselator/gluos.h               |    1 -
 clutter/cogl/cogl/tesselator/memalloc.h            |   42 -
 clutter/cogl/cogl/tesselator/mesh.c                |  798 ---
 clutter/cogl/cogl/tesselator/mesh.h                |  266 -
 clutter/cogl/cogl/tesselator/normal.c              |  257 -
 clutter/cogl/cogl/tesselator/normal.h              |   45 -
 clutter/cogl/cogl/tesselator/priorityq-heap.c      |  256 -
 clutter/cogl/cogl/tesselator/priorityq-heap.h      |  107 -
 clutter/cogl/cogl/tesselator/priorityq-sort.h      |  117 -
 clutter/cogl/cogl/tesselator/priorityq.c           |  260 -
 clutter/cogl/cogl/tesselator/priorityq.h           |  117 -
 clutter/cogl/cogl/tesselator/render.c              |  502 --
 clutter/cogl/cogl/tesselator/render.h              |   52 -
 clutter/cogl/cogl/tesselator/sweep.c               | 1361 ----
 clutter/cogl/cogl/tesselator/sweep.h               |   77 -
 clutter/cogl/cogl/tesselator/tess.c                |  632 --
 clutter/cogl/cogl/tesselator/tess.h                |  165 -
 clutter/cogl/cogl/tesselator/tesselator.h          |  121 -
 clutter/cogl/cogl/tesselator/tessmono.c            |  201 -
 clutter/cogl/cogl/tesselator/tessmono.h            |   71 -
 .../cogl/winsys/cogl-texture-pixmap-x11-private.h  |   87 -
 clutter/cogl/cogl/winsys/cogl-texture-pixmap-x11.c |  972 ---
 clutter/cogl/cogl/winsys/cogl-texture-pixmap-x11.h |  155 -
 .../winsys/cogl-winsys-egl-feature-functions.h     |   57 -
 clutter/cogl/cogl/winsys/cogl-winsys-egl.c         | 1282 ----
 .../winsys/cogl-winsys-glx-feature-functions.h     |  105 -
 clutter/cogl/cogl/winsys/cogl-winsys-glx.c         | 1959 ------
 clutter/cogl/cogl/winsys/cogl-winsys-private.h     |  154 -
 clutter/cogl/cogl/winsys/cogl-winsys-sdl.c         |   35 -
 clutter/cogl/cogl/winsys/cogl-winsys-stub.c        |  112 -
 clutter/cogl/cogl/winsys/cogl-winsys.c             |   45 -
 clutter/cogl/configure.ac                          |  769 ---
 clutter/cogl/doc/CODING_STYLE                      |   49 -
 clutter/cogl/examples/Makefile.am                  |   31 -
 clutter/cogl/examples/hello.c                      |   49 -
 clutter/cogl/examples/x11-foreign.c                |  156 -
 clutter/cogl/pango/Makefile.am                     |   56 -
 clutter/cogl/pango/cogl-pango-display-list.c       |  444 --
 clutter/cogl/pango/cogl-pango-display-list.h       |   69 -
 clutter/cogl/pango/cogl-pango-fontmap.c            |  209 -
 clutter/cogl/pango/cogl-pango-glyph-cache.c        |  414 --
 clutter/cogl/pango/cogl-pango-glyph-cache.h        |   93 -
 clutter/cogl/pango/cogl-pango-pipeline-cache.c     |  238 -
 clutter/cogl/pango/cogl-pango-pipeline-cache.h     |   53 -
 clutter/cogl/pango/cogl-pango-private.h            |   38 -
 clutter/cogl/pango/cogl-pango-render.c             |  836 ---
 clutter/cogl/pango/cogl-pango.h                    |   85 -
 clutter/cogl/po/ChangeLog                          |   12 -
 clutter/cogl/po/Makevars                           |   41 -
 clutter/cogl/po/POTFILES.in                        |    1 -
 clutter/cogl/po/Rules-quot                         |   47 -
 clutter/cogl/po/boldquot.sed                       |   10 -
 clutter/cogl/po/en@boldquot.header                 |   25 -
 clutter/cogl/po/en@quot.header                     |   22 -
 clutter/cogl/po/insert-header.sin                  |   23 -
 clutter/cogl/po/quot.sed                           |    6 -
 clutter/cogl/po/remove-potcdate.sin                |   19 -
 clutter/glx/clutter-glx-texture-pixmap.c           |    4 -
 clutter/wayland/clutter-backend-wayland.c          |   16 +-
 clutter/x11/clutter-x11-texture-pixmap.c           |    6 +-
 configure.ac                                       |  373 +-
 doc/reference/Makefile.am                          |    4 +-
 doc/reference/cogl/Makefile.am                     |  151 -
 doc/reference/cogl/blend-strings.xml               |  129 -
 doc/reference/cogl/cogl-docs.xml.in                |  206 -
 doc/reference/cogl/cogl-sections.txt               |  660 --
 doc/reference/cogl/cogl_ortho.png                  |  Bin 12650 -> 0 bytes
 doc/reference/cogl/fill-rule-even-odd.png          |  Bin 3121 -> 0 bytes
 doc/reference/cogl/fill-rule-non-zero.png          |  Bin 3143 -> 0 bytes
 doc/reference/cogl/quad-indices-order.png          |  Bin 2620 -> 0 bytes
 doc/reference/cogl/quad-indices-triangles.png      |  Bin 8018 -> 0 bytes
 tests/conform/test-cogl-texture-pixmap-x11.c       |    4 +-
 tests/interactive/test-box-layout.c                |    2 +-
 tests/interactive/test-table-layout.c              |    2 +-
 277 files changed, 25 insertions(+), 89249 deletions(-)

commit 00f2a39ac547f4bc0f15f18c41baf749c3ffc602
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Apr 12 17:01:51 2011 +0100

    stage: Use Cairo to dump the pick buffer
    
    Do not use GdkPixbuf just for getting image data down into a PNG; Cairo
    is perfectly capable of doing the same, at least just for debugging
    purposes.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=647875

 clutter/clutter-stage.c |   65 +++++++++++++----------------------------------
 1 file changed, 17 insertions(+), 48 deletions(-)

commit 3a071a4787c614144579e080f0d9b545e256a4ad
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Apr 12 17:00:46 2011 +0100

    cairo-texture: Make the pixel order macro public
    
    It stands to reason that any piece of code using Cairo and Cogl at the
    same time, and dealing with texture data, will want to use the same
    logic Clutter uses to determine the compatible pixel format between the
    two.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=647875

 clutter/clutter-cairo-texture.c |   13 ++-----------
 clutter/clutter-cairo-texture.h |   20 ++++++++++++++++++++
 2 files changed, 22 insertions(+), 11 deletions(-)

commit d6fbdf69045ce91af4302f9755019518c1879523
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Thu May 5 19:26:47 2011 +0200

    Updated Spanish translation

 po/es.po |   54 +++++++++++++++++++++++++++++++-----------------------
 1 file changed, 31 insertions(+), 23 deletions(-)

commit 6d9458debb9eaa7db6750f5eb35c9f322c0b8b7e
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Mar 30 16:39:38 2011 +0100

    cogl-debug: Add an option to disable atlasing sharing
    
    If COGL_DEBUG contains disable-shared-atlas Cogl will not try to share
    the atlas between glyphs and images.

 clutter/cogl/cogl/cogl-debug-options.h      |    6 ++++++
 clutter/cogl/cogl/cogl-debug.c              |    1 +
 clutter/cogl/cogl/cogl-debug.h              |    1 +
 clutter/cogl/pango/cogl-pango-glyph-cache.c |    3 +++
 4 files changed, 11 insertions(+)

commit 77cd2ca08ed9633e92528b34804046bf47586259
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Mar 30 16:33:04 2011 +0100

    cogl_pipeline_equal: Handle COGL_WRAP_MODE_AUTOMATIC better
    
    When comparing the wrap modes of two pipeline layers it now considers
    COGL_WRAP_MODE_AUTOMATIC to be equivalent to CLAMP_TO_EDGE. By the
    time the pipeline is in the journal, the upper primitive code is
    expected to have overridden this wrap mode with something else if it
    wants any other behaviour. This is important for getting text to batch
    together with textures because the text explicitly sets the wrap mode
    to CLAMP_TO_EDGE on its pipeline.

 clutter/cogl/cogl/cogl-pipeline.c |   29 ++++++++++++++++++++++++++---
 1 file changed, 26 insertions(+), 3 deletions(-)

commit 41e464fc9e04faa089f6ece6b15c2e67afd0450e
Author: Neil Roberts <neil@linux.intel.com>
Date:   Fri Feb 26 13:01:54 2010 +0000

    cogl-pango: Don't set the special combine function for atlased textures
    
    The material cache will now only set the special combine mode if the
    texture only has an alpha component. The atlased textures will have
    all four components so it will leave the combine functions at the
    default. This increases the chances of batching between glyphs and
    images.
    
    When using the global atlas, the glyph from cairo is now rendered into
    an ARGB surface rather than an alpha-only surface.

 clutter/cogl/pango/cogl-pango-pipeline-cache.c |   61 +++++++++++++++++-------
 clutter/cogl/pango/cogl-pango-render.c         |   28 ++++++++++-
 2 files changed, 70 insertions(+), 19 deletions(-)

commit 9083fc8e1fd34a61aa5d95363404843709acee3f
Author: Neil Roberts <neil@linux.intel.com>
Date:   Fri Feb 26 12:38:22 2010 +0000

    cogl-pango: Use a seperate cache of pipelines
    
    Instead of creating just two materials (one for texturing and one for
    solid primitives) the pango renderer now maintains a cache of
    pipelines. The display list can request a pipeline for a texture from
    the cache. The same pipeline cache is used by all display lists so
    that the pipelines can be shared. This avoids changing the texture on
    the material during a paint run.

 clutter/cogl/pango/Makefile.am                 |   16 +-
 clutter/cogl/pango/cogl-pango-display-list.c   |   68 ++++----
 clutter/cogl/pango/cogl-pango-display-list.h   |    7 +-
 clutter/cogl/pango/cogl-pango-pipeline-cache.c |  211 ++++++++++++++++++++++++
 clutter/cogl/pango/cogl-pango-pipeline-cache.h |   53 ++++++
 clutter/cogl/pango/cogl-pango-render.c         |   77 +++------
 6 files changed, 338 insertions(+), 94 deletions(-)

commit 22ce8a7111f9e814e92754eec9cf521d9586fb08
Author: Neil Roberts <neil@linux.intel.com>
Date:   Mon Feb 22 16:40:49 2010 +0000

    cogl-pango-glyph-cache: Don't put zero-sized glyphs in the cache
    
    It now avoids trying to reserve space for zero-sized glyphs. That
    happens for example when the layout contains a space. This was causing
    the regular glyph cache to be used because the global atlas does not
    support zero-sized images. That would then break up the
    batching. Instead it now still reserves an entry in the cache but
    leaves the texture as COGL_INVALID_HANDLE.

 clutter/cogl/pango/cogl-pango-glyph-cache.c |   39 ++++++++++++++++-----------
 clutter/cogl/pango/cogl-pango-render.c      |    7 ++++-
 2 files changed, 30 insertions(+), 16 deletions(-)

commit 0c755f690951652bd1d3e3f9a2fd01de0c7f6522
Author: Neil Roberts <neil@linux.intel.com>
Date:   Thu May 5 16:09:22 2011 +0100

    Revert "cogl-pango-display-list: Don't use VBOs if the texture can't handle it"
    
    This reverts commit 32c91793e46e0625a19c0d2bc98d6cd147dff702.
    
    This commit is no longer needed since the display list will now only
    have primitive textures in it.

 clutter/cogl/pango/cogl-pango-display-list.c |    6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit 9cb45144a89e03baa746fa62ccd5972378baee08
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Mar 30 13:48:34 2011 +0100

    cogl-pango-render: Add the base texture to the display list
    
    When rendering a glyph from a texture, instead of adding the glyph's
    texture handle to the display list it now retrieves the base texture
    using _cogl_texture_foreach_subtexture_in_region and adds that
    instead. That way the display can recognise that glyphs in the global
    atlas are sharing the same texture and combine them into one VBO.

 clutter/cogl/pango/cogl-pango-render.c |   62 ++++++++++++++++++++++++++------
 1 file changed, 51 insertions(+), 11 deletions(-)

commit 22649b810f3247c2affc7ac18e8ebe23e219b4ba
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Mar 30 13:46:46 2011 +0100

    cogl-bitmap-private.h: Include cogl-bitmap.h
    
    There was a header dependency problem which meant that
    cogl-texture-private.h couldn't be included without first including
    cogl-bitmap.h

 clutter/cogl/cogl/cogl-bitmap-private.h |    1 +
 1 file changed, 1 insertion(+)

commit d0a615e17b0aa32f20cc7c1d4e0ab97193f85195
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Mar 30 12:56:09 2011 +0100

    cogl-pango-glyph-cache: Notify of reorg for global atlased glyphs
    
    Whenever the glyph cache puts a glyph in the global atlas it will now
    register for notifications of reorganisation of the global
    atlases. When this happens it will forward this on as a notification
    of reorganisation of the glyph cache.

 clutter/cogl/pango/cogl-pango-glyph-cache.c |   36 +++++++++++++++++++++------
 1 file changed, 28 insertions(+), 8 deletions(-)

commit 241c3c0d43ef562fa8d04b6cac1848fad6ba2a29
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Mar 30 12:53:50 2011 +0100

    cogl-atlas-texture: Add a callback for when any atlas reorganizes
    
    This adds cogl_atlas_texture_* functions to register a callback that
    will get invoked whenever any of the CoglAtlas's the textures use get
    reorganized. The callback is global and is not tied to any particular
    atlas texture.

 clutter/cogl/cogl/cogl-atlas-texture-private.h |    8 ++++++
 clutter/cogl/cogl/cogl-atlas-texture.c         |   36 ++++++++++++++++++++++++
 clutter/cogl/cogl/cogl-context-private.h       |    1 +
 clutter/cogl/cogl/cogl-context.c               |    2 ++
 4 files changed, 47 insertions(+)

commit e3c57941bddd8d77947f8de23661d061aaaed78e
Author: Neil Roberts <neil@linux.intel.com>
Date:   Thu Feb 18 17:35:14 2010 +0000

    pango-glyph-cache: Try to put glyphs in the global atlas
    
    If mipmapping is disabled, it will now try to create a standalone
    atlas texture for a glyph rather than putting it in the atlas.
    
    If the atlas texture can't be created then it will fallback to the
    glyph cache.

 clutter/cogl/pango/cogl-pango-glyph-cache.c |  139 ++++++++++++++++++++-------
 1 file changed, 102 insertions(+), 37 deletions(-)

commit 9aaaee03085d709db930f56333c204672d32d81d
Author: Neil Roberts <neil@linux.intel.com>
Date:   Thu Feb 18 16:33:12 2010 +0000

    cogl-atlas-texture: Split out new_from_bitmap to new_with_size
    
    This adds a new function called _cogl_atlas_texture_new_with_size. The
    old new_from_bitmap function now just calls this and updates the
    texture with the data.

 clutter/cogl/cogl/cogl-atlas-texture-private.h |    6 ++
 clutter/cogl/cogl/cogl-atlas-texture.c         |   81 +++++++++++++++---------
 2 files changed, 57 insertions(+), 30 deletions(-)

commit 32c91793e46e0625a19c0d2bc98d6cd147dff702
Author: Neil Roberts <neil@linux.intel.com>
Date:   Thu Feb 18 15:04:06 2010 +0000

    cogl-pango-display-list: Don't use VBOs if the texture can't handle it
    
    If the texture can't be hardware repeated (ie, if it is sliced or it
    has waste) then Cogl will reject the layer when rendering with a
    VBO. In this case we should always fall back to rendering with
    cogl_rectangle.
    
    This commit is only needed temporarily because Cogl will end up
    putting atlas textures in the display list. A later commit in the
    series will make it so that the display list always has primitive
    textures in it so this commit can be reverted.

 clutter/cogl/pango/cogl-pango-display-list.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 51eec9bf53eec923504e7cf0392d3c15f545bd3e
Author: Neil Roberts <neil@linux.intel.com>
Date:   Thu Feb 18 14:30:44 2010 +0000

    cogl-pango: Use a separate glyph cache for mipmapped rendering
    
    This reverts the changes in 54d8aadf which combined the two glyph
    caches into one. We want to start using separate caches again so that
    we can non-mipmapped textures into the global atlas.

 clutter/cogl/pango/cogl-pango-glyph-cache.c |    2 +-
 clutter/cogl/pango/cogl-pango-glyph-cache.h |    2 +-
 clutter/cogl/pango/cogl-pango-render.c      |   77 ++++++++++++++++++---------
 3 files changed, 55 insertions(+), 26 deletions(-)

commit 4d3bf09e60af216774d5b1ec118f420ee0b7137b
Author: Robert Bragg <robert@linux.intel.com>
Date:   Wed May 4 17:02:04 2011 +0100

    Adds a way for Cogl to control event_mask of foreign wins
    
    This extends cogl_onscreen_x11_set_foreign_xid to take a callback to a
    function that details the event mask the Cogl requires the application
    to select on foreign windows. This is required because Cogl, for
    example, needs to track size changes of a window and may also in the
    future want other notifications such as map/unmap.
    
    Most applications wont need to use the foreign xwindow apis, but those
    that do are required to pass a valid callback and update the event mask
    of their window according to Cogl's requirements.

 clutter/cogl/cogl/cogl-framebuffer-private.h |    2 +
 clutter/cogl/cogl/cogl-framebuffer.c         |   10 ++++-
 clutter/cogl/cogl/cogl-framebuffer.h         |   58 +++++++++++++++++++++++++-
 clutter/cogl/cogl/winsys/cogl-winsys-egl.c   |   11 ++++-
 clutter/cogl/cogl/winsys/cogl-winsys-glx.c   |   11 ++++-
 clutter/cogl/examples/x11-foreign.c          |   22 +++++++++-
 clutter/glx/clutter-stage-glx.c              |    9 +++-
 clutter/x11/clutter-stage-x11.c              |   29 ++++++++-----
 clutter/x11/clutter-stage-x11.h              |   17 ++++++++
 9 files changed, 151 insertions(+), 18 deletions(-)

commit 50d688399bf4b1e31486f7e2b659f26994f78348
Author: Robert Bragg <robert@linux.intel.com>
Date:   Wed May 4 11:10:54 2011 +0100

    Adds cogl_onscreen_show/hide functions
    
    This adds Cogl API to show and hide onscreen framebuffers. We don't want
    to go too far down the road of abstracting window system APIs with Cogl
    since that would be out of its scope but the previous idea that we would
    automatically map framebuffers on allocation except for those made from
    foreign windows wasn't good enough. The problem is that we don't want to
    make Clutter always create stages from foreign windows but with the
    automatic map semantics then Clutter doesn't get an opportunity to
    select for all the events it requires before mapping. This meant that we
    wouldn't be delivered a mouse enter event for windows mapped underneath
    the cursor which would break Clutters handling of button press events.

 clutter/cogl/cogl/cogl-framebuffer.c           |   31 ++++++++++++++
 clutter/cogl/cogl/cogl-framebuffer.h           |   52 ++++++++++++++++++++++++
 clutter/cogl/cogl/winsys/cogl-winsys-egl.c     |   21 +++++++++-
 clutter/cogl/cogl/winsys/cogl-winsys-glx.c     |   17 +++++++-
 clutter/cogl/cogl/winsys/cogl-winsys-private.h |    4 ++
 clutter/cogl/examples/hello.c                  |    2 +
 6 files changed, 123 insertions(+), 4 deletions(-)

commit 53395e732e18af8c2c22d12cc598a6dd1a71670a
Author: Robert Bragg <robert@linux.intel.com>
Date:   Wed May 4 00:16:50 2011 +0100

    add missing name mangle for cogl_onscreen_set_swap_throttled
    
    We weren't mangling cogl_onscreen_set_swap_throttled to give it an _EXP
    postfix to clarify that it is an experimental symbol.

 clutter/cogl/cogl/cogl-framebuffer.h |    1 +
 1 file changed, 1 insertion(+)

commit 06c64adb5762fb3f1691b0404a264063914f2bde
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue May 3 21:00:00 2011 +0100

    Add missing _cogl_winsys_has_feature prototype
    
    This adds a private prototype for _cogl_winsys_has_feature in
    cogl-winsys-private.h to avoid compilation warnings.

 clutter/cogl/cogl/winsys/cogl-winsys-private.h |    3 +++
 1 file changed, 3 insertions(+)

commit 89fd655a9e22f508e2a402d2020fbe0aef3669b0
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Apr 19 17:48:40 2011 +0100

    cogl/pango/Makefile.am pass EXTRA_LDFLAGS for linking
    
    When building on windows for example we need to ensure we pass
    -no-undefined to the linker. Although we were substituting a
    COGL_EXTRA_LDFLAGS variable from our configure.ac we forgot to
    reference that when linking cogl-pango.

 clutter/cogl/pango/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f2cd2d8be847681d81a3864e2ac3fee2917a273c
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Apr 19 17:47:57 2011 +0100

    cogl/configure.ac: AC_SUBST an empty MAINTAINER_CFLAGS
    
    For compatibility with the way we build Cogl as part of Clutter we now
    substitute an empty MAINTAINER_CFLAGS variable. When building Cogl
    standalone all our extra CFLAGS go through COGL_EXTRA_CFLAGS so the
    separate MAINTAINER_CFLAGS aren't used, but automake will get confused
    if a substitution isn't made.

 clutter/cogl/configure.ac |    4 ++++
 1 file changed, 4 insertions(+)

commit a8e497e6473ded5c62688b4323b3131bc33b9426
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Apr 19 17:45:26 2011 +0100

    cogl/configure.ac: check when building for win32
    
    This adds a check for when building on win32 so we can skip pkg-config
    checks for opengl and can add appropriate flags to
    COGL_EXTRA_{LD,C}FLAGS.

 clutter/cogl/configure.ac |   47 +++++++++++++++++++++++++++++++++++++--------
 1 file changed, 39 insertions(+), 8 deletions(-)

commit 2303e4d60332139584bdd31ed7896af33e97388f
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Apr 19 17:42:48 2011 +0100

    cogl/configure.ac: fix pkg-config checks
    
    This fixes the gdk-pixbuf check to not mistakenly check for the "xi"
    package instead of gdk-pixbuf and remove a spurious listing "gl" in
    COGL_PKG_REQUIRES which should only be there when we are using using
    opengl not if we are using gles.

 clutter/cogl/configure.ac |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 8bde73529f8d08ad9cc9b64df482ec93fd5ed804
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Apr 19 17:40:57 2011 +0100

    cogl/Makefile.am: pass EXTRA_LDFLAGS for linking
    
    When building on windows for example we need to ensure we pass
    -no-undefined to the linker. Although we were substituting a
    COGL_EXTRA_LDFLAGS variable from our configure.ac we forgot to
    reference that when linking cogl.

 clutter/cogl/cogl/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7a3d06c55c99317e6193c56742d21c6930fbb340
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Apr 18 17:45:36 2011 +0100

    cogl: remove OSX/WIN32 specific bits in favour of a stub winsys
    
    Until Cogl gains native win32/OSX support this remove the osx and win32
    winsys files and instead we'll just rely on the stub-winsys.c to handle
    these platforms. Since the only thing the platform specific files were
    providing anyway was a get_proc_address function; it was trivial to
    simply update the clutter backend code to handle this directly for now.

 clutter/cogl/cogl/Makefile.am                |    8 +-----
 clutter/cogl/cogl/winsys/cogl-winsys-osx.c   |   35 --------------------------
 clutter/cogl/cogl/winsys/cogl-winsys-stub.c  |    5 ++++
 clutter/cogl/cogl/winsys/cogl-winsys-win32.c |   35 --------------------------
 clutter/cogl/configure.ac                    |    6 +----
 clutter/win32/clutter-backend-win32.c        |    2 +-
 6 files changed, 8 insertions(+), 83 deletions(-)

commit 3d0a853c6f5402584be4ecd2e881924a55f8ef22
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Apr 18 17:35:15 2011 +0100

    cogl-gl.c: remove really_enable_npot hack for OSX
    
    This is a workaround for a bug on OSX for some radeon hardware that
    we can't verify and the referenced bug link is no longer valid.
    
    If this is really still a problem then a new bug should be opened and we
    can look at putting the fix in some more appropriate place than
    cogl-gl.c

 clutter/cogl/cogl/driver/gl/cogl-gl.c |   37 ++++-----------------------------
 1 file changed, 4 insertions(+), 33 deletions(-)

commit 723e5de4b6390067b2e5af764cefae45392345cd
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Apr 18 17:17:21 2011 +0100

    cogl/configure.ac: Adds --enable-stub-winsys option
    
    We want to be able to split Cogl out as a standalone project but there
    are still some window systems that aren't natively supported by Cogl.
    This allows Clutter to support those window systems directly but still
    work with a standalone Cogl library.
    
    This also ensures we set the SUPPORT_STUB conditional in clutter's
    configure.ac when building for win32/osx and wayland.

 clutter/cogl/configure.ac |   33 ++++++++++++++++++++++++++++++++-
 configure.ac              |    3 +++
 2 files changed, 35 insertions(+), 1 deletion(-)

commit 799caeb588973ea4b64003efc31c9853a05d8f73
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Apr 18 16:26:17 2011 +0100

    winsys-glx: map X window automatically if not foreign
    
    For now we are going for the semantics that when a CoglOnscreen is first
    allocated then it will automatically be mapped. This is for convenience
    and if you don't want that behaviour then it is possible to instead
    create an Onscreen from a foreign X window and in that case it wont be
    mapped automatically.
    
    This approach means that Cogl doesn't need onscreen_map/unmap functions
    but it's possible we'll decide later that we can't avoid adding such
    functions and we'll have to change these semantics.

 clutter/cogl/cogl/winsys/cogl-winsys-glx.c |    2 ++
 1 file changed, 2 insertions(+)

commit 27770b913fa830140093347b919eb385c74694ec
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Apr 18 15:57:32 2011 +0100

    cogl/configure.ac: make COGL_HAS_xyz defines public
    
    Instead of using AC_DEFINE for the various COGL_HAS_PLATFORM defines
    this now adds them to the COGL_DEFINES_SYMBOLS variable which gets
    substituted into the public cogl-defines.h header.

 clutter/cogl/configure.ac |   12 +++---------
 1 file changed, 3 insertions(+), 9 deletions(-)

commit c2631b2bf7372c3488c04c5c25479a29ab234fd5
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Apr 12 18:50:54 2011 +0100

    add missing Cogl bits to .gitignore

 .gitignore |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 136cf1b2d6cdb37734b2369991b748344190a3dd
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Apr 18 13:07:21 2011 +0100

    clutter/Makefile.am: mark clutter-cex100.h as BUILT_SOURCES
    
    clutter-xcex100.h is generated from clutter-cex100.h.in when running
    ./configure so it should be added to automake's BUILT_SOURCES variable.

 clutter/Makefile.am |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 825a51b89899c8ced9f5b1056ce8f4a06fcdc48e
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Mar 17 19:32:54 2011 +0000

    Adds Cogl Hello World and "X11 foreign" example applications
    
    This adds a simple standalone Cogl application that can be used to
    smoke test a standalone build of Cogl without Clutter.
    
    This also adds an x11-foreign app that shows how a toolkit can ask Cogl
    to draw to an X Window that it owns instead of Cogl being responsible
    for automatically creating and mapping an X Window for CoglOnscreen.

 clutter/cogl/Makefile.am            |    2 +-
 clutter/cogl/configure.ac           |    1 +
 clutter/cogl/examples/Makefile.am   |   31 ++++++++
 clutter/cogl/examples/hello.c       |   47 ++++++++++++
 clutter/cogl/examples/x11-foreign.c |  136 +++++++++++++++++++++++++++++++++++
 configure.ac                        |    1 +
 6 files changed, 217 insertions(+), 1 deletion(-)

commit 1c502fbbc85429e1108768fc92da4d6913ffbc42
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Mar 10 15:15:08 2011 +0000

    cogl/configure.ac: add options to control driver/egl platform
    
    This allows more detailed control over the driver and winsys features
    that Cogl should have. Cogl is designed so it can support multiple
    window systems simultaneously so we have enable/disable options for
    the drivers (gl vs gles1 vs gles2) and options for the individual window
    systems; currently glx and egl. Egl is broken down into an option
    for each platform.

 clutter/cogl/cogl/cogl-1.0-clutter.pc.in |    8 +-
 clutter/cogl/configure.ac                |  358 +++++++++++++++++++++++++-----
 configure.ac                             |    1 +
 3 files changed, 311 insertions(+), 56 deletions(-)

commit e26a59afc854d9685424f3acf5a54a938725c470
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Mar 4 12:50:39 2011 +0000

    EGL: Updates GDL platform support
    
    The GDL API is used for example on intel ce4100 (aka Sodaville) based
    systems as a way to allocate memory that can be composited using the
    platforms overlay hardware. This updates the Cogl EGL winsys and the
    support in Clutter so we can continue to support these platforms.

 clutter/cogl/cogl/Makefile.am               |    2 +-
 clutter/cogl/cogl/cogl-display-private.h    |    5 +
 clutter/cogl/cogl/cogl-display.c            |   12 +++
 clutter/cogl/cogl/cogl-display.h            |   12 +++
 clutter/cogl/cogl/cogl-swap-chain-private.h |    1 +
 clutter/cogl/cogl/cogl-swap-chain.c         |    8 ++
 clutter/cogl/cogl/cogl-swap-chain.h         |    5 +
 clutter/cogl/cogl/winsys/cogl-winsys-egl.c  |  131 ++++++++++++++++++++++++++-
 clutter/cogl/configure.ac                   |    2 +-
 clutter/egl/clutter-backend-egl.c           |   12 +--
 configure.ac                                |   18 ++--
 11 files changed, 189 insertions(+), 19 deletions(-)

commit 7f76ea2690eac8751e36033323fcd82bf4027643
Author: Robert Bragg <robert@linux.intel.com>
Date:   Wed Mar 2 11:02:50 2011 +0000

    Don't reference GL_STACK_OVERFLOW/UNDERFLOW for GLES
    
    These symbols aren't available when building with GLES so only reference
    them when building with OpenGL.

 clutter/cogl/cogl/cogl.c |    2 ++
 1 file changed, 2 insertions(+)

commit fd42800d008e9153926916e35d0d8927488ff362
Author: Robert Bragg <robert@linux.intel.com>
Date:   Mon Apr 18 16:24:51 2011 +0100

    winsys: Expose environment variable to choose winsys
    
    This makes it possible to override the winsys that cogl uses by setting
    the COGL_RENDERER environment variable e.g. to "GLX" or "EGL"

 clutter/cogl/cogl/cogl-renderer.c              |    8 ++++++++
 clutter/cogl/cogl/winsys/cogl-winsys-egl.c     |    1 +
 clutter/cogl/cogl/winsys/cogl-winsys-glx.c     |    1 +
 clutter/cogl/cogl/winsys/cogl-winsys-private.h |    2 ++
 4 files changed, 12 insertions(+)

commit 75e6d734c1b831e11831270d1777b84b689dca6a
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Feb 25 11:29:08 2011 +0000

    Add a vtable of indirection to the winsys code
    
    So that we can dynamically select what winsys backend to use at runtime
    we need to have some indirection to how code accesses the winsys instead
    of simply calling _cogl_winsys* functions that would collide if we
    wanted to compile more than one backend into Cogl.

 clutter/cogl/cogl/cogl-clutter.c                   |    8 +-
 clutter/cogl/cogl/cogl-context-private.h           |    3 +
 clutter/cogl/cogl/cogl-context.c                   |   19 +-
 clutter/cogl/cogl/cogl-display.c                   |   14 +-
 clutter/cogl/cogl/cogl-framebuffer.c               |   71 +++++--
 clutter/cogl/cogl/cogl-renderer-private.h          |    2 +
 clutter/cogl/cogl/cogl-renderer.c                  |   76 +++++++-
 clutter/cogl/cogl/cogl.c                           |    9 +
 clutter/cogl/cogl/winsys/cogl-texture-pixmap-x11.c |   42 ++++-
 clutter/cogl/cogl/winsys/cogl-winsys-egl.c         |  162 ++++++++--------
 clutter/cogl/cogl/winsys/cogl-winsys-glx.c         |  194 +++++++++++++-------
 clutter/cogl/cogl/winsys/cogl-winsys-private.h     |  122 ++++++------
 12 files changed, 482 insertions(+), 240 deletions(-)

commit 91bf1e24d45e46808a36be1468c9cbce53c8896a
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Mar 1 14:43:43 2011 +0000

    texture-pixmap-x11: Move GLX code to cogl-winsys-glx.c
    
    This moves the GLX specific code from cogl-texture-pixmap-x11.c into
    cogl-winsys-glx.c. If we want the winsys components to by dynamically
    loadable then we can't have GLX code scattered outside of
    cogl-winsys-glx.c. This also sets us up for supporting the
    EGL_texture_from_pixmap extension which is almost identical to the
    GLX_texture_from_pixmap extension.

 .../cogl/winsys/cogl-texture-pixmap-x11-private.h  |   15 +-
 clutter/cogl/cogl/winsys/cogl-texture-pixmap-x11.c |  530 +------------------
 clutter/cogl/cogl/winsys/cogl-winsys-egl.c         |   35 ++
 clutter/cogl/cogl/winsys/cogl-winsys-glx.c         |  549 ++++++++++++++++++++
 clutter/cogl/cogl/winsys/cogl-winsys-private.h     |   22 +
 5 files changed, 632 insertions(+), 519 deletions(-)

commit c55cffbb6b5c75d2af073b7c5be857acb97b6acf
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Feb 25 00:31:41 2011 +0000

    Moves all EGL code down from Clutter to Cogl
    
    As was recently done for the GLX window system code, this commit moves
    the EGL window system code down from the Clutter backend code into a
    Cogl winsys.
    
    Note: currently the cogl/configure.ac is hard coded to only build the GLX
    winsys so currently this is only available when building Cogl as part
    of Clutter.

 clutter/Makefile.am                                |    4 -
 clutter/cogl/cogl/Makefile.am                      |    9 +-
 clutter/cogl/cogl/cogl-context.c                   |    9 +
 clutter/cogl/cogl/cogl-context.h                   |   17 +
 .../winsys/cogl-winsys-egl-feature-functions.h     |   57 ++
 clutter/cogl/cogl/winsys/cogl-winsys-egl.c         | 1048 +++++++++++++++++++-
 clutter/cogl/cogl/winsys/cogl-winsys-private.h     |    5 +
 clutter/egl/clutter-backend-cex100.c               |  369 -------
 clutter/egl/clutter-backend-cex100.h               |   60 --
 clutter/egl/clutter-backend-egl.c                  |  765 ++++----------
 clutter/egl/clutter-backend-egl.h                  |   57 +-
 clutter/egl/clutter-stage-egl.c                    |  232 +++--
 clutter/egl/clutter-stage-egl.h                    |    4 +-
 clutter/glx/clutter-backend-glx.h                  |   11 +-
 clutter/x11/clutter-stage-x11.c                    |  105 --
 clutter/x11/clutter-stage-x11.h                    |    3 -
 configure.ac                                       |    4 +
 17 files changed, 1463 insertions(+), 1296 deletions(-)

commit ce0dc2160cc491c60a2849539ba8abc9e5d1d0ad
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Feb 25 00:49:07 2011 +0000

    remove references to unused DRM_SURFACELESS EGL platform
    
    The "DRM_SURFACELESS" EGL platform was invented when we were adding the
    wayland backend to Clutter but in the end we added a dedicated backend
    instead of extending the EGL backend so actually the platform name isn't
    used.

 clutter/cogl/cogl/Makefile.am |    5 -----
 clutter/cogl/configure.ac     |    1 -
 configure.ac                  |    8 --------
 3 files changed, 14 deletions(-)

commit d8e7f8f210650dbea0693b85dd4dea438530dc6e
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Wed May 4 22:41:43 2011 +0200

    Updated Spanish translation

 po/es.po |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 1ca5055184f19c4ed51401336176e9e17ffb87aa
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Wed May 4 22:41:04 2011 +0200

    Updated Spanish translation

 po/es.po |   55 ++++++++++++++++++++++++++++---------------------------
 1 file changed, 28 insertions(+), 27 deletions(-)

commit 8804e9c453e914062968b4e25e8acd17b6fec97a
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Tue May 3 23:00:04 2011 +0200

    Updated Spanish translation

 po/es.po |   52 +++++++++++++++++++++++++++-------------------------
 1 file changed, 27 insertions(+), 25 deletions(-)

commit 462dd088616d8c0330cb3c0fe2b7adfa46b87c93
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Mon May 2 12:10:34 2011 +0200

    Updated Spanish translation

 po/es.po |   66 ++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 38 insertions(+), 28 deletions(-)

commit 07a52fbc3af93cad0c171c6c1543498aea2e86e0
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Fri Apr 29 19:48:28 2011 +0200

    Updated Spanish translation

 po/es.po |   54 +++++++++++++++++++++++++++---------------------------
 1 file changed, 27 insertions(+), 27 deletions(-)

commit f188ecf1726ee599acb55cf248445b3394084d58
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Thu Apr 28 20:40:46 2011 +0200

    Updated Spanish translation

 po/es.po |   68 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 34 insertions(+), 34 deletions(-)

commit 73064e569f337dc03ba0243f7eb8acc99b0d40b7
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Mon Apr 25 22:49:42 2011 +0200

    Updated Spanish translation

 po/es.po |   64 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 32 insertions(+), 32 deletions(-)

commit c383fdeeaec684f0eda404c04d188e7ad735f1d0
Author: Neil Roberts <neil@linux.intel.com>
Date:   Thu Apr 21 16:44:15 2011 +0100

    cogl-context: Initialize context->stub_winsys
    
    If Cogl is built using a full Winsys then it wasn't initialising
    context->stub_winsys which sometimes made it crash later on.

 clutter/cogl/cogl/cogl-context.c |    1 +
 1 file changed, 1 insertion(+)

commit afdb869c36b081fd74ff005dc32a3f0001dda5bc
Author: Mario Blättermann <mariobl@gnome.org>
Date:   Wed Apr 20 23:13:26 2011 +0200

    [l10n] Updated German translation

 po/de.po |  517 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 271 insertions(+), 246 deletions(-)

commit b5279ed027a5b3891a5888124b07f5a40c5a4fec
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Apr 20 18:43:02 2011 +0100

    cogl-winsys-stub: Remove _cogl_winsys_has_feature
    
    Commit b061f737 moved _cogl_winsys_has_feature to the common winsys
    code so there's no need to define it in the stub winsys any more. This
    was breaking builds for backends using the stub winsys.

 clutter/cogl/cogl/winsys/cogl-winsys-stub.c |    7 -------
 1 file changed, 7 deletions(-)

commit 66f22cfd6038c2b7cb1ff3462e9b03dc782bc302
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Apr 20 17:50:38 2011 +0100

    cogl-winsys-glx: Fix the comparison in find_onscreen_for_xid
    
    The comparison for finding onscreen framebuffers in
    find_onscreen_for_xid had a small thinko so that it would ignore
    framebuffers when the negation of the type is onscreen. This ends up
    doing the right thing anyway because the onscreen type has the value 0
    and the offscreen type has the value 1 but presumably it would fail if
    we ever added any other framebuffer types.

 clutter/cogl/cogl/winsys/cogl-winsys-glx.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 49233af4658dd742fa3cc8e79455311710862d22
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Apr 20 11:10:54 2011 +0100

    clutter-backend-glx: Protect against unrefing the Cogl context twice
    
    The dispose function may be called multiple times during destruction
    so it needs to be resilient against destroying any resources
    twice. This wasn't the case for the reference to the Cogl context.

 clutter/glx/clutter-backend-glx.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit b061f73702b658ec40e174d1cfe2d0c8efa2108d
Author: Neil Roberts <neil@linux.intel.com>
Date:   Fri Apr 15 16:03:19 2011 +0100

    cogl-winsys: Move _cogl_winsys_has_feature to cogl-winsys.c
    
    The code for _cogl_winsys_has_feature will be identical in all of the
    winsys backends for the time being, so it seems to make sense to have
    it in the common cogl-winsys.c file.

 clutter/cogl/cogl/winsys/cogl-winsys-glx.c |    9 ---------
 clutter/cogl/cogl/winsys/cogl-winsys.c     |    9 +++++++++
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 28c4a02191387e2e2213de0a05808610a43e04ba
Author: Neil Roberts <neil@linux.intel.com>
Date:   Fri Apr 15 15:39:14 2011 +0100

    cogl-context: Store winsys features in an array of unsigned ints
    
    Previously the mask of available winsys features was stored in a
    CoglBitmask. That isn't the ideal type to use for this because it is
    intended for a growable array of bits so it can allocate extra memory
    if there are more than 31 flags set. For the winsys feature flags the
    highest used bit is known at compile time so it makes sense to
    allocate a fixed array instead. This is conceptually similar to the
    CoglDebugFlags which are stored in an array of integers with macros to
    test a bit in the array. This moves the macros used for CoglDebugFlags
    to cogl-flags.h and makes them more generic so they can be shared with
    CoglContext.

 clutter/cogl/cogl/Makefile.am              |    1 +
 clutter/cogl/cogl/cogl-bitmask.h           |    4 ++
 clutter/cogl/cogl/cogl-context-private.h   |    4 +-
 clutter/cogl/cogl/cogl-context.c           |    4 +-
 clutter/cogl/cogl/cogl-debug.c             |    4 +-
 clutter/cogl/cogl/cogl-debug.h             |   23 ++-----
 clutter/cogl/cogl/cogl-flags.h             |   89 ++++++++++++++++++++++++++++
 clutter/cogl/cogl/cogl-types.h             |    6 +-
 clutter/cogl/cogl/winsys/cogl-winsys-glx.c |   36 +++++------
 9 files changed, 126 insertions(+), 45 deletions(-)

commit d5022054eb615394062ffd2338e2915b436796c5
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Apr 13 16:41:41 2011 +0100

    cogl-renderer: Move the XEvent filters to be generic for all renderers
    
    Instead of having cogl_renderer_xlib_add_filter and friends there is
    now cogl_renderer_add_native_filter which can be used regardless of
    the backend. The callback function for the filter now just takes a
    void pointer instead of an XEvent pointer which should be interpreted
    differently depending on the backend. For example, on Xlib it would
    still be an XEvent but on Windows it could be a MSG. This simplifies
    the code somewhat because the _cogl_xlib_add_filter no longer needs to
    have its own filter list when a stub renderer is used because there is
    always a renderer available.
    
    cogl_renderer_xlib_handle_event has also been renamed to
    cogl_renderer_handle_native_event. This just forwards the event on to
    all of the listeners. The backend renderer is expected to register its
    own event filter if it wants to process the events in some way.

 clutter/cogl/cogl/cogl-renderer-private.h          |    2 +
 clutter/cogl/cogl/cogl-renderer-xlib-private.h     |    2 -
 clutter/cogl/cogl/cogl-renderer-xlib.c             |   88 --------------------
 clutter/cogl/cogl/cogl-renderer.c                  |   82 ++++++++++++++++++
 clutter/cogl/cogl/cogl-renderer.h                  |   86 ++++++++++---------
 clutter/cogl/cogl/cogl-types.h                     |   39 +++++----
 clutter/cogl/cogl/cogl-xlib-private.h              |   10 +--
 clutter/cogl/cogl/cogl-xlib.c                      |   86 ++++---------------
 clutter/cogl/cogl/cogl-xlib.h                      |    2 +-
 clutter/cogl/cogl/winsys/cogl-texture-pixmap-x11.c |    9 +-
 clutter/cogl/cogl/winsys/cogl-winsys-glx.c         |   23 ++---
 clutter/x11/clutter-backend-x11.c                  |    6 +-
 12 files changed, 190 insertions(+), 245 deletions(-)

commit 8816730081af3288a5e836e3f4bb76890890741e
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Apr 18 16:24:27 2011 +0100

    evdev: Remove unused variable

 clutter/evdev/clutter-device-manager-evdev.c |    1 -
 1 file changed, 1 deletion(-)

commit 1b17ca5d8f853eef8cd45c6a777da5867922bdeb
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Apr 18 15:53:25 2011 +0100

    cogl/glx: Silence a compiler warning

 clutter/cogl/cogl/winsys/cogl-winsys-glx.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 57ebce8039c0d82b144c6753246dcb0c6308a844
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sat Apr 16 10:22:01 2011 +0100

    animation: Use ::destroy with animate()
    
    ClutterAnimation uses the weak ref machinery of GObject when associated
    to ClutterActor by clutter_actor_animate() and friends - all the while
    taking a reference on the actor itself. In order to trigger the weak ref
    callback, external code would need to unref the Actor at least twice,
    which has slim chance of happening. Plus, the way to destroy an Actor is
    to call destroy(), not call unref().
    
    The destruction sequence of ClutterActor emits the ::destroy signal, which
    should be used by classes to release external references the might be
    holding. My oh my, this sounds *exactly* the case!
    
    So, let's switch to using the ::destroy signal for clutter_actor_animate()
    and friends, since we know that the object bound to the Animation is
    an Actor, and has a ::destroy signal.
    
    This change has the added benefit of allowing destroying an actor as the
    result of the Animation::completed signal without getting a segfault or
    other bad things to happen.
    
    Obviously, the change does not affect other GObject classes, or Animation
    instances created using clutter_animation_new(); for those, the current
    "let's take a reference on the object to avoid it going away in-flight"
    mechanism should still suffice.
    
    Side note: it would be interesting if GObject had an interface for
    "destructible" objects, so that we could do a safe type check. I guess
    it's a Rainy Day Project(tm)...

 clutter/clutter-animation.c |   37 ++++++++++++++++++++++++-------------
 1 file changed, 24 insertions(+), 13 deletions(-)

commit b01cbbb8c3cb9d7400577a95eafac13fce04cf36
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Apr 15 13:43:15 2011 +0100

    actor: Use _clutter_actor_meta_get_debug_name()
    
    The ActorMeta name can be more informative than just the GType class
    name.

 clutter/clutter-actor.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a5315de133d4fa47200ff89827c8ebee3add656a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Apr 15 13:42:45 2011 +0100

    actor-meta: Add a get_debug_name() private method
    
    Similar to ClutterActor's own get_debug_name().

 clutter/clutter-actor-meta-private.h |    2 ++
 clutter/clutter-actor-meta.c         |   17 +++++++++++++++++
 2 files changed, 19 insertions(+)

commit bc2c7867544dd80c0d848cd32fce4e9ec70b9a09
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Thu Apr 14 19:19:14 2011 +0200

    Updated Spanish translation

 po/es.po |   60 +++++++++++++++++++++++++-----------------------------------
 1 file changed, 25 insertions(+), 35 deletions(-)

commit e467ad5ad18466e06be43fe36afcd65dfbf7d1c8
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Apr 14 17:58:15 2011 +0100

    Use the actor's debug name consistently
    
    Do not use the generic GType class name: we have a :name property on
    ClutterActor that is generally used for debugging purposes — so we
    should use it when creating debugging spew in a consistent way.

 clutter/clutter-actor.c |   36 ++++++++++++++++++++----------------
 clutter/clutter-stage.c |    4 ++--
 2 files changed, 22 insertions(+), 18 deletions(-)

commit 3889272f52eced3b82f58ffef23a8fe21f27d7aa
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Apr 14 15:44:22 2011 +0100

    glx: Chain up in ::unrealize()
    
    And avoid a segmentation fault on stage destruction if the main loop
    keeps running.

 clutter/glx/clutter-stage-glx.c |    3 +++
 1 file changed, 3 insertions(+)

commit 94c30a4f675380d7b57580ae3deb34ecca4ea376
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Apr 14 15:43:19 2011 +0100

    x11: Provide a StageWindow::unrealize implementation
    
    The Cogl rework removed the Window creation from realize and its
    relative destruction from unrealize; the two vfuncs also managed
    the mapping between Window and Stage implementation that we use
    when dealing with event handling. Sadly, the missing unrealization
    left entries in the mapping dangling.
    
    Since ClutterStageX11 already provides a ::realize implementation
    that sub-classes are supposed to chain up to, and the Window ↔ Stage
    mapping is private to clutter-stage-x11.c, it seems only fair that
    the ClutterStageX11 should also provide an ::unrealize implementation
    matching the ::realize.
    
    This implementation just removes the StageX11 pointer from the X11
    Window ↔ ClutterStageX11 mapping we set up in ::realize, since the
    X11 Window is managed by Cogl, now.

 clutter/x11/clutter-stage-x11.c |   17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit b80d5c81429097ede587906ce1b314a38af80012
Author: James Athey <james.athey@unleashbts.com>
Date:   Mon Apr 11 14:26:45 2011 -0400

    GL_IMG_TEXTURE_NPOT extension enables TEXTURE_NPOT features on GLES
    
    Older drivers for PowerVR SGX hardware have the vendor-specific
    GL_IMG_TEXTURE_NPOT extension instead of the
    functionally-equivalent GL_OES_TEXTURE_NPOT extension.

 clutter/cogl/cogl/driver/gles/cogl-feature-functions-gles.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3d3ae619c6a764e6276d37771c32aafef5d92a0e
Author: James Athey <james.athey@unleashbts.com>
Date:   Tue Apr 12 11:33:58 2011 -0400

    determine evdev device type using g_udev_device_has_property
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2631

 clutter/evdev/clutter-device-manager-evdev.c |   33 +++++++++++---------------
 1 file changed, 14 insertions(+), 19 deletions(-)

commit aa4ff0b90f38a5d578daaafea3ce0f5173eb264a
Author: James Athey <james.athey@unleashbts.com>
Date:   Tue Apr 12 11:32:43 2011 -0400

    uniquely name and enable evdev ClutterInputDevice objects on creation
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2631

 clutter/evdev/clutter-device-manager-evdev.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit a5fd1612f5984b1a2cb3f3fd535b1b8777180397
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Apr 12 21:02:14 2011 +0100

    Silence another compiler warning

 clutter/cogl/cogl/winsys/cogl-winsys-glx.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 6277c3d5a326f407b9ee4573f035a1c2dc6f4b73
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Apr 12 20:35:31 2011 +0100

    Silence the compiler by removing unused variables

 clutter/cogl/cogl/winsys/cogl-winsys-glx.c |    9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

commit 6aafb7d3de95cd90f7f7273265edc84d4d91e7c1
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Apr 12 20:28:36 2011 +0100

    glx: Protect GLX SwapEvent symbols
    
    We need to guard the usage of symbols related to the
    GLX_INTEL_swap_event extension, to avoid breaking on platforms and/or
    versions of Mesa that do not expose that extension.

 clutter/cogl/cogl/winsys/cogl-winsys-glx.c |   14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit 4f333e0e5d57b5c28b8006cc35787ef3ffe5f783
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Tue Apr 12 21:17:29 2011 +0200

    Updated Slovenian translation

 po/sl.po |  395 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 199 insertions(+), 196 deletions(-)

commit cf3bb00b08608d243e5cb5e37c304a7cacb36c3c
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Tue Apr 12 21:10:23 2011 +0200

    Updated Slovenian translation

 po/sl.po |  253 ++++++++++++++++++++++++++------------------------------------
 1 file changed, 107 insertions(+), 146 deletions(-)

commit 6f4fb303393ca7040b434e311341e1331edb59d7
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Tue Apr 12 21:05:10 2011 +0200

    Updated Spanish translation

 po/es.po |  402 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 201 insertions(+), 201 deletions(-)

commit ae86da63ac81d89816106bee12b7b9836afa613b
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Apr 12 17:53:24 2011 +0100

    README.md: Fix all the links to Bugzilla

 README.md |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 267de48c1ee585d2f4607f252315b3677746f5b8
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Apr 12 17:32:01 2011 +0100

    Point to GNOME for filing bugs
    
    The canonical bug tracker for Clutter has been moved to
    bugzilla.gnome.org.

 README.in    |    6 ++----
 README.md    |    4 ++--
 configure.ac |    2 +-
 3 files changed, 5 insertions(+), 7 deletions(-)

commit 6a0857f17dbc4e691c3042342e4aac51f3b5e988
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Apr 12 17:00:08 2011 +0100

    glx: Remove unused variable
    
    Make gcc not complain about it.

 clutter/glx/clutter-stage-glx.c |    2 --
 1 file changed, 2 deletions(-)

commit 15e57c13a391dc914c96a929b8d7303cce90a70c
Author: Marek Černocký <marek@manet.cz>
Date:   Mon Apr 11 23:38:49 2011 +0200

    Updated Czech translation

 po/cs.po |  396 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 200 insertions(+), 196 deletions(-)

commit 9dc1febb9228ed675fd472e453d903ced2df1325
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Mon Apr 11 20:58:43 2011 +0200

    Updated Spanish translation

 po/es.po |   74 +++++++++++++++++++++++++++++---------------------------------
 1 file changed, 35 insertions(+), 39 deletions(-)

commit 6f69f7769f4c086878b6139c428120796ad5d81f
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Mar 1 23:12:18 2011 +0000

    Make cogl_framebuffer_get_width/height experimental public API
    
    It's generally useful to be able to query the width and height of a
    framebuffer and we expect to need this in Clutter when we move the
    eglnative backend code into Cogl since Clutter will need to read back
    the fixed size of the framebuffer when realizing the stage.

 clutter/cogl/cogl/cogl-clip-stack.c          |    2 +-
 clutter/cogl/cogl/cogl-framebuffer-private.h |    6 ------
 clutter/cogl/cogl/cogl-framebuffer.c         |    4 ++--
 clutter/cogl/cogl/cogl-framebuffer.h         |    8 ++++++++
 clutter/cogl/cogl/cogl.c                     |    2 +-
 clutter/cogl/cogl/winsys/cogl-winsys-glx.c   |    4 ++--
 6 files changed, 14 insertions(+), 12 deletions(-)

commit af366ad750e612dd3e074fbb28826dec48743aad
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Feb 24 12:05:15 2011 +0000

    backend: remove untested fruity backend
    
    This backend hasn't been used for years now and so because it is
    untested code and almost certainly doesn't work any more it would be a
    burdon to continue trying to maintain it. Considering that we are now
    looking at moving OpenGL window system integration code down from
    Clutter backends into Cogl that will be easier if we don't have to
    consider this backend.

 README.in                                     |    3 -
 clutter/Makefile.am                           |   23 --
 clutter/clutter-main.c                        |   12 -
 clutter/cogl/cogl/Makefile.am                 |    4 -
 clutter/cogl/cogl/winsys/cogl-winsys-fruity.c |   35 --
 clutter/cogl/configure.ac                     |    2 -
 clutter/fruity/clutter-backend-fruity.c       |  302 -----------------
 clutter/fruity/clutter-backend-fruity.h       |   93 ------
 clutter/fruity/clutter-fruity.c               |  443 -------------------------
 clutter/fruity/clutter-fruity.h               |   53 ---
 clutter/fruity/clutter-stage-fruity.c         |  259 ---------------
 clutter/fruity/clutter-stage-fruity.h         |   48 ---
 configure.ac                                  |   38 +--
 doc/reference/clutter/Makefile.am             |    1 -
 doc/reference/clutter/building-clutter.xml    |    2 +-
 15 files changed, 4 insertions(+), 1314 deletions(-)

commit 70767f08dc1e0ca64ad0c38131cebd70ddd5022f
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Feb 22 15:51:13 2011 +0000

    Adds a --with-system-cogl config option for Clutter
    
    This makes it possible to build Clutter against a standalone build of
    Cogl instead of having the Clutter build traverse into the clutter/cogl
    subdirectory.

 clutter/Makefile.am                      |   78 ++++++++++++++++++++++++------
 clutter/clutter-backend.c                |    1 -
 clutter/clutter-main.c                   |    7 ++-
 clutter/clutter-private.h                |    4 ++
 clutter/glx/clutter-backend-glx.c        |    3 +-
 clutter/glx/clutter-glx-texture-pixmap.c |    5 ++
 clutter/x11/clutter-backend-x11.c        |    3 +-
 clutter/x11/clutter-x11-texture-pixmap.c |    5 ++
 configure.ac                             |   17 ++++++-
 tests/interactive/Makefile.am            |    1 -
 10 files changed, 101 insertions(+), 23 deletions(-)

commit 31da46c799653b66b5bd5fd9823a973ae2b19647
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Feb 10 02:32:11 2011 +0000

    Adds the ability to build Cogl standalone
    
    This adds an autogen.sh, configure.ac and build/autotool files etc under
    clutter/cogl and makes some corresponding Makefile.am changes that make
    it possible to build and install Cogl as a standalone library.
    
    Some notable things about this are:
    A standalone installation of Cogl installs 3 pkg-config files;
    cogl-1.0.pc, cogl-gl-1.0.pc and cogl-2.0.pc. The second is only for
    compatibility with what clutter installed though I'm not sure that
    anything uses it so maybe we could remove it. cogl-1.0.pc is what
    Clutter would use if it were updated to build against a standalone cogl
    library. cogl-2.0.pc is what you would use if you were writing a
    standalone Cogl application.
    
    A standalone installation results in two libraries currently, libcogl.so
    and libcogl-pango.so. Notably we don't include a major number in the
    sonames because libcogl supports two major API versions; 1.x as used by
    Clutter and the experimental 2.x API for standalone applications.
    Parallel installation of later versions e.g. 3.x and beyond will be
    supportable either with new sonames or if we can maintain ABI then we'll
    continue to share libcogl.so.
    
    The headers are similarly not installed into a directory with a major
    version number since the same headers are shared to export the 1.x and
    2.x APIs (The only difference is that cogl-2.0.pc ensures that
    -DCOGL_ENABLE_EXPERIMENTAL_2_0_API is used). Parallel installation of
    later versions is not precluded though since we can either continue
    sharing or later add a major version suffix.

 clutter/Makefile.am                              |   22 +-
 clutter/cogl/Makefile.am                         |    6 +
 clutter/cogl/autogen.sh                          |   73 ++++
 clutter/cogl/build/autotools/Makefile.am.enums   |   51 +++
 clutter/cogl/build/autotools/Makefile.am.silent  |   19 +
 clutter/cogl/build/autotools/as-compiler-flag.m4 |   62 +++
 clutter/cogl/build/autotools/as-linguas.m4       |   24 ++
 clutter/cogl/build/autotools/introspection.m4    |   94 +++++
 clutter/cogl/cogl/Makefile.am                    |   96 +++--
 clutter/cogl/cogl/cogl-1.0-clutter.pc.in         |   17 +
 clutter/cogl/cogl/cogl-1.0.pc.in                 |   13 +
 clutter/cogl/cogl/cogl.pc.in                     |   18 +-
 clutter/cogl/configure.ac                        |  462 ++++++++++++++++++++++
 clutter/cogl/pango/Makefile.am                   |   27 +-
 clutter/cogl/po/ChangeLog                        |   12 +
 clutter/cogl/po/Makevars                         |   41 ++
 clutter/cogl/po/POTFILES.in                      |    1 +
 clutter/cogl/po/Rules-quot                       |   47 +++
 clutter/cogl/po/boldquot.sed                     |   10 +
 clutter/cogl/po/en@boldquot.header               |   25 ++
 clutter/cogl/po/en@quot.header                   |   22 ++
 clutter/cogl/po/insert-header.sin                |   23 ++
 clutter/cogl/po/quot.sed                         |    6 +
 clutter/cogl/po/remove-potcdate.sin              |   19 +
 configure.ac                                     |   44 ++-
 tests/interactive/Makefile.am                    |    1 +
 26 files changed, 1174 insertions(+), 61 deletions(-)

commit d6f110a4d26eb5e49e762bcbf51d36af894adcc9
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Nov 5 12:28:33 2010 +0000

    Moves all GLX code down from Clutter to Cogl
    
    This migrates all the GLX window system code down from the Clutter
    backend code into a Cogl winsys. Moving OpenGL window system binding
    code down from Clutter into Cogl is the biggest blocker to having Cogl
    become a standalone 3D graphics library, so this is an important step in
    that direction.

 clutter/clutter-backend-private.h                  |    5 +
 clutter/clutter-backend.c                          |    1 +
 clutter/clutter-stage.c                            |   12 -
 clutter/cogl/cogl/Makefile.am                      |   44 +-
 clutter/cogl/cogl/cogl-clutter.c                   |   14 +
 clutter/cogl/cogl/cogl-clutter.h                   |   10 +
 clutter/cogl/cogl/cogl-context-private.h           |   34 +-
 clutter/cogl/cogl/cogl-context.c                   |  104 +-
 clutter/cogl/cogl/cogl-context.h                   |    7 +-
 clutter/cogl/cogl/cogl-debug.h                     |    1 +
 clutter/cogl/cogl/cogl-display-glx-private.h       |   57 +
 clutter/cogl/cogl/cogl-display-xlib-private.h      |   35 +
 clutter/cogl/cogl/cogl-display.c                   |    5 +
 clutter/cogl/cogl/cogl-display.h                   |   12 +-
 clutter/cogl/cogl/cogl-feature-private.c           |    5 +-
 clutter/cogl/cogl/cogl-feature-private.h           |   20 +-
 clutter/cogl/cogl/cogl-framebuffer-private.h       |   39 +-
 clutter/cogl/cogl/cogl-framebuffer.c               |  235 +++-
 clutter/cogl/cogl/cogl-framebuffer.h               |  109 ++
 clutter/cogl/cogl/cogl-internal.h                  |  102 +-
 clutter/cogl/cogl/cogl-journal-private.h           |    1 +
 clutter/cogl/cogl/cogl-private.h                   |    6 +
 clutter/cogl/cogl/cogl-renderer-glx-private.h      |   61 +
 clutter/cogl/cogl/cogl-renderer-x11-private.h      |   32 +
 clutter/cogl/cogl/cogl-renderer-xlib-private.h     |   78 ++
 clutter/cogl/cogl/cogl-renderer-xlib.c             |  288 +++++
 clutter/cogl/cogl/cogl-renderer.c                  |   23 +
 clutter/cogl/cogl/cogl-types.h                     |   87 +-
 clutter/cogl/cogl/cogl-util.c                      |    1 -
 clutter/cogl/cogl/cogl-xlib-private.h              |   82 ++
 clutter/cogl/cogl/cogl-xlib.c                      |  238 ++++
 clutter/cogl/cogl/cogl-xlib.h                      |   84 ++
 clutter/cogl/cogl/cogl.c                           |   10 +-
 clutter/cogl/cogl/cogl.h                           |   52 +-
 .../cogl/cogl/driver/gl/cogl-context-driver-gl.h   |   53 +
 clutter/cogl/cogl/driver/gl/cogl-gl.c              |   40 +-
 .../cogl/driver/gles/cogl-context-driver-gles.h    |   52 +
 clutter/cogl/cogl/driver/gles/cogl-gles.c          |   46 +-
 clutter/cogl/cogl/winsys/cogl-context-winsys.c     |  152 ---
 clutter/cogl/cogl/winsys/cogl-context-winsys.h     |  118 --
 clutter/cogl/cogl/winsys/cogl-texture-pixmap-x11.c |  111 +-
 .../cogl/winsys/cogl-winsys-feature-functions.h    |   45 -
 .../winsys/cogl-winsys-glx-feature-functions.h     |  105 ++
 clutter/cogl/cogl/winsys/cogl-winsys-glx.c         | 1262 +++++++++++++++++++-
 clutter/cogl/cogl/winsys/cogl-winsys-private.h     |   88 ++
 clutter/cogl/cogl/winsys/cogl-winsys-stub.c        |  114 ++
 clutter/cogl/cogl/winsys/cogl-winsys-xlib.c        |  170 ---
 clutter/cogl/cogl/winsys/cogl-winsys-xlib.h        |   66 -
 clutter/cogl/cogl/winsys/cogl-winsys.c             |   36 +
 clutter/glx/clutter-backend-glx.c                  |  654 ++--------
 clutter/glx/clutter-backend-glx.h                  |   49 +-
 clutter/glx/clutter-stage-glx.c                    |  385 ++----
 clutter/glx/clutter-stage-glx.h                    |    5 +-
 clutter/x11/clutter-backend-x11.c                  |    4 +-
 clutter/x11/clutter-stage-x11.c                    |   14 +-
 configure.ac                                       |    2 +
 56 files changed, 3635 insertions(+), 1830 deletions(-)

commit aa1a2cb661d8e6b662c6a79ba0bae095dd059974
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Feb 25 17:06:50 2011 +0000

    Adds renderer,display,onscreen-template and swap-chain stubs
    
    As part of the process of splitting Cogl out as a standalone graphics
    API we need to introduce some API concepts that will allow us to
    initialize a new CoglContext when Clutter isn't there to handle that for
    us...
    
    The new objects roughly in the order that they are (optionally) involved
    in constructing a context are: CoglRenderer, CoglOnscreenTemplate,
    CoglSwapChain and CoglDisplay.
    
    Conceptually a CoglRenderer represents a means for rendering.  Cogl
    supports rendering via OpenGL or OpenGL ES 1/2.0 and those APIs are
    accessed through a number of different windowing APIs such as GLX, EGL,
    SDL or WGL and more. Potentially in the future Cogl could render using
    D3D or even by using libdrm and directly banging the hardware. All these
    choices are wrapped up in the configuration of a CoglRenderer.
    
    Conceptually a CoglDisplay represents a display pipeline for a renderer.
    Although Cogl doesn't aim to provide a detailed abstraction of display
    hardware, on some platforms we can give control over multiple display
    planes (On TV platforms for instance video content may be on one plane
    and 3D would be on another so a CoglDisplay lets you select the plane
    up-front.)
    
    Another aspect of CoglDisplay is that it lets us negotiate a display
    pipeline that best supports the type of CoglOnscreen framebuffers we are
    planning to create. For instance if you want transparent CoglOnscreen
    framebuffers then we have to be sure the display pipeline wont discard
    the alpha component of your framebuffers. Or if you want to use
    double/tripple buffering that requires support from the display
    pipeline.
    
    CoglOnscreenTemplate and CoglSwapChain are how we describe our default
    CoglOnscreen framebuffer configuration which can affect the
    configuration of the display pipeline.
    
    The default/simple way we expect most CoglContexts to be constructed
    will be via something like:
    
     if (!cogl_context_new (NULL, &error))
       g_error ("Failed to construct a CoglContext: %s", error->message);
    
    Where that NULL is for an optional "display" parameter and NULL says to
    Cogl "please just try to do something sensible".
    
    If you want some more control though you can manually construct a
    CoglDisplay something like:
    
     display = cogl_display_new (NULL, NULL);
     cogl_gdl_display_set_plane (display, plane);
     if (!cogl_display_setup (display, &error))
       g_error ("Failed to setup a CoglDisplay: %s", error->message);
    
    And in a similar fashion to cogl_context_new() you can optionally pass
    a NULL "renderer" and/or a NULL "onscreen template" so Cogl will try to
    just do something sensible.
    
    If you need to change the CoglOnscreen defaults you can provide a
    template something like:
      chain = cogl_swap_chain_new ();
      cogl_swap_chain_set_has_alpha (chain, TRUE);
      cogl_swap_chain_set_length (chain, 3);
    
      onscreen_template = cogl_onscreen_template_new (chain);
      cogl_onscreen_template_set_pixel_format (onscreen_template,
                                               COGL_PIXEL_FORMAT_RGB565);
    
      display = cogl_display_new (NULL, onscreen_template);
      if (!cogl_display_setup (display, &error))
        g_error ("Failed to setup a CoglDisplay: %s", error->message);

 clutter/cogl/cogl/Makefile.am                      |   16 ++
 clutter/cogl/cogl/cogl-context.c                   |   44 ++++--
 clutter/cogl/cogl/cogl-display-private.h           |   43 ++++++
 clutter/cogl/cogl/cogl-display.c                   |  106 +++++++++++++
 clutter/cogl/cogl/cogl-onscreen-template-private.h |   37 +++++
 clutter/cogl/cogl/cogl-onscreen-template.c         |   62 ++++++++
 clutter/cogl/cogl/cogl-onscreen-template.h         |   48 ++++++
 clutter/cogl/cogl/cogl-renderer-private.h          |   43 ++++++
 clutter/cogl/cogl/cogl-renderer.c                  |  106 +++++++++++++
 clutter/cogl/cogl/cogl-renderer.h                  |  158 ++++++++++++++++++++
 clutter/cogl/cogl/cogl-swap-chain-private.h        |   37 +++++
 clutter/cogl/cogl/cogl-swap-chain.c                |   66 ++++++++
 clutter/cogl/cogl/cogl-swap-chain.h                |   46 ++++++
 13 files changed, 802 insertions(+), 10 deletions(-)

commit a90862929b35a64cc02fd068025bbae01eb226c2
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Feb 22 20:08:16 2011 +0000

    rename winsys files to be more consistent
    
    This tries to make the naming style of files under cogl/winsys/
    consistent with other cogl source files. In particular private header
    files didn't have a '-private' infix.

 clutter/cogl/cogl/Makefile.am                      |   22 +--
 clutter/cogl/cogl/winsys/cogl-egl.c                |   45 ------
 clutter/cogl/cogl/winsys/cogl-fruity.c             |   35 ----
 clutter/cogl/cogl/winsys/cogl-glx.c                |   78 ---------
 clutter/cogl/cogl/winsys/cogl-osx.c                |   35 ----
 clutter/cogl/cogl/winsys/cogl-sdl.c                |   35 ----
 clutter/cogl/cogl/winsys/cogl-texture-pixmap-x11.c |    2 +-
 clutter/cogl/cogl/winsys/cogl-win32.c              |   35 ----
 clutter/cogl/cogl/winsys/cogl-winsys-egl.c         |   45 ++++++
 clutter/cogl/cogl/winsys/cogl-winsys-fruity.c      |   35 ++++
 clutter/cogl/cogl/winsys/cogl-winsys-glx.c         |   78 +++++++++
 clutter/cogl/cogl/winsys/cogl-winsys-osx.c         |   35 ++++
 clutter/cogl/cogl/winsys/cogl-winsys-private.h     |   30 ++++
 clutter/cogl/cogl/winsys/cogl-winsys-sdl.c         |   35 ++++
 clutter/cogl/cogl/winsys/cogl-winsys-win32.c       |   35 ++++
 clutter/cogl/cogl/winsys/cogl-winsys-xlib.c        |  170 ++++++++++++++++++++
 clutter/cogl/cogl/winsys/cogl-winsys-xlib.h        |   66 ++++++++
 clutter/cogl/cogl/winsys/cogl-winsys.h             |   30 ----
 clutter/cogl/cogl/winsys/cogl-xlib.c               |  170 --------------------
 clutter/cogl/cogl/winsys/cogl-xlib.h               |   66 --------
 20 files changed, 541 insertions(+), 541 deletions(-)

commit 532b5634397962b496009871a01c11a84bc70664
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Feb 22 18:25:29 2011 +0000

    Add temporary cogl-clutter.h to aid splitting out Cogl
    
    This gives us a way to clearly track the internal Cogl API that Clutter
    depends on. The aim is to split Cogl out from Clutter into a standalone
    3D graphics API and eventually we want to get rid of any private
    interfaces for Clutter so its useful to have a handle on that task.
    Actually it's not as bad as I was expecting though.

 clutter/clutter-backend.c                    |    2 +-
 clutter/clutter-stage.c                      |    2 +-
 clutter/cogl/cogl/Makefile.am                |    6 ++-
 clutter/cogl/cogl/cogl-clutter.c             |   59 ++++++++++++++++++++++++++
 clutter/cogl/cogl/cogl-clutter.h             |   47 ++++++++++++++++++++
 clutter/cogl/cogl/cogl-framebuffer-private.h |    4 ++
 clutter/cogl/cogl/cogl-framebuffer.c         |    9 ++--
 clutter/cogl/cogl/cogl-private.h             |    3 ++
 clutter/cogl/cogl/cogl.h                     |    3 --
 clutter/egl/clutter-backend-egl.c            |    4 +-
 clutter/wayland/clutter-backend-wayland.c    |    8 ++--
 clutter/win32/clutter-backend-win32.c        |    2 +-
 clutter/x11/clutter-stage-x11.c              |    2 +-
 13 files changed, 130 insertions(+), 21 deletions(-)

commit 8557bc3d264544458f9f901741fcf63858ebbadd
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Mar 15 12:08:46 2011 +0000

    actor: visualize culling with CLUTTER_PAINT=redraws
    
    This extends visualization for CLUTTER_PAINT=redraws so it now also
    draws outlines for actors to show how they are being culled. Actors get
    a green outline if they are fully inside the clip region, blue if fully
    outside and greeny-blue if only partially inside.

 clutter/clutter-actor.c         |  156 +++++++++++++++++++++++++++------------
 clutter/glx/clutter-stage-glx.c |   13 +++-
 2 files changed, 121 insertions(+), 48 deletions(-)

commit c739cb2809c5b29c33d504142ce10b42c238e7d4
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Mar 10 22:05:03 2011 +0000

    stage: adds internal_get_active_framebuffer API
    
    This adds an internal _clutter_stage_get_active_framebuffer function
    that can be used to get a pointer to the current CoglFramebuffer pointer
    that is in use, in association with a given stage.
    
    The "active" infix in the function name is there because we shouldn't
    assume that a stage will always correspond to only a single framebuffer
    so we aren't getting a pointer to a sole framebuffer, we are getting
    a pointer to the framebuffer that is currently in use/being painted.
    
    This API is now used for culling purposes where we need to check if we
    are currently painting an actor to a framebuffer that is offscreen, that
    doesn't correspond to the stage.

 clutter/clutter-actor.c         |   17 +++---
 clutter/clutter-stage-private.h |    4 ++
 clutter/clutter-stage-window.c  |   20 +++++++
 clutter/clutter-stage-window.h  |  123 ++++++++++++++++++++-------------------
 clutter/clutter-stage.c         |   32 ++++++++++
 5 files changed, 129 insertions(+), 67 deletions(-)

commit 997ea0fdee2f72b26c4805ccc40079becc9fc1f2
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Mar 10 21:33:31 2011 +0000

    framebuffer: expose experimental cogl_get_draw_framebuffer
    
    This renames the two internal functions _cogl_get_draw/read_buffer
    as cogl_get_draw_framebuffer and _cogl_get_read_framebuffer. The
    former is now also exposed as experimental API.

 clutter/clutter-actor.c                      |    2 +-
 clutter/cogl/cogl/cogl-attribute.c           |    8 ++---
 clutter/cogl/cogl/cogl-clip-stack.c          |   10 +++---
 clutter/cogl/cogl/cogl-clip-state.c          |   12 +++----
 clutter/cogl/cogl/cogl-framebuffer-private.h |    5 +--
 clutter/cogl/cogl/cogl-framebuffer.c         |   24 +++++++-------
 clutter/cogl/cogl/cogl-journal.c             |   10 +++---
 clutter/cogl/cogl/cogl-matrix-stack.c        |    2 +-
 clutter/cogl/cogl/cogl-primitives.c          |    4 +--
 clutter/cogl/cogl/cogl-texture-2d.c          |    4 +--
 clutter/cogl/cogl/cogl-texture.c             |    2 +-
 clutter/cogl/cogl/cogl.c                     |   46 +++++++++++++-------------
 clutter/cogl/cogl/cogl.h                     |    5 ++-
 clutter/cogl/cogl/cogl2-clip-state.c         |    2 +-
 clutter/cogl/cogl/cogl2-path.c               |    6 ++--
 15 files changed, 71 insertions(+), 71 deletions(-)

commit dc5aa314290cc2e7aa168580f3a8b7470c21216c
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Feb 22 17:58:47 2011 +0000

    framebuffer: track context as CoglFramebuffer member
    
    The long term goal with the Cogl API is that we will get rid of the
    default global context. As a step towards this, this patch tracks a
    reference back to the context in each CoglFramebuffer so in a lot of
    cases we can avoid using the _COGL_GET_CONTEXT macro.

 clutter/cogl/cogl/cogl-framebuffer.c |   57 ++++++++++++++++++++--------------
 1 file changed, 34 insertions(+), 23 deletions(-)

commit 8177afae059ebc982a6945ad65d4e0d955eb3c14
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Feb 22 17:30:54 2011 +0000

    remove unused _cogl_features_init prototype
    
    There is no corresponding implementation of _cogl_features_init any more
    so it was simply an oversight that the prototype wasn't removed when the
    implementation was removed.

 clutter/cogl/cogl/cogl-internal.h |    3 ---
 1 file changed, 3 deletions(-)

commit e381a159a7b978ec61fc9e3d3e555e651dab42bb
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Feb 22 17:13:56 2011 +0000

    Remove unused _cogl_swap_buffers_notify
    
    Recently _cogl_swap_buffers_notify was added (in 142b229c5c26) so that
    Cogl would be notified when Clutter performs a swap buffers request for
    a given onscreen framebuffer. It was expected this would be required for
    the recent cogl_read_pixel optimization that was implemented (ref
    1bdb0e6e98db) but in the end it wasn't used.
    
    Since it wasn't used in the end this patch removes the API.

 clutter/cogl/cogl/cogl-framebuffer-private.h |    3 ---
 clutter/cogl/cogl/cogl-framebuffer.c         |    5 -----
 clutter/cogl/cogl/cogl.c                     |   11 -----------
 clutter/cogl/cogl/cogl.h                     |    3 ---
 clutter/egl/clutter-stage-egl.c              |    1 -
 clutter/fruity/clutter-backend-fruity.c      |    1 -
 clutter/glx/clutter-stage-glx.c              |    2 --
 clutter/osx/clutter-stage-osx.c              |    1 -
 clutter/wayland/clutter-stage-wayland.c      |    2 --
 clutter/win32/clutter-stage-win32.c          |    5 +----
 10 files changed, 1 insertion(+), 33 deletions(-)

commit 47e93d4f7b5d58f6c7aa7e23950a53f80df629dc
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Nov 5 00:34:37 2010 +0000

    cogl: consolidate _create_context_driver + _features_init
    
    This moves the functionality of _cogl_create_context_driver from
    driver/{gl,gles}/cogl-context-driver-{gl,gles}.c into
    driver/{gl,gles}/cogl-{gl,gles}.c as a static function called
    initialize_context_driver.
    
    cogl-context-driver-{gl,gles}.[ch] have now been removed.

 clutter/cogl/cogl/Makefile.am                      |    4 --
 clutter/cogl/cogl/cogl-context.c                   |    6 +--
 .../cogl/cogl/driver/gl/cogl-context-driver-gl.c   |   39 --------------
 .../cogl/cogl/driver/gl/cogl-context-driver-gl.h   |   53 --------------------
 clutter/cogl/cogl/driver/gl/cogl-gl.c              |   36 +++++++++----
 .../cogl/driver/gles/cogl-context-driver-gles.c    |   40 ---------------
 .../cogl/driver/gles/cogl-context-driver-gles.h    |   52 -------------------
 clutter/cogl/cogl/driver/gles/cogl-gles.c          |   28 ++++++++---
 8 files changed, 48 insertions(+), 210 deletions(-)

commit c1ab28e9ad9f5e5f4b8bc5503cf9954ab24af097
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Nov 5 00:00:25 2010 +0000

    cogl: Adds experimental cogl_context_new() API
    
    This adds a new experimental function (you need to define
    COGL_ENABLE_EXPERIMENTAL_API to access it) which takes us towards being
    able to have a standalone Cogl API. This is really a minor aesthetic
    change for now since all the GL context creation code still lives in
    Clutter but it's a step forward none the less.
    
    Since our current designs introduce a CoglDisplay object as something
    that would be passed to the context constructor this provides a stub
    cogl-display.h with CoglDisplay typedef.
    
    _cogl_context_get_default() which Clutter uses to access the Cogl
    context has been modified to use cogl_context_new() to initialize
    the default context.
    
    There is one rather nasty hack used in this patch which is that the
    implementation of cogl_context_new() has to forcibly make the allocated
    context become the default context because currently all the code in
    Cogl assumes it can access the context using _COGL_GET_CONTEXT including
    code used to initialize the context.

 clutter/cogl/cogl/Makefile.am            |    1 +
 clutter/cogl/cogl/cogl-context-private.h |    7 +-
 clutter/cogl/cogl/cogl-context.c         |  293 ++++++++++++++++--------------
 clutter/cogl/cogl/cogl-context.h         |   62 +++++++
 clutter/cogl/cogl/cogl-display.h         |   78 ++++++++
 clutter/cogl/cogl/cogl.h                 |    1 +
 6 files changed, 305 insertions(+), 137 deletions(-)

commit 6484871c6ea9559fce7d3a1c5e5195e5df3a0805
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Nov 4 22:25:52 2010 +0000

    cogl: rename cogl-context.h cogl-context-private.h
    
    Since we plan to add public cogl_context_* API we need to rename the
    current cogl-context.h which contains private member details.

 clutter/cogl/cogl/Makefile.am                      |    2 +-
 clutter/cogl/cogl/cogl-atlas-texture.c             |    2 +-
 clutter/cogl/cogl/cogl-atlas.c                     |    2 +-
 clutter/cogl/cogl/cogl-attribute.c                 |    2 +-
 clutter/cogl/cogl/cogl-blend-string.c              |    2 +-
 clutter/cogl/cogl/cogl-blit.c                      |    2 +-
 clutter/cogl/cogl/cogl-buffer.c                    |    2 +-
 clutter/cogl/cogl/cogl-clip-stack.c                |    2 +-
 clutter/cogl/cogl/cogl-clip-state.c                |    2 +-
 clutter/cogl/cogl/cogl-context-private.h           |  251 ++++++++++++++++++++
 clutter/cogl/cogl/cogl-context.c                   |    2 +-
 clutter/cogl/cogl/cogl-context.h                   |  251 --------------------
 clutter/cogl/cogl/cogl-feature-private.c           |    2 +-
 clutter/cogl/cogl/cogl-framebuffer.c               |    2 +-
 clutter/cogl/cogl/cogl-indices.c                   |    2 +-
 clutter/cogl/cogl/cogl-journal.c                   |    2 +-
 clutter/cogl/cogl/cogl-material-compat.c           |    2 +-
 clutter/cogl/cogl/cogl-matrix-stack.c              |    2 +-
 clutter/cogl/cogl/cogl-path.c                      |    2 +-
 clutter/cogl/cogl/cogl-pipeline-fragend-arbfp.c    |    2 +-
 clutter/cogl/cogl/cogl-pipeline-fragend-fixed.c    |    2 +-
 clutter/cogl/cogl/cogl-pipeline-fragend-glsl.c     |    2 +-
 clutter/cogl/cogl/cogl-pipeline-opengl.c           |    2 +-
 clutter/cogl/cogl/cogl-pipeline-progend-glsl.c     |    2 +-
 clutter/cogl/cogl/cogl-pipeline-vertend-fixed.c    |    2 +-
 clutter/cogl/cogl/cogl-pipeline-vertend-glsl.c     |    2 +-
 clutter/cogl/cogl/cogl-pipeline.c                  |    2 +-
 clutter/cogl/cogl/cogl-pixel-array.c               |    2 +-
 clutter/cogl/cogl/cogl-primitives.c                |    2 +-
 clutter/cogl/cogl/cogl-program.c                   |    2 +-
 clutter/cogl/cogl/cogl-shader.c                    |    2 +-
 clutter/cogl/cogl/cogl-sub-texture.c               |    2 +-
 clutter/cogl/cogl/cogl-texture-2d-sliced.c         |    2 +-
 clutter/cogl/cogl/cogl-texture-2d.c                |    2 +-
 clutter/cogl/cogl/cogl-texture-3d.c                |    2 +-
 clutter/cogl/cogl/cogl-texture-rectangle.c         |    2 +-
 clutter/cogl/cogl/cogl-texture.c                   |    2 +-
 clutter/cogl/cogl/cogl-vertex-buffer.c             |    2 +-
 clutter/cogl/cogl/cogl.c                           |    2 +-
 clutter/cogl/cogl/cogl2-path.c                     |    2 +-
 .../cogl/cogl/driver/gl/cogl-context-driver-gl.c   |    2 +-
 clutter/cogl/cogl/driver/gl/cogl-gl.c              |    2 +-
 .../cogl/cogl/driver/gl/cogl-texture-driver-gl.c   |    2 +-
 .../cogl/driver/gles/cogl-context-driver-gles.c    |    2 +-
 clutter/cogl/cogl/driver/gles/cogl-gles.c          |    2 +-
 .../cogl/driver/gles/cogl-texture-driver-gles.c    |    2 +-
 clutter/cogl/cogl/winsys/cogl-context-winsys.c     |    2 +-
 clutter/cogl/cogl/winsys/cogl-texture-pixmap-x11.c |    2 +-
 clutter/cogl/cogl/winsys/cogl-xlib.c               |    2 +-
 49 files changed, 298 insertions(+), 298 deletions(-)

commit ec0b7814667fbbeee3dd25c79d565c645d8f01ba
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Mar 15 13:17:04 2011 +0000

    stage: Move _clutter_do_pick to clutter-stage.c
    
    This moves the implementation of _clutter_do_pick to clutter-stage.c and
    renames it _clutter_stage_do_pick. This function can be compared to
    _clutter_stage_do_update/redraw in that it prepares for and starts a
    traversal of a scenegraph descending from a given stage. Since it is
    desirable that this function should have access to the private state of
    the stage it is awkward to maintain outside of clutter-stage.c.
    
    Besides moving _clutter_do_pick this patch is also able to remove the
    following private state accessors from clutter-stage-private.h:
    _clutter_stage_set_pick_buffer_valid,
    _clutter_stage_get_pick_buffer_valid,
    _clutter_stage_increment_picks_per_frame_counter,
    _clutter_stage_reset_picks_per_frame_counter and
    _clutter_stage_get_picks_per_frame_counter.

 clutter/clutter-input-device.c  |    3 +-
 clutter/clutter-main.c          |  270 +-----------------------------
 clutter/clutter-private.h       |    7 +-
 clutter/clutter-stage-private.h |   13 +-
 clutter/clutter-stage.c         |  343 +++++++++++++++++++++++++++++++++------
 5 files changed, 307 insertions(+), 329 deletions(-)

commit 114133c98c417794c315fec81579fef1ffccf98b
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Mar 15 10:23:41 2011 +0000

    paint-volume: Fix culling bug to handle partial culls
    
    This updates the inner loops of the cull function so now the vertices of
    the polygon being culled are iterated in the inner loop instead of the
    clip planes and we count how many vertices are outside the current
    plane so we can bail out immediately if all the vertices are outside of
    any plane and so we can correctly track partial intersections with the
    clip region.
    
    The previous approach could catch some partial intersections but for
    example a rectangle that was larger than the clip region centred over
    the clip region with all corners outside would be reported as outside,
    not as a partial intersection.

 clutter/clutter-paint-volume.c |   38 ++++++++++++++++----------------------
 1 file changed, 16 insertions(+), 22 deletions(-)

commit 151b80a83717776cd931bd953381539ea1b84853
Author: Marek Černocký <marek@manet.cz>
Date:   Thu Apr 7 18:28:06 2011 +0200

    Czech translation

 po/cs.po | 2148 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2148 insertions(+)

commit 161e64aae78bb9c5f26600f3310c1538dbed50f9
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Apr 7 15:07:43 2011 +0100

    build: Fix typo in the docs URI variable name

 build/autotools/Makefile.am.release |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit b6fda77e58f638e3758cfe3e82f65707432244cc
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Wed Apr 6 19:49:41 2011 +0200

    Updated Spanish translation

 po/es.po | 2128 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2128 insertions(+)

commit b36dde61939b270796ec6fd0df824cf1cd3ad514
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Apr 6 15:24:33 2011 +0100

    cogl-pango-glyph-cache: Fix the flags passed to cogl_atlas_new
    
    In 047227fb cogl_atlas_new was changed so that it can take a flags
    parameter to specify whether to clear the new atlases and whether to
    copy images to the new atlas after reorganisation. This was done so
    that the atlas code could be shared with the glyph cache. At some
    point during the development of this patch the flag was just a single
    boolean instead and this is accidentally how it is used from the glyph
    cache. The glyph cache therefore passes 'TRUE' as the set of flags
    which means it will only get the 'clear' flag and not the
    'disable-migration' flag. When the glyph cache gets full it will
    therefore try to copy the texture to the new atlas as well as
    redrawing them with cairo. This causes problems because the glyph
    cache needs to work in situations where there is no FBO support.

 clutter/cogl/pango/cogl-pango-glyph-cache.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 9b4a4e3f98b7299d29cb1ffd20770fa4a0203786
Author: Christian Kirbach <Christian.Kirbach@googlemail.com>
Date:   Tue Apr 5 21:17:03 2011 +0200

    [l10n] Updated German translation

 po/de.po | 1681 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 838 insertions(+), 843 deletions(-)

commit 36528d3af06e88ac07a4721f416d9447855b2643
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Apr 5 17:30:29 2011 +0100

    cogl-pipeline: Be careful not to take ownership of root layer
    
    In _cogl_pipeline_prune_empty_layer_difference if the layer's parent
    has no owner then it just takes ownership of it. However this could
    theoretically end up taking ownership of the root layer because
    according to the comment above in the same function that should never
    have an owner. This patch just adds an extra check to ensure that the
    unowned layer has a parent.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2588

 clutter/cogl/cogl/cogl-pipeline.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit e625be6c96a1274e4978bdbf44d0c707214edb38
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Apr 5 17:01:24 2011 +0100

    pipeline: reclaim ownership if reverting to layer ancestor
    
    In _cogl_pipeline_prune_empty_layer_difference if we are reverting to
    the immediate parent of an empty/redundant layer then it is not enough
    to simply add a reference to the pipeline's ->layer_differences list
    without also updating parent_layer->owner to point back to its new
    owner.
    
    This oversight was leading us to break the invariable that all layers
    referenced in layer_differences have an owner and was also causing us to
    break another invariable whereby after calling
    _cogl_pipeline_layer_pre_change_notify the returned layer must always be
    owned by the given 'required_owner'.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2588

 clutter/cogl/cogl/cogl-pipeline.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 280165333d7928f7dff912ac945f30f38aab14bc
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Apr 5 11:24:03 2011 +0100

    build: Cosmetic fixes for release targets
    
    • Use $(SED) and $(GREP) consistently
    • Do not point to the template README.in
    • Eliminate the '===' separator in the NEWS extractor
    • List all download URIs for the tarballs

 build/autotools/Makefile.am.release |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 144aa4d9bac14e24e7316138653eb19251a34e9e
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Apr 4 23:16:46 2011 +0100

    build: Fix remote docs URI in the release-message

 build/autotools/Makefile.am.release |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit b8047b5471251a4bba5a410d3d5a003461c45d26
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Apr 4 22:34:10 2011 +0100

    build: Generate the release announcement
    
    Update the release-message target to generate the full release
    announcement out of the standard blurb and the NEWS file. We use
    a pretty evil sed incantation, courtesy of Neil Roberts.

 build/autotools/Makefile.am.release |   40 +++++++++++++++++++++++++++++++++++
 1 file changed, 40 insertions(+)

commit 42508e60917bcf12f20d5e49c5b192a30e985044
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Apr 4 22:33:31 2011 +0100

    build: Look for sed
    
    Use AC_PROG_SED to find sed in a portable way.

 configure.ac |    2 ++
 1 file changed, 2 insertions(+)

commit c2176c778a1d6bbb5480a99165190fc47215683a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Apr 4 15:33:24 2011 +0100

    doap: Update the project information
    
    Update the location for repository and bugzilla, and redistribute the
    blame^Wmaintainership.

 clutter.doap |   28 +++++++++++++++++++++++-----
 1 file changed, 23 insertions(+), 5 deletions(-)

commit 6aa0919ba63ca7a05f5690e9e475f665f4a52a6b
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Apr 4 15:11:20 2011 +0100

    build: Fix typo in Makefile.am.release

 build/autotools/Makefile.am.release |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 02d14ec15cf5a41aca3208e8d5bce7dab8dd1fe4
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Apr 4 14:42:36 2011 +0100

    offscreen: Plug a leak in an error path
    
    When creating a CoglOffscreen we take a reference on the texture handle,
    but in case of error we never release it.
    
    We should take that reference only on success.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2620

 clutter/cogl/cogl/cogl-framebuffer.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 28c0a4d6be52519a67b268c3e1de5f1aaca0f2e4
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sat Apr 2 22:36:38 2011 +0100

    osx: Do not unrealize on hide
    
    Calling unrealize on ClutterStage::hide will cause an assertion
    failure and other badness when we destroy the stage.

 clutter/osx/clutter-stage-osx.c |    1 -
 1 file changed, 1 deletion(-)

commit 130c79ac03225ccc5d4e8c63caa1682058582513
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Apr 1 18:36:56 2011 +0100

    glx: throttle clipped redraws
    
    When we come to presenting the result of a clipped redraw to the front
    buffer with a blit we need to ensure that all the rendering is done,
    otherwise redraw operations that are slower than the framerate can queue
    up in the pipeline during a heavy animation, causing a larger and larger
    backlog of rendering visible as lag to the user.
    
    Note: Since calling glFinish() and sycnrhonizing the CPU with the GPU is
    far from ideal, we hope that this is only a short term solution.
    
    One idea is to using sync objects to track render completion so we can
    throttle the backlog (ideally with an additional extension that lets us
    get notifications in our mainloop instead of having to busy wait for the
    completion.)
    
    Another option is to support clipped redraws by reusing the contents of
    old back buffers such that we can flip instead of using a blit and then
    we can use GLX_INTEL_swap_events to throttle. For this though we would
    still probably want an additional extension so we can report the limited
    region of the window damage to X/compositors.
    
    Thanks to Owen Taylor and Alexander Larsson for reporting the problem.

 clutter/glx/clutter-stage-glx.c |   24 +++++++++++++++++++++++-
 1 file changed, 23 insertions(+), 1 deletion(-)

commit ca6e7f8afafb185c293f762f696c7ea3295c0e3a
Author: Andrej Žnidaršič <andrej.znidarsic@gmail.com>
Date:   Fri Apr 1 18:57:01 2011 +0200

    Updated Slovenian translation

 po/sl.po |    8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit 53368d127a26e96d126b0d08b144ea889489a6fb
Author: Andrej Žnidaršič <andrej.znidarsic@gmail.com>
Date:   Fri Apr 1 18:50:58 2011 +0200

    Updated Slovenian translation

 po/sl.po | 1281 ++++++++++++++++++++++----------------------------------------
 1 file changed, 454 insertions(+), 827 deletions(-)

commit 4594d1bafe835d1fa68e04564528a497d259d7dc
Author: Samuel Degrande <samuel.degrande@lifl.fr>
Date:   Fri Mar 25 12:49:44 2011 +0100

    Removes the addition of the .exe extension to unit-test scripts, on win32.
    
    On win32, test scripts are created with a .exe extension.
    Under mingw, a .exe script is launched in 16 bit compatibility mode (through
    ntvdm), and so it just does not run.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2619

 configure.ac                  |    1 +
 tests/conform/Makefile.am     |   20 +++++++++++++-------
 tests/interactive/Makefile.am |   14 ++++++++++----
 3 files changed, 24 insertions(+), 11 deletions(-)

commit 564765c45c8f6a9d53cb21857887048c7c28d63b
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Apr 1 16:31:49 2011 +0100

    build: Update the release rules

 build/autotools/Makefile.am.release |   27 +++++++++++++++------------
 1 file changed, 15 insertions(+), 12 deletions(-)

commit e368538ae04a8ae530955b7e853081093725234f
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Apr 1 15:36:22 2011 +0100

    align-constraint: Fix typo in the vertical align
    
    We're clamping the x1 coordinate to the nearest pixel, instead of doing
    so for the y1 coordinate.

 clutter/clutter-align-constraint.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 524eb23eb76456055061c0188451aa90cd26aaaa
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Apr 1 11:43:34 2011 +0100

    paint-volume: Zero-sized actors don't have paint volume
    
    If an actor has an allocated dimension equal to 0 then it has no paint
    volume.

 clutter/clutter-paint-volume.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 7e6bf1612b686f42ec82666ddb91b2d6ca7dbb0c
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Apr 1 11:42:41 2011 +0100

    texture: Add some safeguards for paint volumes of empty textures
    
    If the Texture has no material, and the image size is 0x0 then the actor
    doesn't have any paint volume.

 clutter/clutter-texture.c |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit 7ffeaef0e95280c5ac7cd113b2367abc9a42c265
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Mar 31 17:12:13 2011 +0100

    po: Update the PO files

 po/de.po    |  620 +++++++++++++++++++++++-----------
 po/fr.po    |  632 ++++++++++++++++++++++++-----------
 po/gl.po    | 1071 +++++++++++++++++++++++++++++------------------------------
 po/id.po    |  631 ++++++++++++++++++++++++-----------
 po/it.po    |  639 ++++++++++++++++++++++++-----------
 po/nl.po    | 1071 +++++++++++++++++++++++++++++------------------------------
 po/pa.po    | 1071 +++++++++++++++++++++++++++++------------------------------
 po/pl.po    | 1071 +++++++++++++++++++++++++++++------------------------------
 po/sv.po    | 1071 +++++++++++++++++++++++++++++------------------------------
 po/te.po    | 1071 +++++++++++++++++++++++++++++------------------------------
 po/uk.po    | 1071 +++++++++++++++++++++++++++++------------------------------
 po/zh_CN.po |  628 ++++++++++++++++++++++++-----------
 po/zh_TW.po | 1071 +++++++++++++++++++++++++++++------------------------------
 13 files changed, 6444 insertions(+), 5274 deletions(-)

commit 5e8b491d28400635aa9c219e9db468ea68f6eee3
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Mar 31 17:07:08 2011 +0100

    po: Track Clutter's POT file in Git
    
    If no POT file is found, gettext will automatically create it; this, in
    turn, will cause msgmerge to be run, and that will cause the PO files to
    be touched and changed at the very first call for `make`.
    
    Having the PO files with unstaged changes will ultimately lead to merge
    issues will pulling from the remote repository between releases - unless
    `git checkout -f` is called prior to `git pull -r`.
    
    I think intltool only has some rule to avoid that from happening unless
    on dist, but I have no intention of dragging intltool into the build of
    a library that barely has localized messages.

 po/clutter-1.0.pot | 2106 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2106 insertions(+)

commit e471ad5802fc9d817f28afd649896ee5dead0b6f
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Wed Mar 30 18:36:42 2011 +0200

    Added Slovenian translation

 po/sl.po | 2555 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2555 insertions(+)

commit 82b31ba444a95ee974b98e0de57b096f05971e99
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   Tue Mar 29 17:40:50 2011 +0200

    Imported translations from Transifex.net

 po/gl.po    | 2175 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 po/nl.po    | 2180 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 po/pa.po    | 2115 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 po/sv.po    | 2132 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 po/te.po    | 2117 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 po/uk.po    | 2186 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 po/zh_TW.po | 2150 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 15055 insertions(+)

commit 1bcec53d0657142aa4fa2d6b9ac51413749748e3
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   Tue Mar 29 17:25:11 2011 +0200

    Updated Polish translation

 po/pl.po | 1250 +++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 746 insertions(+), 504 deletions(-)

commit 7cb04657973ae032090fcecd470738549e71f52a
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   Tue Mar 29 15:11:30 2011 +0200

    Updated POTFILES.in and removed clutter-1.0.pot

 po/POTFILES.in     |   15 +-
 po/clutter-1.0.pot | 1877 ----------------------------------------------------
 2 files changed, 13 insertions(+), 1879 deletions(-)

commit 620727689f0baf2b47234d8ef7b9e7506236e73f
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Mar 28 18:36:33 2011 +0100

    moduleset: Some modules have been moved to gnome.org
    
    So we need to update the moduleset.

 build/clutter.modules |   19 +++++++++++++++----
 1 file changed, 15 insertions(+), 4 deletions(-)

commit a4d29ca2e1bcb315349ee87a8eb30cae17629a8f
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Mar 24 14:13:59 2011 +0000

    build: Fix previous commit
    
    The previous commit broke the backend-specific required pkg-config
    packages.

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0eee5788df79c383a4bd1a6071129a490f47b905
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Mar 22 17:18:07 2011 +0000

    build: Remove bash-isms

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a5c87c74a6e8f1590130b95720e19e82d48d86e4
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Mar 22 17:10:49 2011 +0000

    build: Use AC_CANONICAL_HOST
    
    Since we're checking the value of the $host variable, it's a good idea
    to use the canonicalization support in autoconf.

 configure.ac |   19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit 1de13713ae95b984597db918b45aeef51398e95b
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Mar 22 14:46:35 2011 +0000

    doap: Fix the categories

 clutter.doap |    5 -----
 1 file changed, 5 deletions(-)

commit a76e0041afdb1b0ddaf4d9515f7e3ab25d0cf17c
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Mar 21 12:41:40 2011 +0000

    drag-action: Fix a compiler warning
    
    Use arguments of the right signedness when passing pointers.

 clutter/clutter-drag-action.c |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit a51c4cff72b633b1f03737e182f656774fd35209
Merge: fd89dee 57a5f22
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Mar 21 12:34:41 2011 +0000

    Merge remote-tracking branch 'elliot/cookbook-effects-basic'
    
    * elliot/cookbook-effects-basic:
      docs: Remove checks for whether an effect is disabled
      docs: Add recipe about implementing a ClutterEffect
      docs: Add example of setting background color with ClutterEffect
      docs: Add example of a border added through ClutterEffect

commit fd89dee1b01c01619110cd77968062aaf2a98b79
Author: Neil Roberts <neil@linux.intel.com>
Date:   Fri Mar 18 14:09:57 2011 +0000

    clutter-clone: Make clutter_clone_get_paint_volume static
    
    clutter_clone_get_paint_volume was being exported from the shared
    library because the function wasn't declared static. This function
    shouldn't be exposed because it should be accessed through
    clutter_actor_get_paint_volume.

 clutter/clutter-clone.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 57a5f2296ae60a72cb64a506060664fb7362e628
Author: Elliot Smith <elliot.smith@intel.com>
Date:   Thu Mar 17 15:45:57 2011 +0000

    docs: Remove checks for whether an effect is disabled
    
    pre_paint() and post_paint() implementations don't need
    to check whether an effect is disabled: Clutter will
    not apply an effect unless it is enabled.
    
    So remove code which checks whether the effect is
    enabled or disabled from the example applications and the
    documentation.

 doc/cookbook/effects.xml                     |    9 +--------
 doc/cookbook/examples/cb-background-effect.c |    6 ------
 doc/cookbook/examples/cb-border-effect.c     |    6 ------
 3 files changed, 1 insertion(+), 20 deletions(-)

commit b5af8fbfac405b26fc356ecd27b1eb4de530d838
Author: Elliot Smith <elliot.smith@intel.com>
Date:   Wed Mar 16 17:44:44 2011 +0000

    docs: Add recipe about implementing a ClutterEffect
    
    Add a recipe showing how to implement two simple
    effects, based on ClutterEffect: an always gray background,
    and a border with configurable width and color.
    
    Also explains the necessity to queue a redraw on
    the associated actor if the effect's properties change,
    and shows how to implement that.
    
    The example gives the GObject code for both effects,
    as well as an example application showing how to use them.
    The example also demonstrates how to disable/enable an effect,
    making the border round an actor togglable.

 doc/cookbook/Makefile.am                         |    2 +
 doc/cookbook/effects.xml                         |  537 ++++++++++++++++++++++
 doc/cookbook/images/effects-basic-background.png |  Bin 0 -> 10126 bytes
 doc/cookbook/images/effects-basic.png            |  Bin 0 -> 72029 bytes
 4 files changed, 539 insertions(+)

commit 5732b1184f013ce9ca33580e214d60400f00d271
Author: Elliot Smith <elliot.smith@intel.com>
Date:   Tue Mar 8 14:54:00 2011 +0000

    docs: Add example of setting background color with ClutterEffect
    
    Add example of a simple background color effect applied via
    pre_paint() implementation in a ClutterEffect subclass.
    
    This is a simple effect with an incomplete GObject
    implementation (no properties, setters or getters)
    to make it as easy to follow as possible.

 doc/cookbook/examples/Makefile.am            |    6 +-
 doc/cookbook/examples/cb-background-effect.c |  110 ++++++++++++++++++++++++++
 doc/cookbook/examples/cb-background-effect.h |   42 ++++++++++
 doc/cookbook/examples/effects-basic.c        |   35 +++++---
 4 files changed, 181 insertions(+), 12 deletions(-)

commit a81dbcf4837a589e63bd026fbc3759b109f96a41
Author: Elliot Smith <elliot.smith@intel.com>
Date:   Tue Mar 8 11:19:13 2011 +0000

    docs: Add example of a border added through ClutterEffect
    
    Add a basic example showing how to implement a ClutterEffect
    post_paint() function to overlay a highlight border over a
    rectangular actor.

 doc/cookbook/examples/Makefile.am        |    2 +
 doc/cookbook/examples/cb-border-effect.c |  317 ++++++++++++++++++++++++++++++
 doc/cookbook/examples/cb-border-effect.h |   54 +++++
 doc/cookbook/examples/effects-basic.c    |  106 ++++++++++
 4 files changed, 479 insertions(+)

commit 1d14e7468bcf999cc3cd3847eb41372bce6483c4
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Mar 15 16:20:34 2011 +0000

    clutter-offscreen-effect: Paint with 'nearest' texture filter mode
    
    The texture containing the image for the redirected actor will always
    be painted at a 1:1 texel:pixel ratio so there's no need to use linear
    filtering. This should also counteract some of the effects of rounding
    errors when calculating the geometry for the quad.

 clutter/clutter-offscreen-effect.c |   12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 6910be9b23330c114c399e38d202386d985d790d
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Mar 14 16:02:13 2011 +0000

    docs: Update RELEASING

 doc/RELEASING |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit f23a7583e1c6d53554f50ca4223ebec39038a15d
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Mar 16 12:27:22 2011 +0000

    mingw-fetch-dependencies.sh: Add a wrapper for pkg-config
    
    On a Fedora system (and maybe others) there is a wrapper script called
    i686-pc-mingw32-pkg-config. This script unsets the PKG_CONFIG_PATH
    variable and then sets the PKG_CONFIG_LIBDIR variable so that it won't
    pick up the native system .pc files. This breaks cross compiling in
    mingw-fetch-dependencies.sh because it ends up removing its attempts
    to set a local search path.
    
    To fix this, the mingw-fetch-dependencies script now generates its own
    wrapper script which instead sets PKG_CONFIG_LIBDIR to the local
    clutter-cross prefix and then runs the original pkg-config program
    from the search path. This should have the same benefit of preventing
    it from finding native system .pc files on systems that don't provide
    a cross pkg-config. The cross compiling for json-glib and the
    recommend args to pass to configure when building clutter are updated
    to set the PKG_CONFIG varible to point to this wrapper script.

 build/mingw/mingw-fetch-dependencies.sh |   24 ++++++++++++++++++++++--
 1 file changed, 22 insertions(+), 2 deletions(-)

commit 4dc8ccf9eab6d360fc208a32d1516bfd9efbddd0
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Mar 15 23:28:27 2011 +0000

    win32: remove env.sh generated by mingw-fetch-dependencies.sh
    
    Since there is very little now left in the env.sh file generated by
    mingw-fetch-dependencies.sh it can be removed. What remained (The
    CFLAGS="-mms-bitfields" and PKG_CONFIG_PATH=$ROOT_DIR/lib/pkgconfig) can
    simply be passed explicitly when calling ./configure.

 build/mingw/mingw-fetch-dependencies.sh |   32 +------------------------------
 1 file changed, 1 insertion(+), 31 deletions(-)

commit 5faf7666ecbee92242ee3d4dfab8c24c2c8eccd3
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Mar 15 22:47:20 2011 +0000

    win32: remove deprecated -mno-cygwin options from env.sh
    
    This removes the use of -mno-cygwin from our generated env.sh for cross
    compiling with mingw.
    
    I don't know that anyone is building clutter under cygwin, and our
    BuildingClutterOnWindows wiki page only describes building with msys not
    cygwin so I think its fair to assume that this build configuration is
    untested and thus not supported by us currently. Since the -mno-cygwin
    option is deprecated it could well be that there is a better
    cross-compilation solution available for cygwin these days if you want
    to build programs that don't depend on cygwin libraries.

 build/mingw/mingw-fetch-dependencies.sh |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 861bda91d5a61b2cd9e3dbb00ce47f9d804fd1ae
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Mar 15 22:37:04 2011 +0000

    win32: Strip unneeded flags from env.sh
    
    This remove CXXFLAGS since we don't have any c++ code in Clutter and
    also removes the redundant -L$ROOT_DIR/lib from LDFLAGS and
    -I$ROOT_DIR/include from CPPFLAGS and CFLAGS. (These should get added by
    pkg-config)

 build/mingw/mingw-fetch-dependencies.sh |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 6340f3a24be7ef27015930023cf6b6d9fa4b1f61
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Mar 15 22:19:08 2011 +0000

    win32: Add blurb at end of mingw helper script
    
    This adds some blurb at the end the mingw-fetch-dependencies.sh script
    that gives an example of how to go on and build clutter after fetching
    all dependencies.

 build/mingw/mingw-fetch-dependencies.sh |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 130135a09f3102a839a97f358a66a41b631fbea5
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Mar 15 21:58:15 2011 +0000

    win32: support building json-glib in mingw script
    
    Since Tor does not currently provide win32 binaries for json-glib we
    need to cross compile it before we can build clutter. This extends
    mingw-fetch-dependencies.sh so it can fetch, unpack and cross-compile
    json-glib into the same prefix as the binary dependencies.

 build/mingw/mingw-fetch-dependencies.sh |   73 ++++++++++++++++++++++++++++++-
 1 file changed, 72 insertions(+), 1 deletion(-)

commit 820765eea02802b88d7bfda4eaae2df97e047ac1
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Mar 15 20:17:21 2011 +0000

    win32: don't set CC,CPP,AR,NM,LD etc in mingw env.sh
    
    It shouldn't be necessary to explicitly override CC,CPP,AR,NM,LD etc in
    the env.sh helper script that mingw-fetch-dependencies.sh generates.
    Clutter's ./configure script should figure all of those out for us.

 build/mingw/mingw-fetch-dependencies.sh |   24 +-----------------------
 1 file changed, 1 insertion(+), 23 deletions(-)

commit ed025f1c85035680ed4119941b6c206231dd02a0
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Mar 15 20:04:15 2011 +0000

    win32: remove automatic build option from mingw script
    
    This removes the "Do you want to checkout and build Clutter?" option
    from the mingw-cross-compile.sh script and renames the script
    mingw-fetch-dependencies.sh
    
    As it stands the mingw-cross-compile.sh script isn't enough to fetch all
    the dependencies for building clutter, since Tor doesn't provide binaries
    for json-glib so the option to checkout and build clutter can't work.
    
    Also it doesn't seem ideal to clone a fresh clutter repo instead of
    being able to compile the source of the current repo.

 build/mingw/Makefile.am                 |    2 +-
 build/mingw/README                      |    6 +-
 build/mingw/mingw-cross-compile.sh      |  338 -------------------------------
 build/mingw/mingw-fetch-dependencies.sh |  314 ++++++++++++++++++++++++++++
 4 files changed, 318 insertions(+), 342 deletions(-)

commit e51749d33c4f28b6f4cb70856914008ae67305a9
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Mar 15 19:37:26 2011 +0000

    win32: mkdir -p win32 needed for out of tree builds
    
    if cross compiling clutter using mingw using an out of tree build
    directory then a pre-requisite for creating the resources.o file
    containing the transparent cursor is for the win32 directory itself to
    be created at $(top_builddir)/clutter/win32.

 clutter/Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit e4e318c9f828d87a25efbb6df1f2dc9618d62147
Author: Neil Roberts <neil@linux.intel.com>
Date:   Mon Mar 14 17:58:31 2011 +0000

    cogl: Use GHookList instead of CoglCallbackList
    
    glib already has a data type to manage a list of callbacks called a
    GHookList so we might as well use it instead of maintaining Cogl's own
    type. The glib version may be slightly more efficient because it
    avoids using a GList and instead encodes the prev and next pointers
    directly in the GHook structure. It also has more features than
    CoglCallbackList.

 clutter/cogl/cogl/Makefile.am               |    2 -
 clutter/cogl/cogl/cogl-atlas.c              |   58 ++++++++++-----
 clutter/cogl/cogl/cogl-atlas.h              |   13 ++--
 clutter/cogl/cogl/cogl-callback-list.c      |  107 ---------------------------
 clutter/cogl/cogl/cogl-callback-list.h      |   58 ---------------
 clutter/cogl/pango/cogl-pango-glyph-cache.c |   26 ++++---
 clutter/cogl/pango/cogl-pango-glyph-cache.h |    5 +-
 clutter/cogl/pango/cogl-pango-render.c      |    4 +-
 8 files changed, 65 insertions(+), 208 deletions(-)

commit 810a42c41844d9062b2abf62c016030e94788e9d
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Mar 14 14:17:14 2011 +0000

    clutter.doap: Add my gnome userid
    
    Not strictly needed, since we're not hosted on GNOME, but it can still
    be useful when extracting meta-data from the DOAP file.

 clutter.doap |    1 +
 1 file changed, 1 insertion(+)

commit 298c88e658ec05a60b5fdf4ef64fcb9f7c3fd2da
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Mar 14 14:16:16 2011 +0000

    AUTHORS: Note that the file is unmaintained
    
    The list of authors can be extracted from the Git log; the AUTHORS file
    is maintained for mere historical reasons.

 AUTHORS |    4 ++++
 1 file changed, 4 insertions(+)

commit e6cfa04339faa04efbb7462174a799b9e12072ca
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Mar 14 14:00:12 2011 +0000

    README.md: fix a dumb typo

 README.md |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4333507b50d51ef77ee625f3431e7230aeda5bce
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Mar 14 13:57:26 2011 +0000

    Add MarkDown version of the README

 README.md |  175 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 175 insertions(+)

commit 9753046ca09da25dbcb831745083dc7ff2477022
Author: Øyvind Kolås <pippin@linux.intel.com>
Date:   Fri Mar 11 17:09:59 2011 +0000

    stage: handle ACCEPT_FOCUS in set_/get_property

 clutter/clutter-stage.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 49ca9e8f121db77f3b7aa75b9f2e30150b86eb9b
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Mar 10 18:51:51 2011 +0000

    culling: Don't cull actors not being painted on the stage
    
    Previously we were applying the culling optimization to any actor
    painted without considering that we may be painting to an offscreen
    framebuffer where the stage clip isn't applicable.
    
    For now we simply expose a getter for the current draw framebuffer
    and we can assume that a return value of NULL corresponds to the
    stage.
    
    Note: This will need to be updated as stages start to be backed by real
    CoglFramebuffer objects and so we won't get NULL in those cases.

 clutter/clutter-actor.c  |    8 ++++++++
 clutter/cogl/cogl/cogl.h |    3 +++
 2 files changed, 11 insertions(+)

commit 5ce13b58fe9166e00384114983eaea8a07ca935a
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Mar 10 18:50:23 2011 +0000

    debug: Add more CLIPPING debug notes
    
    To give quick visibility to the things going on relating to clipping and
    culling this adds some more CLIPPING debug notes to clutter-actor.c and
    clutter-stage.c

 clutter/clutter-actor.c |   21 ++++++++++++++++++---
 clutter/clutter-stage.c |    6 ++++++
 2 files changed, 24 insertions(+), 3 deletions(-)

commit 3303b081741d43b16d21964242b398b6ba15b0dd
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Mar 10 13:42:11 2011 +0000

    culling: check volume->is_empty before ->is_complete
    
    As documented in cogl-pipeline-private.h, there is a precedence to the
    ClutterPaintVolume bitfields that should be considered whenever we
    implement code that manipulates PaintVolumes...
    
    Firstly if ->is_empty == TRUE then the values for ->is_complete and
    ->is_2d are undefined, so we should typically check ->is_empty as the
    first priority.
    
    This fixes a bug in _clutter_paint_volume_cull() whereby we were
    checking pv->is_complete before checking pv->is_empty which was
    resulting in assertions for actors with no size.

 clutter/clutter-paint-volume.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 0b9aa1fa246bf435b220a785e547646e9c1e4886
Author: Jasper St. Pierre <jstpierre@mecheye.net>
Date:   Wed Mar 2 12:45:25 2011 -0500

    cogl-clip-state: Adapt to experimental cogl2 API.
    
    The current clip state implementation couldn't be used in
    conjunction with the CoglPath experimental API.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2594
    
    Signed-off-by: Neil Roberts <neil@linux.intel.com>

 clutter/cogl/cogl/Makefile.am                |    9 ++++-
 clutter/cogl/cogl/cogl-clip-state-private.h  |   53 ++++++++++++++++++++++++++
 clutter/cogl/cogl/cogl-clip-state.c          |   20 ++--------
 clutter/cogl/cogl/cogl-clip-state.h          |   39 +++++++++----------
 clutter/cogl/cogl/cogl-framebuffer-private.h |    2 +-
 clutter/cogl/cogl/cogl.h                     |   15 +-------
 clutter/cogl/cogl/cogl2-clip-state.c         |   49 ++++++++++++++++++++++++
 clutter/cogl/cogl/cogl2-clip-state.h         |   52 +++++++++++++++++++++++++
 8 files changed, 186 insertions(+), 53 deletions(-)

commit 9cba5b83bde0857d606d9668ea420b702378d6a8
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Mar 9 17:46:23 2011 +0000

    cogl-path: Optimise paths that are just a rectangle
    
    Drawing and clipping to paths is generally quite expensive because the
    geometry has to be tessellated into triangles in a single VBO which
    breaks up the journal batching. If we can detect when the path
    contains just a single rectangle then we can instead divert to calling
    cogl_rectangle which will take advantage of the journal, or by pushing
    a rectangle clip which usually ends up just using the scissor.
    
    This patch adds a boolean to each path to mark when it is a
    rectangle. It gets cleared whenever a node is added or gets set to
    TRUE whenever cogl2_path_rectangle is called. This doesn't try to
    catch cases where a rectangle is composed by cogl_path_line_to and
    cogl_path_move_to commands.

 clutter/cogl/cogl/cogl-clip-stack.c   |   32 +++++++++++++------
 clutter/cogl/cogl/cogl-path-private.h |   11 +++++++
 clutter/cogl/cogl/cogl2-path.c        |   55 +++++++++++++++++++++++++++------
 3 files changed, 79 insertions(+), 19 deletions(-)

commit 82a30d8e0b4198918086622ecedcbf2ab11a2ab1
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 28 17:47:50 2011 +0000

    drag-action: Allow using settings for the drag threshold
    
    ClutterDragAction should be able to use the newly added ClutterSettings
    property exposing the system's drag threshold.
    
    Currently, the x-drag-threshold and the y-drag-threshold properties (and
    relative accessors) use an unsigned integer for their values; we should
    be able to safely expand the range to include -1 as the minimum value,
    and use this new value to tell the ClutterDragAction that it should query
    the ClutterSettings object for the drag threshold.
    
    The storage of the properties has been changed, albeit in a compatible
    way, as GObject installs a uint ↔ int transformation function for GValue
    automatically.
    
    The setter for the drag thresholds has been changes to use a signed
    integer, but the getter has been updated to always Do The Right Thing™:
    it never returns -1 but, instead, will return the valid drag threshold,
    either from the value set or from the Settings singleton.
    
    This change is ABI compatible.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2583

 clutter/clutter-drag-action.c |  145 ++++++++++++++++++++++++++++++-----------
 clutter/clutter-drag-action.h |    4 +-
 2 files changed, 108 insertions(+), 41 deletions(-)

commit bca7422f3d53e9d719d385d52f501f9f89035105
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 28 16:08:23 2011 +0000

    x11: Map Net/DndDragThreshold to ClutterSettings
    
    Simple mapping between XSETTINGS key and ClutterSettings property.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2583

 clutter/x11/clutter-settings-x11.h |    1 +
 1 file changed, 1 insertion(+)

commit b7685ad06b6f1cf773509e99bc612bc16805e70e
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 28 16:46:27 2011 +0000

    settings: Add dnd-drag-threshold property
    
    The newly added ClutterSettings:dnd-drag-threshold stores the
    threshold, in pixels, that should be passed by the cursor to
    start a drag operation.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2583

 clutter/clutter-settings.c |   30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 6d653fb6dd6e72fbe629a7769ff3fb477b9eb7c8
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 28 16:40:07 2011 +0000

    settings: Clean up property installation code
    
    Use g_object_class_install_properties().
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2583

 clutter/clutter-settings.c |  164 ++++++++++++++++++--------------------------
 1 file changed, 65 insertions(+), 99 deletions(-)

commit ed27da6abe593c686b8c1fdae540cb44d777ead5
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Mar 9 12:05:34 2011 +0000

    docs: Add an ClutterState definition section
    
    ClutterState is missing some documentation on how to define transitions
    using ClutterScript definitions; it is also missing some example code
    for both the C API and the ClutterScript syntax.

 clutter/clutter-state.c |  143 +++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 143 insertions(+)

commit 49d38b1e21eb868f64f213d9d5b4c6fbedd63bb2
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Mar 8 19:23:34 2011 +0000

    box: Implement the correct paint volume
    
    The allocation of the ClutterBox is not enough to be used as the paint
    volume, because children might decide to paint outside that area.
    
    Instead, we should use the allocation if the Box has a background color
    and then do what Group does, and union all the paint volumes of the
    children.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2600

 clutter/clutter-box.c |   37 ++++++++++++++++++++++++++++++++++---
 1 file changed, 34 insertions(+), 3 deletions(-)

commit d1500c03c054713c17f97171c0e1b2500c48b135
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Mar 8 12:53:41 2011 +0000

    cogl-shader-boilerplate: Specify default precision earlier
    
    In 9ff04e8a99 the builtin uniforms were moved to the common shader
    boilerplate. However the common boilerplate is positioned before the
    default precision specifier on GLES2 so it would fail to compile
    because the uniforms end up with no precision in the fragment
    shader. This patch just moves the precision specifier to above the
    common boilerplate.

 clutter/cogl/cogl/cogl-shader-boilerplate.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 41b815ebf458237c07cac29a33b13cedc272083f
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Mar 8 10:05:57 2011 +0000

    event: Return the CrossingEvent.device field
    
    The CLUTTER_ENTER and CLUTTER_LEAVE event types were mistakenly ignored
    by clutter_event_get_device(), when returning the device from a
    non-allocated ClutterEvent.

 clutter/clutter-event.c |    3 +++
 1 file changed, 3 insertions(+)

commit 1bacefd6d8222f6314112c1e7ea322a3ab6e432d
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Mar 8 10:01:53 2011 +0000

    win32/event: Set the core pointer directly
    
    Since we have a ClutterInputDevice pointer already we can just set it
    instead of using event->crossing.device.

 clutter/win32/clutter-event-win32.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit da6b5eb7e1b9be8039b24359a525a00322f548eb
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Mar 8 10:01:06 2011 +0000

    event: Set the CrossingEvent device field
    
    The CLUTTER_ENTER and CLUTTER_LEAVE should also have their device field
    set when calling clutter_event_set_device().

 clutter/clutter-event.c |    3 +++
 1 file changed, 3 insertions(+)

commit d1c819b563209619d7e88d06e4825f94b80c0d12
Author: Neil Roberts <neil@linux.intel.com>
Date:   Mon Mar 7 15:35:05 2011 +0000

    clutter-actor: Fix test for avoiding calculating the paint volume
    
    There's an optimisation in clutter-actor.c to avoid calculating the
    last known paint volume whenever culling and clipped redraws are both
    disabled. However there was a small thinko in the logic so that it
    would also avoid calculating the paint volume whenever only one of the
    debug flags is enabled. This fixes it to explicitly check that the two
    flags are not both enabled before skipping the paint volume
    calculation.

 clutter/clutter-actor.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 9130dc1311b0d9b1500347a625691e37f6a211fe
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Feb 8 10:37:15 2011 +0000

    util: optimize _clutter_util_fully_transform_vertices
    
    Instead of unconditionally combining the modelview and projection
    matrices and then iterating each of the vertices to call
    cogl_matrix_transform_point for each one in turn we now only combine the
    matrices if there are more than 4 vertices (with less than 4 vertices
    its less work to transform them separately) and we use the new
    cogl_vertex_{transform,project}_points APIs which can hopefully
    vectorize the transformations.
    
    Finally the perspective divide and viewport scale is done in a separate
    loop at the end and we don't do the spurious perspective divide and
    viewport scale for the z component.

 clutter/clutter-util.c          |   66 ++++++++++++++++++++++++++++-----------
 clutter/cogl/cogl/cogl-matrix.c |   14 ++++-----
 clutter/cogl/cogl/cogl-matrix.h |    4 +--
 3 files changed, 57 insertions(+), 27 deletions(-)

commit 3b88029f38ef9172bbd07608cbbb863c81aad845
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Feb 4 09:17:16 2011 +0000

    actor: Cache per-actor transforms
    
    Previously each time we needed to retrieve the model transform for a
    given actor we would call the apply_transform vfunc which would build up
    a transformation matrix based on the actor's current anchor point, its
    scale, its allocation and rotation. The apply_transform implementation
    would repeatedly call API like cogl_matrix_rotate, cogl_matrix_translate
    and cogl_matrix_scale.
    
    All this micro matrix manipulation APIs were starting to show up in the
    profiles of dynamic applications so this adds priv->transform matrix
    cache which maintains the combined result of the actors scale, rotation
    and anchor point etc. Whenever something like the rotation changes then
    then the matrix is marked as dirty, but so long as the matrix isn't
    dirty then the apply_transform vfunc now just calls cogl_matrix_multiply
    with the cached transform matrix.

 clutter/clutter-actor.c |  126 ++++++++++++++++++++++++++++++-----------------
 1 file changed, 81 insertions(+), 45 deletions(-)

commit 19b86229831a049e8f337e2d7a7a4782961b664c
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Feb 1 18:32:08 2011 +0000

    Optimize culling by doing culling in eye-coordinates
    
    This implements a variation of frustum culling whereby we convert screen
    space clip rectangles into eye space mini-frustums so that we don't have
    to repeatedly transform actor paint-volumes all the way into screen
    coordinates to perform culling, we just have to apply the modelview
    transform and then determine each points distance from the planes that
    make up the clip frustum.
    
    By avoiding the projective transform, perspective divide and viewport
    scale for each point culled this makes culling much cheaper.

 clutter/clutter-actor-private.h          |    4 +-
 clutter/clutter-actor.c                  |  321 +++++++++++++++---------------
 clutter/clutter-debug.h                  |    3 +-
 clutter/clutter-main.c                   |    3 +-
 clutter/clutter-paint-volume-private.h   |   17 +-
 clutter/clutter-paint-volume.c           |  167 +++++++++++++++-
 clutter/clutter-private.h                |    8 +
 clutter/clutter-stage-private.h          |    3 +-
 clutter/clutter-stage.c                  |  192 +++++++++++++++---
 clutter/glx/clutter-stage-glx.c          |   11 +-
 clutter/x11/clutter-stage-x11.c          |    2 +-
 clutter/x11/clutter-x11-texture-pixmap.c |    2 +-
 12 files changed, 520 insertions(+), 213 deletions(-)

commit eef9078f892c3b042beed65288c3581d225c4f46
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Feb 8 14:46:31 2011 +0000

    stage: simplify apply_transform
    
    This simplifies the implementation of the ClutterStage apply_transform
    vfunc by using the new cogl_matrix_view_2d_in_perspective utility API
    which can setup up a view transform for a given perspective so that a
    cross section of the view frustum at an arbitrary depth can be mapped
    directly to 2D stage coordinates with (0,0) at the top left.

 clutter/clutter-stage.c |   96 ++++++++++++++++++-----------------------------
 1 file changed, 37 insertions(+), 59 deletions(-)

commit ca30ac783568b71beaddfd5139c83598eda97980
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Feb 8 15:21:41 2011 +0000

    matrix: adds 2d view transform conveniences
    
    This adds two new experimental functions to cogl-matrix.c:
    cogl_matrix_view_2d_in_perspective and cogl_matrix_view_2d_in_frustum
    which can be used to setup a view transform that maps a 2D coordinate
    system (0,0) top left and (width,height) bottom right to the current
    viewport.
    
    Toolkits such as Clutter that want to mix 2D and 3D drawing can use
    these APIs to position a 2D coordinate system at an arbitrary depth
    inside a 3D perspective projected viewing frustum.

 clutter/cogl/cogl/cogl-matrix.c |   57 ++++++++++++++++++++++++++++
 clutter/cogl/cogl/cogl-matrix.h |   80 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 137 insertions(+)

commit 1431b777479736242698b419001d4f8665171c52
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Feb 1 18:15:50 2011 +0000

    stage: don't call glGetIntegerv in clutter_stage_read_pixels
    
    Firstly Clutter shouldn't be using OpenGL directly so this needed
    changing but also conceptually it doesn't make sense for
    clutter_stage_read_pixels to validate the requested area to read against
    the viewport it would make more sense to compare against the window
    size. Finally checking that the width of the area is less than the
    viewport or window width without considering the x isn't enough to know
    if the area extends outside the windows bounds. (same for the height)
    
    This patch removes the validation of the read area from
    clutter_stage_read_pixels and instead we now simply rely on the
    semantics of cogl_read_pixels for reading areas outside the window
    bounds.

 clutter/clutter-stage.c |   25 +++++++------------------
 1 file changed, 7 insertions(+), 18 deletions(-)

commit 013b2433f0ceed49cbc8fc81e345a9488faea3a4
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Feb 1 16:51:58 2011 +0000

    viewport: consistently use floats for viewports
    
    OpenGL < 4.0 only supports integer based viewports and internally we
    have a mixture of code using floats and integers for viewports. This
    patch switches all viewports throughout clutter and cogl to be
    represented using floats considering that in the future we may want to
    take advantage of floating point viewports with modern hardware/drivers.

 clutter/clutter-actor.c                      |    4 ++--
 clutter/clutter-paint-volume-private.h       |    2 +-
 clutter/clutter-paint-volume.c               |    2 +-
 clutter/clutter-private.h                    |    8 +++++++-
 clutter/clutter-stage-private.h              |   16 ++++++++--------
 clutter/clutter-stage.c                      |   25 +++++++++++++++----------
 clutter/clutter-util.c                       |    2 +-
 clutter/cogl/cogl/cogl-framebuffer-private.h |   26 +++++++++++++-------------
 clutter/cogl/cogl/cogl-framebuffer.c         |   23 ++++++++++++-----------
 clutter/cogl/cogl/cogl-journal.c             |    2 +-
 clutter/cogl/cogl/cogl-matrix-mesa.c         |    8 +++++---
 clutter/cogl/cogl/cogl-matrix-mesa.h         |    2 +-
 clutter/cogl/cogl/cogl-texture.c             |   12 ++++++------
 clutter/cogl/cogl/cogl.c                     |    7 +------
 clutter/cogl/cogl/cogl.h                     |    3 ---
 15 files changed, 74 insertions(+), 68 deletions(-)

commit 54f85832b7fa39ca48006b20878f533b1b1e9589
Author: Robert Bragg <robert@linux.intel.com>
Date:   Thu Mar 3 23:19:30 2011 +0000

    util: tune point_in_poly test for polys in screen coords
    
    This makes a change to the original point_in_poly algorithm from:
    http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html
    
    The aim was to tune the test so that tests against screen aligned
    rectangles are more resilient to some in-precision in how we transformed
    that rectangle into screen coordinates. In particular gnome-shell was
    finding that for some stage sizes then row 0 of the stage would become a
    dead zone when going through the software picking fast-path and this was
    because the y position of screen aligned rectangles could end up as
    something like 0.00024 and the way the algorithm works it doesn't have
    any epsilon/fuz factor to consider that in-precision.
    
    We've avoided introducing an epsilon factor to the comparisons since we
    feel there's a risk of changing some semantics in ways that might not be
    desirable. One of those is that if you transform two polygons which
    share an edge and test a point close to that edge then this algorithm
    will currently give a positive result for only one polygon.
    
    Another concern is the way this algorithm resolves the corner case where
    the horizontal ray being cast to count edge crossings may cross directly
    through a vertex. The solution is based on the "idea of Simulation of
    Simplicity" and "pretends to shift the ray infinitesimally down so that
    it either clearly intersects, or clearly doesn't touch". I'm not
    familiar with the idea myself so I expect a misplaced epsilon is likely
    to break that aspect of the algorithm.
    
    The simple solution this patch applies is to pixel align the polygon
    vertices which should eradicate most noise due to in-precision.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=641197

 clutter/cogl/cogl/cogl-journal.c               |    4 +--
 clutter/cogl/cogl/cogl-point-in-poly-private.h |   10 +++---
 clutter/cogl/cogl/cogl-point-in-poly.c         |   41 +++++++++++++++++++++---
 3 files changed, 43 insertions(+), 12 deletions(-)

commit 0194e9db2f9a5e43b3d91d07909d16fa414819cc
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Mar 4 23:58:12 2011 +0000

    glx: Use g_set_error_literal() where appropriate

 clutter/glx/clutter-backend-glx.c |   36 ++++++++++++++++++++----------------
 1 file changed, 20 insertions(+), 16 deletions(-)

commit bed392b9a5cc341a822001cddc91aaa4951a904d
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Mar 4 23:56:12 2011 +0000

    On error, return FALSE in the post_parse hook
    
    Anything that is not CLUTTER_INIT_SUCCESS is to be considered an error.
    
    This fixes the Clutter initialization sequence to actually error out
    on pre-conditions and backend initialization failures.

 clutter/clutter-main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8bde5febd1998f7354c658e62a9f88443c75e8eb
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Mar 4 23:55:02 2011 +0000

    Clean up argument parsing GError handling
    
    Pass a GError in, so that clutter_init() can effectively print out a
    critical warning on initialization failure, like it used to do in the
    olden days.

 clutter/clutter-main.c |   77 +++++++++++++++++++++++++++++-------------------
 1 file changed, 47 insertions(+), 30 deletions(-)

commit 4f3a4ab01bc5303e988705faec2f3afba0ef28f7
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Mar 4 23:53:45 2011 +0000

    x11: Use g_set_error_literal()
    
    The g_set_error() function takes a format string.

 clutter/x11/clutter-backend-x11.c |   22 ++++++++++++----------
 1 file changed, 12 insertions(+), 10 deletions(-)

commit 9e11aa38207173aaa6669ea98211174a13139db1
Author: Neil Roberts <neil@linux.intel.com>
Date:   Fri Mar 4 17:04:02 2011 +0000

    clutter-offscreen-effect: Use 0,0 as the offset if no actor box
    
    clutter_offscreen_effect_pre_paint was using the unitialized value of
    the ‘box’ variable whenever the actor doesn't have a paint
    volume. This patch makes it just set the offset to 0,0 instead.

 clutter/clutter-offscreen-effect.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit d306b4bb7d7a9c8b0b02c7e940b66f51ec62e18d
Author: Neil Roberts <neil@linux.intel.com>
Date:   Thu Mar 3 16:46:26 2011 +0000

    clutter-offscreen-effect: Preserve the old opacity override
    
    When removing the opacity override in the post_paint implementation,
    ClutterOffscreenEffect would always set the override back to -1. This
    ends up cancelling out the effect of any overrides from outer effects
    which means that if any actor has multiple effects attached then it
    would apply the opacity multiple times.
    
    To fix this, the effect now preserves the old value of the opacity
    override and restores that instead of setting -1.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2541

 clutter/clutter-offscreen-effect.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 3fab04805ea4b7ae584fcfe425bc8355a64d2c36
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Mar 1 19:52:43 2011 +0000

    clutter-actor: Add an internal _clutter_actor_get_opacity_override
    
    This is needed if an effect wants to temporarily override the paint
    opacity. It needs to be able to restore the old opacity override in
    the post_paint handler otherwise it would replace the effect of the
    opacity override from any outer effects.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2541

 clutter/clutter-actor-private.h |    1 +
 clutter/clutter-actor.c         |    8 ++++++++
 2 files changed, 9 insertions(+)

commit 0c576c0c339afb2efa6f323461a1cd31650e51e7
Author: Jasper St. Pierre <jstpierre@mecheye.net>
Date:   Thu Mar 3 06:35:46 2011 -0500

    Remove private helper #define's
    
    Finish off the second half of 09a830d294.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2596

 clutter/clutter-actor-meta.c        |   10 +--
 clutter/clutter-actor.c             |  152 +++++++++++++++++------------------
 clutter/clutter-align-constraint.c  |    6 +-
 clutter/clutter-alpha.c             |   16 ++--
 clutter/clutter-animation.c         |   34 ++++----
 clutter/clutter-animator.c          |    6 +-
 clutter/clutter-behaviour-ellipse.c |   24 +++---
 clutter/clutter-behaviour-opacity.c |    4 +-
 clutter/clutter-behaviour-path.c    |    2 +-
 clutter/clutter-behaviour-rotate.c  |   14 ++--
 clutter/clutter-behaviour-scale.c   |    8 +-
 clutter/clutter-behaviour.c         |    8 +-
 clutter/clutter-bin-layout.c        |   20 ++---
 clutter/clutter-bind-constraint.c   |   12 +--
 clutter/clutter-binding-pool.c      |    6 +-
 clutter/clutter-box.c               |    6 +-
 clutter/clutter-cairo-texture.c     |   10 +--
 clutter/clutter-child-meta.c        |    6 +-
 clutter/clutter-click-action.c      |    8 +-
 clutter/clutter-clone.c             |    8 +-
 clutter/clutter-colorize-effect.c   |    8 +-
 clutter/clutter-deform-effect.c     |   10 +--
 clutter/clutter-desaturate-effect.c |    8 +-
 clutter/clutter-device-manager.c    |    6 +-
 clutter/clutter-drag-action.c       |   14 ++--
 clutter/clutter-flow-layout.c       |   22 ++---
 clutter/clutter-page-turn-effect.c  |    6 +-
 clutter/clutter-path-constraint.c   |   10 +--
 clutter/clutter-private.h           |    6 --
 clutter/clutter-script.c            |    6 +-
 clutter/clutter-shader-effect.c     |    6 +-
 clutter/clutter-shader.c            |   10 +--
 clutter/clutter-snap-constraint.c   |    8 +-
 clutter/clutter-state.c             |    2 +-
 clutter/clutter-text.c              |   60 +++++++-------
 clutter/clutter-texture.c           |   22 ++---
 clutter/clutter-timeline.c          |   18 ++---
 37 files changed, 288 insertions(+), 294 deletions(-)

commit cfa32659e495f6736d65e94c92a9c46360bc1620
Author: Dioselin <dcourter@vuze.com>
Date:   Tue Mar 1 14:05:11 2011 -0800

    box: set default paint volume to allocation
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2589

 clutter/clutter-box.c |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 0be73bf4014074377dca13ae44e32ac47adaafec
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Mar 1 18:36:55 2011 +0000

    effect: Queue a redraw on :enabled changes
    
    ClutterEffect should queue a redraw if the :enabled property of its
    parent class ClutterActorMeta changes.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2587

 clutter/clutter-effect.c |   21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit bd8b09edda35a1531262add8b5429e7868949464
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Mar 1 18:36:08 2011 +0000

    constraint: Queue a relayout on :enabled changes
    
    ClutterConstraint should queue a relayout if the :enabled property of
    its parent class ClutterActorMeta changes.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2587

 clutter/clutter-constraint.c |   23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit 0c83e6a59ae5287f54e82a9fdd0bbe289d46831c
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 28 14:31:59 2011 +0000

    offscreen-effect: Add public accessor for target size
    
    The OffscreenEffect class needs to expose a way for sub-classes to
    track the size of FBO it creates, in case it has to do some geometry
    deformations like the DeformEffect sub-classes.
    
    Let's move the private symbol we used internally in 1.6 to fix
    DeformEffect to the list of public symbols of OffscreenEffect.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2570

 clutter/clutter-deform-effect.c            |    5 ++++-
 clutter/clutter-offscreen-effect-private.h |    4 ----
 clutter/clutter-offscreen-effect.c         |   30 ++++++++++++++++++++++++----
 clutter/clutter-offscreen-effect.h         |   15 ++++++++------
 doc/reference/clutter/clutter-sections.txt |    1 +
 5 files changed, 40 insertions(+), 15 deletions(-)

commit e2b5762571086cbbb76f11460ba1c10d35318400
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 28 14:02:00 2011 +0000

    Move the keysym ↔ Unicode table to .rodata
    
    The table we use for converting between keysyms and Unicode should be
    static and constified, so that it can live in the .rodata section of
    the ELF shared object, and be shared among processes.
    
    This change moves the table to a source file, instead of an header; the
    change also requires the clutter_keysym_to_unicode() function to be
    moved from clutter-event.c into this new source file. The declaration is
    still in clutter-event.h, so we don't need to do anything special.

 clutter/Makefile.am             |    2 +-
 clutter/clutter-event.c         |   48 ---
 clutter/clutter-keysyms-table.c |  873 +++++++++++++++++++++++++++++++++++++++
 clutter/clutter-keysyms-table.h |  827 ------------------------------------
 4 files changed, 874 insertions(+), 876 deletions(-)

commit 23c0dac23193e9a10283c87b0163a426cc9c49e0
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 28 12:49:48 2011 +0000

    build: Show CFLAGS in the configure summary
    
    Don't show just the maintainer flags, but the whole shebang.

 configure.ac |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit d3a7b7502e3a1d1a2df2ca60298fbe3639aa008e
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 22 17:12:34 2011 +0000

    event: Add setters for ClutterEvent members
    
    Creating a synthetic event requires direct access to the ClutterEvent
    union members; this access does not map in bindings to high-level
    languages, especially run-time bindings using GObject-Introspection.
    It's also midly annoying from C, as it unnecessarily exposes the guts of
    ClutterEvent - something we might want to fix in the future.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2575

 clutter/clutter-event-private.h            |    4 -
 clutter/clutter-event.c                    |  368 ++++++++++++++++++++++++----
 clutter/clutter-event.h                    |  127 ++++++----
 clutter/x11/clutter-device-manager-xi2.c   |   18 +-
 doc/reference/clutter/clutter-sections.txt |   15 +-
 tests/conform/test-clutter-text.c          |   41 ++--
 6 files changed, 443 insertions(+), 130 deletions(-)

commit 26ec3efbff6da99bd443cd5b587a980bb7a3a75a
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Feb 22 12:53:15 2011 +0000

    tests: Check return value of clutter_init_with_args instead of error
    
    Some of the tests were ignoring the return value of
    clutter_init_with_args and instead they would recognise an error by
    seeing whether the GError parameter was set. This patch changes it to
    check the return value so that it won't give a warning now that
    G_GNUC_WARN_UNUSED_RESULT is on that function.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2574

 tests/interactive/test-actor-clone.c   |   11 +++++------
 tests/interactive/test-actors.c        |   11 +++++------
 tests/interactive/test-drag.c          |   11 +++++------
 tests/interactive/test-flow-layout.c   |   11 +++++------
 tests/interactive/test-paint-wrapper.c |   11 +++++------
 tests/micro-bench/test-cogl-perf.c     |   11 +++++------
 6 files changed, 30 insertions(+), 36 deletions(-)

commit 3d34d9fea1a8b2e34a9970ea71ab359726eb9729
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Feb 22 12:38:19 2011 +0000

    Add G_GNUC_WARN_UNUSED_RESULT to clutter_init and init_with_args
    
    Many people expect clutter_init to work the same way as gtk_init which
    exits the program on init failure. clutter_init however returns a
    status code on failure which applications need to handle because if
    the init fails then any further Clutter calls are likely to crash. In
    Clutter 2.0 we may want to change this to be more like GTK+.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2574

 clutter/clutter-main.h |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit aece642adb22ed054d1d4bca99eeeeb0b4b80b83
Author: nobled <nobled@dreamwidth.org>
Date:   Tue Feb 22 00:44:55 2011 +0000

    doc: fix clutter_init() usage in examples
    
    Make sure users get the idea that clutter_init()
    has a return value that needs to be checked.
    
    These were fixed via sed magic:
    
    sed -i -s -e "s/clutter_init (.*)/\
    if (& != CLUTTER_INIT_SUCCESS)\n    return 1/"\
     doc/*/*/*.{c,xml} doc/*/*.xml
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2574

 doc/cookbook/examples/actors-composite-main.c              |    3 ++-
 doc/cookbook/examples/animations-complex.c                 |    3 ++-
 doc/cookbook/examples/animations-looping-animator.c        |    3 ++-
 doc/cookbook/examples/animations-looping-implicit.c        |    3 ++-
 doc/cookbook/examples/animations-looping-state.c           |    3 ++-
 doc/cookbook/examples/animations-moving-animator.c         |    3 ++-
 doc/cookbook/examples/animations-moving-implicit.c         |    3 ++-
 doc/cookbook/examples/animations-moving-state.c            |    3 ++-
 doc/cookbook/examples/animations-path-circle.c             |    3 ++-
 doc/cookbook/examples/animations-path-easing.c             |    3 ++-
 doc/cookbook/examples/animations-path.c                    |    3 ++-
 doc/cookbook/examples/animations-reuse.c                   |    3 ++-
 doc/cookbook/examples/animations-rotating.c                |    3 ++-
 doc/cookbook/examples/animations-scaling-zoom.c            |    3 ++-
 doc/cookbook/examples/animations-scaling.c                 |    3 ++-
 doc/cookbook/examples/effects-built-in.c                   |    3 ++-
 doc/cookbook/examples/effects-custom-deform.c              |    3 ++-
 doc/cookbook/examples/events-buttons-click.c               |    3 ++-
 doc/cookbook/examples/events-buttons-lasso.c               |    3 ++-
 doc/cookbook/examples/events-buttons.c                     |    3 ++-
 doc/cookbook/examples/events-mouse-scroll.c                |    3 ++-
 doc/cookbook/examples/events-pointer-motion-crossing.c     |    3 ++-
 doc/cookbook/examples/events-pointer-motion-scribbler.c    |    3 ++-
 doc/cookbook/examples/events-pointer-motion-stacked.c      |    3 ++-
 doc/cookbook/examples/events-pointer-motion.c              |    3 ++-
 doc/cookbook/examples/layouts-bind-constraint-allocation.c |    3 ++-
 doc/cookbook/examples/layouts-bind-constraint-overlay.c    |    3 ++-
 doc/cookbook/examples/layouts-bind-constraint-stage.c      |    3 ++-
 doc/cookbook/examples/layouts-box-menu.c                   |    3 ++-
 doc/cookbook/examples/layouts-box-property-effects.c       |    3 ++-
 doc/cookbook/examples/layouts-box.c                        |    3 ++-
 doc/cookbook/examples/layouts-stacking-diff-sized-actors.c |    3 ++-
 doc/cookbook/examples/layouts-stacking.c                   |    3 ++-
 doc/cookbook/examples/script-signals.c                     |    3 ++-
 doc/cookbook/examples/script-ui.c                          |    3 ++-
 doc/cookbook/examples/text-shadow.c                        |    3 ++-
 doc/cookbook/examples/textures-crossfade-cogl.c            |    9 +++++----
 doc/cookbook/examples/textures-crossfade-slideshow.c       |    3 ++-
 doc/cookbook/examples/textures-crossfade.c                 |   12 +++++++-----
 doc/cookbook/examples/textures-reflection.c                |    3 ++-
 doc/cookbook/examples/textures-split-go.c                  |    3 ++-
 doc/cookbook/examples/textures-sub-texture.c               |    3 ++-
 doc/cookbook/textures.xml                                  |    6 ++++--
 doc/reference/clutter/clutter-animation-tutorial.xml       |    3 ++-
 44 files changed, 98 insertions(+), 52 deletions(-)

commit eb906d85ca0fb06f26fab9ea59dbd979d9b243cb
Author: nobled <nobled@dreamwidth.org>
Date:   Tue Feb 22 00:19:35 2011 +0000

    tests: abort if clutter_init fails
    
    This fixes segfaults when something goes wrong during
    init, but the test keeps going anyway.
    
    Except for test-easing and test-picking, these were fixed by
    sed magic:
    
    sed -i -s -e "s/clutter_init \?(&argc, &argv)/\
    if (clutter_init (\&argc, \&argv) != CLUTTER_INIT_SUCCESS)\n\
        return 1/" tests/*/*.c
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2574

 tests/accessibility/cally-atkcomponent-example.c    |    3 ++-
 tests/accessibility/cally-atkeditabletext-example.c |    3 ++-
 tests/accessibility/cally-atkevents-example.c       |    3 ++-
 tests/accessibility/cally-atktext-example.c         |    3 ++-
 tests/accessibility/cally-clone-example.c           |    3 ++-
 tests/interactive/test-animation.c                  |    3 ++-
 tests/interactive/test-animator.c                   |    3 ++-
 tests/interactive/test-behave.c                     |    3 ++-
 tests/interactive/test-bin-layout.c                 |    3 ++-
 tests/interactive/test-binding-pool.c               |    3 ++-
 tests/interactive/test-box-layout.c                 |    3 ++-
 tests/interactive/test-cairo-flowers.c              |    3 ++-
 tests/interactive/test-clip.c                       |    3 ++-
 tests/interactive/test-cogl-multitexture.c          |    3 ++-
 tests/interactive/test-cogl-offscreen.c             |    3 ++-
 tests/interactive/test-cogl-point-sprites.c         |    3 ++-
 tests/interactive/test-cogl-primitives.c            |    3 ++-
 tests/interactive/test-cogl-shader-arbfp.c          |    3 ++-
 tests/interactive/test-cogl-shader-glsl.c           |    3 ++-
 tests/interactive/test-cogl-tex-convert.c           |    3 ++-
 tests/interactive/test-cogl-tex-foreign.c           |    3 ++-
 tests/interactive/test-cogl-tex-getset.c            |    3 ++-
 tests/interactive/test-cogl-tex-polygon.c           |    3 ++-
 tests/interactive/test-cogl-tex-tile.c              |    3 ++-
 tests/interactive/test-cogl-vertex-buffer.c         |    3 ++-
 tests/interactive/test-constraints.c                |    3 ++-
 tests/interactive/test-depth.c                      |    3 ++-
 tests/interactive/test-devices.c                    |    3 ++-
 tests/interactive/test-easing.c                     |   14 ++++++++------
 tests/interactive/test-events.c                     |    3 ++-
 tests/interactive/test-fbo.c                        |    3 ++-
 tests/interactive/test-fullscreen.c                 |    3 ++-
 tests/interactive/test-grab.c                       |    3 ++-
 tests/interactive/test-layout.c                     |    3 ++-
 tests/interactive/test-model.c                      |    3 ++-
 tests/interactive/test-multistage.c                 |    3 ++-
 tests/interactive/test-path-constraint.c            |    3 ++-
 tests/interactive/test-pixmap.c                     |    3 ++-
 tests/interactive/test-scale.c                      |    3 ++-
 tests/interactive/test-script.c                     |    3 ++-
 tests/interactive/test-scrolling.c                  |    3 ++-
 tests/interactive/test-shader-effects.c             |    3 ++-
 tests/interactive/test-shader.c                     |    3 ++-
 tests/interactive/test-snap-constraint.c            |    3 ++-
 tests/interactive/test-stage-read-pixels.c          |    3 ++-
 tests/interactive/test-stage-sizing.c               |    3 ++-
 tests/interactive/test-state-animator.c             |    3 ++-
 tests/interactive/test-state.c                      |    3 ++-
 tests/interactive/test-table-layout.c               |    3 ++-
 tests/interactive/test-text-field.c                 |    3 ++-
 tests/interactive/test-text.c                       |    3 ++-
 tests/interactive/test-texture-async.c              |    3 ++-
 tests/interactive/test-texture-material.c           |    3 ++-
 tests/interactive/test-texture-quality.c            |    3 ++-
 tests/interactive/test-textures.c                   |    3 ++-
 tests/interactive/test-threads.c                    |    3 ++-
 tests/interactive/test-unproject.c                  |    3 ++-
 tests/micro-bench/test-picking.c                    |   12 +++++++-----
 tests/micro-bench/test-random-text.c                |    3 ++-
 tests/micro-bench/test-text-perf.c                  |    3 ++-
 tests/micro-bench/test-text.c                       |    3 ++-
 61 files changed, 133 insertions(+), 70 deletions(-)

commit 0d14be1aec793341a8f08f3950f6ea3957a32263
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 28 11:24:14 2011 +0000

    Start 1.7 development cycle

 configure.ac |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit daa6d67cc048fec90a54846d8adf403ee2a60257
Author: Neil Roberts <neil@linux.intel.com>
Date:   Thu Feb 24 20:30:30 2011 +0000

    Add a conformance test for atlas migration
    
    This adds a conformance test which creates a lot of textures with
    increasing size and destroys them again a number of times in order to
    cause a few atlas migrations. The last time the textures are created
    they are all read back and the data is verified to confirm that the
    atlas migration successfully preserved the data.

 tests/conform/Makefile.am                 |    1 +
 tests/conform/test-cogl-atlas-migration.c |  133 +++++++++++++++++++++++++++++
 tests/conform/test-conform-main.c         |    1 +
 3 files changed, 135 insertions(+)

commit 4dd20f2678195524dd147db3fe902d0a93de3df0
Author: Neil Roberts <neil@linux.intel.com>
Date:   Thu Feb 24 18:42:47 2011 +0000

    cogl-blit: Disable blending when using texture render
    
    When using a pipeline and the journal to blit images between
    framebuffers, it should disable blending. Otherwise it will end up
    blending the source texture with uninitialised garbage in the
    destination texture.

 clutter/cogl/cogl/cogl-blit.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit f4ca82fc6d571c3b37e270ed05a373885498a0dc
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Feb 23 00:07:12 2011 +0000

    build: Remove MAINTAINERCLEANFILES from ChangeLog rules

 build/autotools/Makefile.am.changelog |    1 -
 1 file changed, 1 deletion(-)

commit 8bb81f008dd5848f0f1105306372c4e263a1407a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 22 18:32:01 2011 +0000

    build: Remove maintainer-clean rule
    
    The maintainer-clean files list is horribly out of date, nobody is
    maintaining it, and it's honestly easier to use `git clean -xdf`
    instead to clean untracked files.

 Makefile.am |   11 +----------
 1 file changed, 1 insertion(+), 10 deletions(-)

commit b3e4db4c738756f05ef7a02306f0d25f158797ab
Merge: 4442ddd 74de3cf
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 21 18:09:06 2011 +0000

    Merge remote-tracking branch 'elliot/cookbook-effects-custom-deform'
    
    * elliot/cookbook-effects-custom-deform:
      docs: Add effects chapter, with introduction and first recipe

commit 4442ddde8290a7ec447a070b624437579f678d56
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 21 17:13:37 2011 +0000

    text: Round up the size
    
    Converting from Pango units to pixels by using the C conventions might
    cause us to lose a pixel; since we're doing the same for the height, we
    should use ceilf() to round up the width and the line height.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2573

 clutter/clutter-text.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 74de3cfdf3af819c94c1eb52a68491f1e32b120b
Author: Elliot Smith <elliot.smith@intel.com>
Date:   Mon Feb 21 16:43:34 2011 +0000

    docs: Add effects chapter, with introduction and first recipe
    
    Add an effects chapter which gives a broad overview of
    the abstract classes in the effects API, plus a short
    example of how to apply one of the stock Clutter
    effects (ClutterColorizeEffect).
    
    The recipe explains how to create a custom ClutterDeformEffect
    to produce a page fold (code based on ClutterPageTurnEffect).
    
    The example code includes the effect class plus a small
    application to apply it to a texture.

 doc/cookbook/Makefile.am                           |    5 +
 doc/cookbook/clutter-cookbook.xml.in               |    1 +
 doc/cookbook/effects.xml                           |  769 ++++++++++++++++++++
 doc/cookbook/examples/Makefile.am                  |    4 +
 doc/cookbook/examples/cb-page-fold-effect.c        |  250 +++++++
 doc/cookbook/examples/cb-page-fold-effect.h        |   49 ++
 doc/cookbook/examples/effects-built-in.c           |   58 ++
 doc/cookbook/examples/effects-custom-deform.c      |  119 +++
 doc/cookbook/images/effects-built-in.png           |  Bin 0 -> 92584 bytes
 .../images/effects-custom-deform-back-material.png |  Bin 0 -> 49860 bytes
 doc/cookbook/images/effects-custom-deform.png      |  Bin 0 -> 91751 bytes
 doc/cookbook/videos/effects-custom-deform.ogv      |  Bin 0 -> 91983 bytes
 12 files changed, 1255 insertions(+)

commit 91740fd4df02d5ce313f1cdd3e3b5dd869628516
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 21 16:41:28 2011 +0000

    docs: Mention the cookbook in the README
    
    In the "Resources" section, along with the API references.

 README.in |    4 ++++
 1 file changed, 4 insertions(+)

commit 23c81f8817c7b3b4c3d47fcc1bac99cf9bb3b4ac
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 21 16:40:50 2011 +0000

    docs: Remove last mention of SDL from the README
    
    We don't support SDL since forever, now. Just get rid of it, before it
    confuses somebody.

 README.in |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b31cf80807035c00434fe3d7d66b93929c34d529
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 21 14:19:47 2011 +0000

    Post-release version bump to 1.6.7

 configure.ac       |    4 +-
 po/clutter-1.0.pot |  268 ++++++++++++++++++++++++++--------------------------
 po/de.po           |  266 +++++++++++++++++++++++++--------------------------
 po/fr.po           |  266 +++++++++++++++++++++++++--------------------------
 po/id.po           |  266 +++++++++++++++++++++++++--------------------------
 po/it.po           |  266 +++++++++++++++++++++++++--------------------------
 po/pl.po           |  266 +++++++++++++++++++++++++--------------------------
 po/zh_CN.po        |  266 +++++++++++++++++++++++++--------------------------
 8 files changed, 934 insertions(+), 934 deletions(-)

commit d5e6594ddd0d4ad3b9cf684526216900794f9ff5
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 21 12:47:09 2011 +0000

    Release Clutter 1.6.6 (stable)

 NEWS         |   20 ++++++++++++++++++++
 configure.ac |    4 ++--
 2 files changed, 22 insertions(+), 2 deletions(-)

commit f5c240a50b1fc83e138f85f5f4a87ffbea9c83c0
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 21 12:46:34 2011 +0000

    build: Use all-am, not all as the gitignore target

 build/autotools/Makefile.am.gitignore |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0d17b1463b55676cdceb5d24724c6a2461c2bdae
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sat Feb 19 16:48:59 2011 +0000

    device-manager/xi2: Silence a compiler warning

 clutter/x11/clutter-device-manager-xi2.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3c25fcfe49865bda639447b9dee8369171f77606
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sat Feb 19 16:46:44 2011 +0000

    tests: Remove unused variables

 tests/interactive/test-pixmap.c        |    2 --
 tests/interactive/test-texture-async.c |    3 ---
 2 files changed, 5 deletions(-)

commit b505c022c42eda63d940d648a7641e64355baa37
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sat Feb 19 16:45:51 2011 +0000

    test-timeline: Ignore the default stage
    
    We need to create the default stage to have the master clock spin, but
    we can tell the compiler that the returned value is meaningless.

 tests/conform/test-timeline.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fd3462170f3d36a8ddc128611074116d5cc62ba6
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sat Feb 19 16:45:35 2011 +0000

    cally: Remove unused variables

 clutter/cally/cally-actor.c |   12 +++---------
 clutter/cally/cally-text.c  |   45 +++++++++++++++++++++++++++++++------------
 clutter/cally/cally-util.c  |    3 +--
 3 files changed, 37 insertions(+), 23 deletions(-)

commit dfdcc20670f108cbcb62aead3d2a502084d1b3d1
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sat Feb 19 16:45:06 2011 +0000

    clutter: Remove unused variables

 clutter/clutter-desaturate-effect.c |    3 ---
 clutter/clutter-main.c              |    5 -----
 clutter/clutter-shader-effect.c     |    4 ----
 clutter/clutter-state.c             |    3 ---
 clutter/clutter-table-layout.c      |    9 ++-------
 5 files changed, 2 insertions(+), 22 deletions(-)

commit f99d2336f0ae99bb3faf25031b3df082680755bd
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sat Feb 19 16:44:38 2011 +0000

    x11: Remove unused variables

 clutter/x11/clutter-device-manager-core-x11.c |    9 +++++----
 clutter/x11/clutter-device-manager-xi2.c      |    6 ++----
 clutter/x11/clutter-keymap-x11.c              |    2 ++
 clutter/x11/clutter-stage-x11.c               |    5 ++---
 clutter/x11/clutter-x11-texture-pixmap.c      |   17 +++--------------
 5 files changed, 14 insertions(+), 25 deletions(-)

commit 23598ea74b7b158b31d53ae4c08cbeabceee6bb0
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sat Feb 19 16:43:46 2011 +0000

    cogl: Remove unused variables

 clutter/cogl/cogl/cogl-texture-2d-sliced.c |    4 ----
 1 file changed, 4 deletions(-)

commit ec02a8808e60f0ce57f0bd45cb6cfe09b21c59f2
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sat Feb 19 09:17:25 2011 +0000

    deform-effect: Use the FBO target size
    
    The ClutterDeformEffect sub-classes are effectively deforming the
    texture target of an FBO, not the actor itself. Thus, we need to
    use the FBO's size, and not the actor's allocated size, given that
    the actor might be transformed prior to applying an effect.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2571

 clutter/clutter-deform-effect.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 20f19fe06ca5821949b5e47464241d31c2e6dffc
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sat Feb 19 09:15:34 2011 +0000

    offscreen-effect: Add private API for getting the target size
    
    Since the FBO target might have a different size than the mere paint box
    of the actor, we need API to get it out of the ClutterOffscreenEffect
    private data structure and on to sub-classes.
    
    Since we cannot add new API in a stable cycle, we need a private
    function; we'll leave it there even when opening 1.7, since it's useful
    for internal purposes.

 clutter/Makefile.am                        |    1 +
 clutter/clutter-offscreen-effect-private.h |   14 ++++++++++++++
 clutter/clutter-offscreen-effect.c         |   19 +++++++++++++++++++
 3 files changed, 34 insertions(+)

commit 82c68c588741e78824afd19e5eecfd546b9ab115
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sat Feb 19 09:04:46 2011 +0000

    Update NEWS

 NEWS |    9 +++++++++
 1 file changed, 9 insertions(+)

commit e2bd848924d0a9152c0bfbd3defd6a8ea04012ce
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sat Feb 19 09:02:51 2011 +0000

    build: Centralize X11 extensions versioning
    
    Similar to what we did for the base dependencies.

 README.in    |    4 ++--
 configure.ac |   16 ++++++++++------
 2 files changed, 12 insertions(+), 8 deletions(-)

commit a923375f0a9136a1f99985359e60a077f3fd0055
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 19:28:48 2011 +0000

    drag-action: Use per-stage motion event toggle
    
    Similar to what we did for the ClutterDeviceManager, use per-stage
    granularity when toggling the motion event delivery while dragging.

 clutter/clutter-drag-action.c |   14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit cca2e5bc9c1610881f69238b2c23c34233ea8451
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 19:27:58 2011 +0000

    device-manager: Use per-stage motion event toggle
    
    Now that we have internal support for per-stage granularity of motion
    event delivery, let's use it when updating the state of the input
    devices.

 clutter/clutter-device-manager.c |   16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit bc548dc86271d38918d310c26c9c59de76218d16
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 17:19:04 2011 +0000

    Store the motion event deliver flag in ClutterStage
    
    Once upon a time, the land of Clutter had a stage singleton. It was
    created automatically at initialization time and stayed around even
    after the main loop was terminated. The singleton was content in
    being all there was. There also was a global API to handle the
    configuration of the stage singleton that would affect the behaviour
    on other classes, signals and properties.
    
    Then, an evil wizard came along and locked the stage singleton in his
    black tower, and twisted it until it was possible to create new stages.
    These new stages were pesky, and didn't have the same semantics of the
    singleton: they didn't stay around when closed, or terminate the main
    loop on delete events.
    
    The evil wizard also started moving all the stage-related API from the
    global context into class-specific methods.
    
    Finally, the evil wizard cast a spell, and the stage singleton was
    demoted to creation on demand - and until somebody called the
    clutter_stage_get_default() function, the singleton remained in a limbo
    of NULL pointers and undefined memory areas.
    
    There was a last bit - literally - of information still held by the
    global API; a tiny, little flag that disabled per-actor motion events.
    The evil wizard added private accessors for it, and stored it inside the
    stage private structure, in preparation for a deprecation that would
    come in a future development cycle.
    
    The evil wizard looked down upon the land of Clutter from the height of
    his black tower; the lay of the land had been reshaped into a crucible
    of potential, and the last dregs of the original force of creation were
    either molted into new, useful shapes, or blasted away by the sheer fury
    of his will.
    
    All was good.

 clutter/clutter-main.c          |   34 +++++++++++++++++++++++++++-------
 clutter/clutter-stage-private.h |    4 ++++
 clutter/clutter-stage.c         |   22 ++++++++++++++++++++++
 3 files changed, 53 insertions(+), 7 deletions(-)

commit 7500b77b2bf8e23e885af6884adc006a4abf5c17
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 17:18:05 2011 +0000

    Assert if we call backend API without a valid backend
    
    This is a backend programming error, and we should not tolerate
    failures in these cases.

 clutter/clutter-backend.c |   44 +++++++++++---------------------------------
 1 file changed, 11 insertions(+), 33 deletions(-)

commit 7e42da123f28dd695a43fea6444e30a73fb35119
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 16:53:58 2011 +0000

    Clean up clutter-private.h
    
    Move macros at the top, and clean up whitespace.

 clutter/clutter-private.h |   40 ++++++++++++++++++++--------------------
 1 file changed, 20 insertions(+), 20 deletions(-)

commit cdd9fd1af1908282430a22be13b10005ec41375b
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 16:53:31 2011 +0000

    Move ActorMeta private function in the private header
    
    No reason to leave it in the installed header.

 clutter/clutter-actor-meta-private.h |    4 ++++
 clutter/clutter-actor-meta.h         |    4 ----
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 3e5aa9ed6348008bcbf21355e9e06bb50c90baf7
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 16:27:49 2011 +0000

    Add private header for event-related API

 clutter/Makefile.am                            |    1 +
 clutter/clutter-backend.c                      |    2 +-
 clutter/clutter-event-private.h                |   28 ++++++++++++++++++++++++
 clutter/clutter-event.c                        |    2 +-
 clutter/clutter-input-device.c                 |    1 +
 clutter/clutter-private.h                      |   18 ---------------
 clutter/clutter-stage.c                        |    2 +-
 clutter/egl/clutter-event-tslib.c              |   17 ++++++--------
 clutter/evdev/clutter-device-manager-evdev.c   |    2 +-
 clutter/osx/clutter-event-osx.c                |   12 +++++-----
 clutter/wayland/clutter-input-device-wayland.c |    1 +
 clutter/win32/clutter-event-win32.c            |    2 +-
 clutter/x11/clutter-backend-x11.c              |    2 +-
 clutter/x11/clutter-device-manager-core-x11.c  |    1 +
 clutter/x11/clutter-device-manager-xi2.c       |    1 +
 clutter/x11/clutter-event-x11.c                |    3 +--
 clutter/x11/clutter-stage-x11.c                |    2 +-
 17 files changed, 55 insertions(+), 42 deletions(-)

commit d27b335b61bba50ba6b156d32cf3bdf094181104
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 16:00:39 2011 +0000

    Move ClutterEffect private symbols to a private header
    
    No point in cluttering up clutter-private.h even more than necessary.

 clutter/Makefile.am              |    1 +
 clutter/clutter-actor.c          |    2 +-
 clutter/clutter-effect-private.h |   15 +++++++++++++++
 clutter/clutter-effect.c         |    1 +
 clutter/clutter-private.h        |    5 -----
 5 files changed, 18 insertions(+), 6 deletions(-)

commit 3addeb91ccfe38676a52582aac594cf98269faf3
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 15:53:27 2011 +0000

    Privatize all ClutterIdPool functions
    
    The clutter-id-pool.h header is private and not installed; yet, all the
    clutter_id_pool_* symbols are public. Let's correct this oversight we've
    been stringing along since forever.

 clutter/clutter-id-pool.c |   16 ++++++++--------
 clutter/clutter-id-pool.h |   18 +++++++++---------
 clutter/clutter-main.c    |    8 ++++----
 3 files changed, 21 insertions(+), 21 deletions(-)

commit 37fe8c509a127463dcd434e4be1dbaefd73febe2
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 15:47:35 2011 +0000

    Clean up usage of CLUTTER_CONTEXT and remove the macro
    
    Only allow access to the ClutterMainContext through the private
    _clutter_context_get_default() function, so we can easily grep
    it and remove the unwanted usage of the global context.

 clutter/clutter-main.c    |   49 ++++++++++++++++++++++-----------------------
 clutter/clutter-private.h |    1 -
 2 files changed, 24 insertions(+), 26 deletions(-)

commit 689aac56c9d43b8e09d8799861eef590356899f0
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 15:46:13 2011 +0000

    Wrap id-pool access
    
    The ClutterIdPool is held by the ClutterMainContext; we should hide its
    direct usage into sensible private API.

 clutter/clutter-actor.c   |    7 ++++---
 clutter/clutter-main.c    |   16 ++++++++++++++++
 clutter/clutter-private.h |    2 ++
 3 files changed, 22 insertions(+), 3 deletions(-)

commit 2593bbaadce7ff690f0d70deaee239d0a336c716
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 15:44:17 2011 +0000

    Wrap shader stack into private functions
    
    The shader stack held by ClutterMainContext should only be accessed
    using functions, and not directly.
    
    Since it's a stack, we can use stack-like operations: push, pop and
    peek.

 clutter/clutter-actor.c   |   28 ++++++++++++----------------
 clutter/clutter-main.c    |   29 +++++++++++++++++++++++++++++
 clutter/clutter-private.h |    7 +++++--
 clutter/clutter-texture.c |   19 +++++++++----------
 4 files changed, 55 insertions(+), 28 deletions(-)

commit 28b0f8b93837bde38da01ce9397c133447df5813
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 14:38:54 2011 +0000

    stage: Make the redraw_count a stage counter
    
    We don't care about redraws issued on stages that are not currently
    being repainted.

 clutter/clutter-private.h |    2 --
 clutter/clutter-stage.c   |   26 +++++++++++++++++++-------
 2 files changed, 19 insertions(+), 9 deletions(-)

commit 4635c8f9fd8ca38445fe617f1986b93bbfe8bfaa
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 14:38:24 2011 +0000

    Make _clutter_pixel_to_id() private
    
    It's only used in the same file that declares it.

 clutter/clutter-main.c    |    2 +-
 clutter/clutter-private.h |    2 --
 2 files changed, 1 insertion(+), 3 deletions(-)

commit 92ddaa9c1304e422331ca2f1a8d5dfb9edb95a8f
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 12:56:17 2011 +0000

    stage: Move stage redraw logic into clutter-stage.c
    
    The _clutter_do_redraw() function should really be moved inside
    ClutterStage, since all it does is calling private stage and
    backend functions. This also allows us to change a long-standing
    issue with a global fps counter for all stages, instead of a\
    per-stage one.

 clutter/clutter-main.c              |   48 ------------------------------
 clutter/clutter-private.h           |    3 --
 clutter/clutter-stage.c             |   55 +++++++++++++++++++++++++++++++++--
 tests/interactive/test-multistage.c |   27 +++++++++--------
 4 files changed, 68 insertions(+), 65 deletions(-)

commit 89a0d514b4762ea2e0e604b02381c8951cb26d4f
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 12:07:07 2011 +0000

    Continue hiding the ClutterMainContext
    
    We should strive to make the main context as transparent as possible,
    and hide accessing its data through private functions.

 clutter/clutter-actor.c   |   29 ++++++++---------------------
 clutter/clutter-main.c    |   17 ++++++++++++++---
 clutter/clutter-private.h |    5 +++--
 3 files changed, 25 insertions(+), 26 deletions(-)

commit fc89513295d467abf8c5d3ed8c799e761a072786
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 18 11:43:27 2011 +0000

    actor: Move the ShaderData out of the private data
    
    Let's try and start reducing the size of ClutterActorPrivate by moving
    some optional, out-of-band data from it to GObject data.
    
    The ShaderData structure is a prime candidate for this migration: it
    does not need to be inspected by the actor, and its relationship with an
    actor is transient and optional.
    
    By attaching it to the actor's instance through g_object_set_data() we
    neatly tie its lifetime to the instance, and we don't have to care
    cleaning it up in the finalize()/dispose() implementation of
    ClutterActor itself.

 clutter/clutter-actor.c         |  130 +++++++++++++++++++--------------------
 tests/interactive/test-shader.c |    4 +-
 2 files changed, 67 insertions(+), 67 deletions(-)

commit 9ea2567a2fbf44a05d000d07c031b593109c739b
Author: Neil Roberts <neil@linux.intel.com>
Date:   Thu Feb 17 13:11:34 2011 +0000

    cogl-atlas-texture: Don't let textures be destroyed during migration
    
    If an atlas texture's last reference is held by the journal or by the
    last flushed pipeline then if an atlas migration is started it can
    cause a crash. This is because the atlas migration will cause a
    journal flush and can sometimes change the current pipeline which
    means that the texture would be destroyed during migration.
    
    This patch adds an extra 'post_reorganize' callback to the existing
    'reorganize' callback (which is now renamed to 'pre_reorganize'). The
    pre_reorganize callback is now called before the atlas grabs a list of
    the current textures instead of after so that it doesn't matter if the
    journal flush destroys some of those textures. The pre_reorganize
    callback for CoglAtlasTexture grabs a reference to all of the textures
    so that they can not be destroyed when the migration changes the
    pipeline. In the post_reorganize callback the reference is removed
    again.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2538

 clutter/cogl/cogl/cogl-atlas-texture.c      |   80 ++++++++++++++++++++++++---
 clutter/cogl/cogl/cogl-atlas.c              |   54 +++++++++++++-----
 clutter/cogl/cogl/cogl-atlas.h              |   11 ++--
 clutter/cogl/pango/cogl-pango-glyph-cache.c |    2 +-
 4 files changed, 120 insertions(+), 27 deletions(-)

commit 71f57eef1b30817ad46a94272526dcc4ddc5e516
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Feb 16 18:42:33 2011 +0000

    clutter-actor: Free the paint volume when queue a clip redraw
    
    In _clutter_actor_queue_redraw_with_clip it has a local variable to
    mark when a new paint volume for the clip is created so that it can be
    freed when the function returns. However the actual code to free the
    paint volume went missing in 3b789490d2c so the variable did
    nothing. This patch just adds the free back in.

 clutter/clutter-actor.c |   14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit 8231c345dca871eddf2f61b54c1600d2075e277a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Feb 16 15:38:05 2011 +0000

    build: Compress the CLUTTER_PC_FILES list
    
    A bit of black magic, courtesy of gtk+'s configure.ac, to strip the
    leading space from BACKEND_PC_FILES.

 configure.ac |    3 +++
 1 file changed, 3 insertions(+)

commit 0e32da66508efb38b104265995f6c8e7e1ffca6a
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Feb 16 14:11:25 2011 +0000

    clutter-color-size-effect: Fix a minor typo in the docs
    
    'Since:' was spelt 'SinceL' which I assume was a typo.

 clutter/clutter-colorize-effect.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 354f7b0e259173a007ec055bed6aab535a3b6d13
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 15 14:46:20 2011 +0000

    backend: Remove usage of CLUTTER_STAGE_TYPE
    
    It's only used for debugging purposes, and it's of limited usage since
    the stage creation is deferred to the backend implementation itself.

 clutter/clutter-backend.c                 |    1 +
 clutter/egl/clutter-backend-egl.c         |    4 ----
 clutter/glx/clutter-backend-glx.c         |    4 ----
 clutter/wayland/clutter-backend-wayland.c |    4 ----
 clutter/win32/clutter-backend-win32.c     |    4 ----
 5 files changed, 1 insertion(+), 16 deletions(-)

commit ca94d0cc374703d1bba7b45ba31573849943c9b5
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Feb 15 12:50:15 2011 +0000

    cogl-atlas: Fix a compiler warning when Cogl debug is disabled
    
    When Cogl debugging is disabled then the 'waste' variable is not used
    so it throws a compiler warning. This patch removes the variable and
    the value is calculated directly as the parameter to COGL_NOTE.

 clutter/cogl/cogl/cogl-atlas.c |    9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit c5f057822e9e309deabce19cebeed09b5db4daf2
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Feb 15 12:44:40 2011 +0000

    cogl-debug: Don't define _cogl_debug_flags when debugging disabled
    
    _cogl_debug_flags isn't used when COGL_DEBUG is not defined so there's
    no need to declare it.
    
    Based on a patch by Fan, Chun-wei
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2561

 clutter/cogl/cogl/cogl-debug.c |    4 ----
 1 file changed, 4 deletions(-)

commit fb3321d4feb8e451eb81a7087778ed31b103caf2
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Feb 15 12:43:26 2011 +0000

    cogl: Avoid pointer arithmetic on void* pointers
    
    Some code was doing pointer arithmetic on the return value from
    cogl_buffer_map which is void* pointer. This is a GCC extension so we
    should try to avoid it. This patch adds casts to guint8* where
    appropriate.
    
    Based on a patch by Fan, Chun-wei.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2561

 clutter/cogl/cogl/cogl-attribute.c |    4 ++--
 clutter/cogl/cogl/cogl-journal.c   |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit e52cc75f072fa604c840e1ef9ae2a2418d6d222f
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Feb 15 12:36:58 2011 +0000

    configure.ac: Add -Wpointer-arith to the maintainer CFLAGS
    
    GCC by default allows pointer arithmetic on void* pointers and treats
    them as having a size of 1 byte. This is non-standard behaviour and
    causes errors on some compilers so we should try to avoid
    it. -Wpointer-arith warns about these cases.

 configure.ac |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6dc4af1c5da3e99324272fff3014da5d2c0e343a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 15 14:15:59 2011 +0000

    docs: Update the README
    
    Fix some typos; add URLs for API references and Bugzilla.

 README.in |   23 +++++++++++++----------
 1 file changed, 13 insertions(+), 10 deletions(-)

commit 92d13a1966ac261e8e71314040b95233a7f27c8a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 15 12:13:14 2011 +0000

    build: Re-enable --warn-all for g-ir-scanner
    
    Now that I don't have to see a bunch of false positives any more, we can
    finally use warnings to catch issues.

 clutter/Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit 6309fd6cd77ed685f36a0d4f4dd4633baa99677e
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 15 12:11:28 2011 +0000

    introspection: Override the GParamSpec type
    
    About other assorted boneheadedness, the GType for GParamSpec is
    called 'GParam'. Why? Who knows. I assume alcohol was involved,
    but I honestly don't want to know.
    
    This removes the last g-ir-scanner warning in Clutter.

 clutter/clutter-container.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6655bedba735d2066877c938767b0d675b265923
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 15 12:31:12 2011 +0000

    Fix ISO C90 compiler warnings in Cogl
    
    Mixing declarations and statements and unused variables.

 clutter/cogl/cogl/cogl-attribute.c     |   14 +++++--
 clutter/cogl/cogl/cogl-bitmap-pixbuf.c |   67 +++++++++++++++++++++-----------
 clutter/cogl/cogl/cogl-blend-string.c  |    4 +-
 3 files changed, 57 insertions(+), 28 deletions(-)

commit 5c398c18ad68363e13c4be04c68f0d6e87d72393
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 15 11:50:26 2011 +0000

    More ISO C90 warning fixes in Clutter
    
    This time, in Clutter core.
    
    The ObjC standard library provides a type called 'id', which obviously
    requires any library to either drop the useful shadowed variable warning
    or stop using 'id' as a variable name.
    
    Yes, it's almost unbearably stupid. Well, at least it's not 'index' in
    string.h, or 'y2' in math.h.

 clutter/clutter-actor.c         |   12 ++---
 clutter/clutter-actor.h         |    2 +-
 clutter/clutter-animator.c      |   10 ++--
 clutter/clutter-id-pool.c       |   30 ++++++------
 clutter/clutter-id-pool.h       |    6 +--
 clutter/clutter-main.c          |   99 ++++++++++++++++++++-------------------
 clutter/clutter-main.h          |    6 +--
 clutter/clutter-score.c         |   22 ++++-----
 clutter/clutter-score.h         |    4 +-
 clutter/clutter-script-parser.c |   40 ++++++++--------
 clutter/clutter-script.c        |    8 ++--
 clutter/clutter-scriptable.c    |   12 ++---
 clutter/clutter-scriptable.h    |    4 +-
 clutter/clutter-state.c         |   18 +++----
 clutter/clutter-timeout-pool.c  |   10 ++--
 clutter/clutter-timeout-pool.h  |    2 +-
 16 files changed, 144 insertions(+), 141 deletions(-)

commit 54a4511247bbec5330332971ea06e17af33839be
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 15 11:34:21 2011 +0000

    Fix some ISO C90 warnings on OSX

 clutter/osx/clutter-backend-osx.c        |   41 ++++++++++-------
 clutter/osx/clutter-device-manager-osx.c |    4 +-
 clutter/osx/clutter-event-loop-osx.c     |    3 +-
 clutter/osx/clutter-event-osx.c          |   13 +++---
 clutter/osx/clutter-stage-osx.c          |   72 +++++++++++++++++-------------
 5 files changed, 78 insertions(+), 55 deletions(-)

commit e90ded6c2352aeead516ec97c56332f1b7394afa
Author: Neil Roberts <neil@linux.intel.com>
Date:   Thu Jan 20 17:45:47 2011 +0000

    cogl-atlas: Try 4 different approaches for migrating textures
    
    Instead of directly banging GL to migrate textures the atlas now uses
    the CoglFramebuffer API. It will use one of four approaches; it can
    set up two FBOs and use _cogl_blit_framebuffer to copy between them;
    it can use a single target fbo and then render the source texture to
    the FBO using a Cogl draw call; it can use a single FBO and call
    glCopyTexSubImage2D; or it can fallback to reading all of the texture
    data back to system memory and uploading it again with a sub texture
    update.
    
    Previously GL calls were used directly because Cogl wasn't able to
    create a framebuffer without a stencil and depth buffer. However there
    is now an internal version of cogl_offscreen_new_to_texture which
    takes a set of flags to disable the two buffers.
    
    The code for blitting has now been moved into a separate file called
    cogl-blit.c because it has become quite long and it may be useful
    outside of the atlas at some point.
    
    The 4 different methods have a fixed order of preference which is:
    
    * Texture render between two FBOs
    * glBlitFramebuffer
    * glCopyTexSubImage2D
    * glGetTexImage + glTexSubImage2D
    
    Once a method is succesfully used it is tried first for all subsequent
    blits. The default default can be overridden by setting the
    environment variable COGL_ATLAS_DEFAULT_BLIT_MODE to one of the
    following values:
    
    * texture-render
    * framebuffer
    * copy-tex-sub-image
    * get-tex-data

 clutter/cogl/cogl/Makefile.am    |    2 +
 clutter/cogl/cogl/cogl-atlas.c   |  185 ++----------------
 clutter/cogl/cogl/cogl-blit.c    |  389 ++++++++++++++++++++++++++++++++++++++
 clutter/cogl/cogl/cogl-blit.h    |   89 +++++++++
 clutter/cogl/cogl/cogl-context.c |    4 +
 clutter/cogl/cogl/cogl-context.h |    1 +
 6 files changed, 501 insertions(+), 169 deletions(-)

commit 7b369445b3beb776f27b0f93c7d4dc41dc6b22a4
Author: Neil Roberts <neil@linux.intel.com>
Date:   Thu Feb 10 18:24:14 2011 +0000

    cogl-texture-2d: Add _cogl_is_texture_2d to the private header
    
    This adds a declaration for _cogl_is_texture_2d to the private header
    so that it can be used in cogl-blit.c to determine if the target
    texture is a simple 2D texture.

 clutter/cogl/cogl/cogl-texture-2d-private.h |    3 +++
 1 file changed, 3 insertions(+)

commit f947fe958fa99a3c2a2b3a9076023ba638665ce0
Author: Neil Roberts <neil@linux.intel.com>
Date:   Thu Feb 10 18:22:27 2011 +0000

    cogl-texture-2d: Add an internal wrapper around glCopyTexSubImage2D
    
    This adds a function called _cogl_texture_2d_copy_from_framebuffer
    which is a simple wrapper around glCopyTexSubImage2D. It is currently
    specific to the texture 2D backend.

 clutter/cogl/cogl/cogl-texture-2d-private.h |   22 +++++++++++++++++
 clutter/cogl/cogl/cogl-texture-2d.c         |   35 +++++++++++++++++++++++++++
 2 files changed, 57 insertions(+)

commit 5cc062c16c98ca398c20342031c2cffd41609711
Author: Neil Roberts <neil@linux.intel.com>
Date:   Sat Feb 5 11:19:52 2011 +0000

    cogl-framebuffer: Add _cogl_blit_framebuffer
    
    This adds the _cogl_blit_framebuffer internal function which is a
    wrapper around glBlitFramebuffer. The API is changed from the GL
    version of the function to reflect the limitations provided by the
    GL_ANGLE_framebuffer_blit extension (eg, no scaling or mirroring).

 clutter/cogl/cogl/cogl-framebuffer-private.h |   53 ++++++++++++++++++++++++++
 clutter/cogl/cogl/cogl-framebuffer.c         |   46 ++++++++++++++++++++++
 2 files changed, 99 insertions(+)

commit 5a159fcef4ba1c1734ff479932762e7164d9642d
Author: Neil Roberts <neil@linux.intel.com>
Date:   Sat Feb 5 12:42:39 2011 +0000

    cogl-gles: Check for the GL_ANGLE_framebuffer_blit extension
    
    This extension is the GLES equivalent of the GL_EXT_framebuffer_blit
    extension except that it has some extra restrictions. We need to check
    for some extension that provides glBlitFramebuffer so that we can
    unconditionally use ctx->drv.pf_glBlitFramebuffer in both GL and GLES
    code. Even with the restrictions, the extension provides enough
    features for what Cogl needs.

 .../cogl/driver/gles/cogl-feature-functions-gles.h   |   18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 80bae51c01fc9eed35f3e0d64480b94e9146c7f4
Author: Neil Roberts <neil@linux.intel.com>
Date:   Fri Jan 21 17:37:10 2011 +0000

    cogl-atlas-texture: Make copying a texture out more robust
    
    Previously when _cogl_atlas_texture_migrate_out_of_atlas is called it
    would unreference the atlas texture's sub-texture before calling
    _cogl_atlas_copy_rectangle. This would leave the atlas texture in an
    inconsistent state during the copy. This doesn't normally matter but
    if the copy ends up doing a render then the atlas texture may end up
    being referenced. In particular it would cause problems if the texture
    is left in a texture unit because then Cogl may try to call
    get_gl_texture even though the texture isn't actually being used for
    rendering. To fix this the sub texture is now unrefed after the copy
    call instead.

 clutter/cogl/cogl/cogl-atlas-texture.c |   23 +++++++++++++++--------
 1 file changed, 15 insertions(+), 8 deletions(-)

commit e57aa3ca3ee88f117e72e668ab3e762b6ea731ba
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Feb 2 14:23:53 2011 +0000

    cogl-framebuffer: Separate the draw and read buffer
    
    The current framebuffer is now internally separated so that there can
    be a different draw and read buffer. This is required to use the
    GL_EXT_framebuffer_blit extension. The current draw and read buffers
    are stored as a pair in a single stack so that pushing the draw and
    read buffer is done simultaneously with the new
    _cogl_push_framebuffers internal function. Calling
    cogl_pop_framebuffer will restore both the draw and read buffer to the
    previous state. The public cogl_push_framebuffer function is layered
    on top of the new function so that it just pushes the same buffer for
    both drawing and reading.
    
    When flushing the framebuffer state, the cogl_framebuffer_flush_state
    function now tackes a pointer to both the draw and the read
    buffer. Anywhere that was just flushing the state for the current
    framebuffer with _cogl_get_framebuffer now needs to call both
    _cogl_get_draw_buffer and _cogl_get_read_buffer.

 clutter/cogl/cogl/cogl-attribute.c           |    8 +-
 clutter/cogl/cogl/cogl-clip-stack.c          |   10 +-
 clutter/cogl/cogl/cogl-clip-state.c          |   14 +-
 clutter/cogl/cogl/cogl-framebuffer-private.h |   23 ++-
 clutter/cogl/cogl/cogl-framebuffer.c         |  235 +++++++++++++++++++-------
 clutter/cogl/cogl/cogl-journal.c             |   11 +-
 clutter/cogl/cogl/cogl-matrix-stack.c        |    2 +-
 clutter/cogl/cogl/cogl-primitives.c          |    4 +-
 clutter/cogl/cogl/cogl-texture.c             |    2 +-
 clutter/cogl/cogl/cogl.c                     |   50 +++---
 clutter/cogl/cogl/cogl2-path.c               |    8 +-
 11 files changed, 255 insertions(+), 112 deletions(-)

commit bdb309cbd676ea2b710b57154b68c190e9e5fa9a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 14 18:36:51 2011 +0000

    annotations: Use caller-allocates for color getters
    
    This should avoid a separate initialization of a ClutterColor in
    language bindings.

 clutter/clutter-box.c             |    2 +-
 clutter/clutter-colorize-effect.c |    2 +-
 clutter/clutter-rectangle.c       |    4 ++--
 clutter/clutter-stage.c           |    2 +-
 clutter/clutter-text.c            |    4 ++--
 5 files changed, 7 insertions(+), 7 deletions(-)

commit 9e17d06bc71918743d6499e140352fe8682202b9
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 14 17:34:15 2011 +0000

    build: Add README template to EXTRA_DIST

 Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit fbaac155c5afc9d0f172334e7c8d7d4fd4c87f35
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 14 16:49:01 2011 +0000

    build: Generate README
    
    Use the configure script to generate the README from a template file, so
    that we can keep the versions of the dependencies in one place.

 .gitignore   |    1 +
 README       | 1058 ----------------------------------------------------------
 README.in    | 1058 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 configure.ac |   53 ++-
 4 files changed, 1099 insertions(+), 1071 deletions(-)

commit b91befaacada5a499b863c3731b0581cea420660
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 14 16:15:55 2011 +0000

    Post-release version bump to 1.6.5

 configure.ac       |    4 +--
 po/clutter-1.0.pot |   96 ++++++++++++++++++++++++++--------------------------
 po/de.po           |   94 +++++++++++++++++++++++++-------------------------
 po/fr.po           |   94 +++++++++++++++++++++++++-------------------------
 po/id.po           |   94 +++++++++++++++++++++++++-------------------------
 po/it.po           |   94 +++++++++++++++++++++++++-------------------------
 po/pl.po           |   94 +++++++++++++++++++++++++-------------------------
 po/zh_CN.po        |   94 +++++++++++++++++++++++++-------------------------
 8 files changed, 332 insertions(+), 332 deletions(-)

commit c9b87435d563b9497d1570be5d007e710bf83881
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 14 15:53:02 2011 +0000

    Release Clutter 1.6.4 (stable)

 NEWS         |   59 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 configure.ac |    4 ++--
 2 files changed, 61 insertions(+), 2 deletions(-)

commit 3d8445807a556bcf9b4f5346420eba2b0ed4a5b8
Author: Adel Gadllah <adel.gadllah@gmail.com>
Date:   Sun Feb 13 00:04:52 2011 +0100

    backend-glx: Remove redundant glFlush()
    
    As noted in commit ce3f55292a an explict glFlush is needed for
    both glBlitFramebuffer and glXCopySubBuffer.
    
    _clutter_backend_glx_blit_sub_buffer was already doing an explicit
    flush when using glBlitFramebuffer, so just do it unconditonally
    and remove the call from clutter_stage_glx_redraw.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2558

 clutter/glx/clutter-backend-glx.c |    8 +++++++-
 clutter/glx/clutter-stage-glx.c   |    7 -------
 2 files changed, 7 insertions(+), 8 deletions(-)

commit 3a378b849b3b4e93c708130845c79dff42b34c2f
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 14 12:00:31 2011 +0000

    stage/glx: Code clean ups

 clutter/glx/clutter-stage-glx.c |   32 ++++++++++++++++----------------
 clutter/glx/clutter-stage-glx.h |   10 ++++++----
 2 files changed, 22 insertions(+), 20 deletions(-)

commit 48f2cb1f0903084531402c93935d9ca56d8454dd
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 14 11:59:49 2011 +0000

    stage/x11: Clean up ClutterStageX11 struct
    
    Use the right parent instance and class structure; the X11 stage
    implementation hasn't been a ClutterGroup in a long, long time.

 clutter/x11/clutter-stage-x11.h |   27 ++++++++++++++-------------
 1 file changed, 14 insertions(+), 13 deletions(-)

commit 24c311466ca9481044091f4bb89a60aa3d0eb8e0
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sun Feb 13 19:27:51 2011 +0000

    tests/multi-stage: Clean up child stages
    
    Do not leave them around: force a destroy() on any child stage left when
    the main loop quits.

 tests/interactive/test-multistage.c |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 169df02a565a20810825180d217e6aa52c4c1965
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sun Feb 13 19:26:29 2011 +0000

    stage: Call ClutterStageWindow::unrealize() on dispose
    
    Since we realize on creation we need to unrealize on destruction. This
    makes sure that the ClutterStageWindow implementation can tear down any
    resource set up during the realization phase.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2559

 clutter/clutter-stage.c |    1 +
 1 file changed, 1 insertion(+)

commit 7c356fd05bb05b939406b2664963fc45c8a21778
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Sun Feb 13 19:25:21 2011 +0000

    stage/x11: Add a debug note for unrealization
    
    We remove the ClutterStageWindow ↔ Window mapping in the ::unrealize
    implementation; let's just check that we get there using a simple
    debug note.

 clutter/x11/clutter-stage-x11.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit c2c51b2950634ecb166effef2337742c45e8ed2a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 11 16:53:28 2011 +0000

    build: Fix clutter-config.h defines
    
    The checks for non-x11/glx platforms were using the wrong configure.ac
    variables and values.

 configure.ac |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 2abf56fe929f1495b230ca33222c3f00a46ef3a8
Merge: b152a97 734a236
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 11 16:45:45 2011 +0000

    Merge remote-tracking branch 'nobled/wayland-fixes2'
    
    * nobled/wayland-fixes2:
      wayland: fix shm buffers
      wayland: set renderable type on dummy surface
      wayland: check for egl extensions explicitly
      wayland: fall back to shm buffers if drm fails
      wayland: add shm buffer code
      wayland: make buffer handling generic
      wayland: really fix buffer format selection
      wayland: fix pixel format
      wayland: clean up buffer creation code
      wayland: don't require the surfaceless extensions
      wayland: check for API-specific surfaceless extension
      wayland: fix GLES context creation
      wayland: use EGL_NO_SURFACE
      wayland: update to new api
      wayland: fix connecting to default socket
      fix ClutterContainer docs

commit b152a97ea57b3fdf6eeb88955ddf6afe95420618
Author: Chris Lord <chris@linux.intel.com>
Date:   Fri Feb 11 16:27:46 2011 +0000

    actor: Rename in_clone_paint parameter to avoid variable shadowing
    
    The 'in_clone_paint' parameter of the private function
    _clutter_actor_set_in_clone_paint() shadowed the private function
    in_clone_paint(). Rename this parameter to 'is_in_clone_paint' to remove
    a compiler warning.

 clutter/clutter-actor-private.h |    2 +-
 clutter/clutter-actor.c         |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit a297fb039409733afa7df6eaeb2d28f1af1a93a3
Author: Chris Lord <chris@linux.intel.com>
Date:   Fri Feb 11 15:18:08 2011 +0000

    offscreen: Fix partially off-stage actors being clipped in the fbo
    
    If an actor was partially off of the stage, it would be clipped because
    of the stage viewport. This produces problems if you use an offscreen
    effect that relies on the entire actor being rendered (e.g. shadows).
    
    Expand the viewport in this scenario so that the offscreen-rendering isn't
    clipped.
    
    This fixes http://bugzilla.clutter-project.org/show_bug.cgi?id=2550

 clutter/clutter-offscreen-effect.c |   43 +++++++++++++++++++++++++++++++++++-
 1 file changed, 42 insertions(+), 1 deletion(-)

commit 442d8c3f2e2246187468bcebcb4de287181785d4
Author: Chris Lord <chris@linux.intel.com>
Date:   Thu Feb 3 14:36:55 2011 +0000

    offscreen-effect: Use actor's opacity_override when redirecting painting
    
    Override the actor's paint opacity so that it will appear fully opaque in
    the offscreen surface. This avoids multiple multiplications of an actor's
    opacity.
    
    Fixes http://bugzilla.clutter-project.org/show_bug.cgi?id=2541

 clutter/clutter-offscreen-effect.c |    9 +++++++++
 1 file changed, 9 insertions(+)

commit b2ea7d1352cee7df3704c69b71ed43821363e1aa
Author: Chris Lord <chris@linux.intel.com>
Date:   Thu Feb 3 13:58:20 2011 +0000

    actor: Replace private opacity_parent with opacity_override
    
    Replace the opacity_parent with an opacity_override variable, to allow
    direct overriding of the paint opacity and simplify this mechanism
    somewhat.
    
    This also required a new private flag, in_clone_paint, to maintain the
    functionality of the public function clutter_actor_is_in_clone_paint()

 clutter/clutter-actor-private.h |    6 +++--
 clutter/clutter-actor.c         |   48 +++++++++++++++++++--------------------
 clutter/clutter-clone.c         |   14 ++++++++----
 3 files changed, 36 insertions(+), 32 deletions(-)

commit 75434b8a69164518acc4a5f766ae95ba1a3f376a
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 11 15:45:13 2011 +0000

    build: Modify maintainer compiler flags values
    
    We use the micro version for distinguishing released tarballs and Git
    builds; the maintainer compiler flags should be enabled for the latter,
    and not just for unstable cycles, since it makes sense to have extra
    warning flags even on stable cycles.
    
    We also want to allow people to turn on -Werror on demand, so let's add
    a third option to --enable-maintainer-flags.

 README       |    5 +++--
 configure.ac |   38 +++++++++++++++++++++++++++-----------
 2 files changed, 30 insertions(+), 13 deletions(-)

commit 7decee300e40b4e5fc9bba2ea4ff39d3c06610f0
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 11 15:44:03 2011 +0000

    docs: Clarify interface_age usage in configure.ac
    
    The clutter_interface_age value should be changed only on stable cycles;
    unstable cycles should reset the value to 0.

 configure.ac |    9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 5f9022b593a4a4b07a27a818744f79736b8c3ca5
Merge: 2ee7052 cf18836
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 11 15:03:22 2011 +0000

    Merge remote-tracking branch 'elliot/cookbook-animations-path'
    
    * elliot/cookbook-animations-path:
      docs: Add recipe for animating an actor on a curved path

commit 2ee7052d8974051e380b7bbfeecbfc0b18484db1
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Feb 2 15:17:50 2011 +0000

    cogl-framebuffer: Fix flushing the framebuffer on push
    
    When pushing a framebuffer it would previously push
    COGL_INVALID_HANDLE to the top of the framebuffer stack so that when
    it later calls cogl_set_framebuffer it will recognise that the
    framebuffer is different and replace the top with the new
    pointer. This isn't ideal because it breaks the code to flush the
    journal because _cogl_framebuffer_flush_journal is called with the
    value of the old pointer which is NULL. That function was checking for
    a NULL pointer so it wouldn't actually flush. It also would mean that
    if you pushed the same framebuffer twice we would end up dirtying
    state unnecessarily. To fix this cogl_push_framebuffer now pushes a
    reference to the current framebuffer instead.

 clutter/cogl/cogl/cogl-framebuffer.c |   15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit 3afa732bcece85dabbccee3df225886a0af1a4bf
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Feb 9 19:31:42 2011 +0000

    cogl-framebuffer: Remove all dependencies after a flush
    
    After a dependent framebuffer is added to a framebuffer it was never
    getting removed. Once the journal for a framebuffer is flushed we no
    longer depend on any framebuffers so the list should be cleared. This
    was causing leaks of offscreens and textures.

 clutter/cogl/cogl/cogl-framebuffer.c |    1 +
 1 file changed, 1 insertion(+)

commit ced045148fa2b5af892f590f4e0708bfce40fe95
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Feb 10 10:35:35 2011 +0000

    clutter.modules: Fix Wayland's location
    
    The Git repository URL for Wayland has been moved into the main fd.o
    structure.

 build/clutter.modules |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ce3f55292a343d4877558f817d3a02115bf2c453
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Feb 8 17:54:49 2011 +0000

    glx: Make sure to glFlush if blitting to frontbuffer.
    
    Unlike glXSwapBuffers, glXCopySubBuffer and glBlitFramebuffer don't
    issue an implicit glFlush() so we have to flush ourselves if we want the
    request to complete in finite amount of time since otherwise the driver
    can batch the command indefinitely.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2551

 clutter/glx/clutter-stage-glx.c |    7 +++++++
 1 file changed, 7 insertions(+)

commit 7b0491427c9162ce2dfa0d2ae6728a2f591ca458
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Feb 1 13:24:13 2011 +0000

    docs: clarify cogl_vertex_buffer_adds docs
    
    This adds a clarification that cogl_vertex_buffer_add can also be
    used to replace a previously added attribute with the same name.

 clutter/cogl/cogl/cogl-vertex-buffer.h |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d0ca228776a5d057368cea2c743ea17b6c1a0c65
Author: Robert Bragg <robert@linux.intel.com>
Date:   Tue Feb 1 13:19:49 2011 +0000

    matrix: note that _matrix_multiply can multiply in-place
    
    This adds a note to clarify that cogl_matrix_multiply allows you to
    multiply the @a matrix in-place, so @a can equal @result but @b can't
    equal @result.

 clutter/cogl/cogl/cogl-matrix.h |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 9adbb2f20ce4e9d6e51380079fec6d635d538d08
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Feb 9 16:16:57 2011 +0000

    Fix compilation of the EGL backend
    
    Sorry for breaking it.

 clutter/egl/clutter-stage-egl.c |  146 +++++++++++++++++++--------------------
 1 file changed, 73 insertions(+), 73 deletions(-)

commit bb56a26daa817c98d75a81c5656fa087d21e7762
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Feb 9 16:20:40 2011 +0000

    keymap/x11: Remove unused variables
    
    Silence compiler warnings.

 clutter/x11/clutter-keymap-x11.c |    3 ---
 1 file changed, 3 deletions(-)

commit 645ca5620815d36c4a49546fd61928bafc3d15dd
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Feb 9 15:24:43 2011 +0000

    cogl: Set the layer matrix on the right layer instead of a random one
    
    When uploading the layer matrix to GL it wasn't first calling
    glActiveTextureMatrix to set the right texture unit for the
    layer. This would end up setting the texture matrix on whatever layer
    happened to be previously active. This happened to work for
    test-cogl-multitexture presumably because it was coincidentally
    setting the layer matrix on the last used layer.

 clutter/cogl/cogl/cogl-pipeline-vertend-fixed.c |    2 ++
 clutter/cogl/cogl/cogl-pipeline-vertend-glsl.c  |    2 ++
 2 files changed, 4 insertions(+)

commit 98a33e03d32efc8b551b80a1a5af065ea9e1f7a8
Author: Neil Roberts <neil@linux.intel.com>
Date:   Wed Feb 9 15:12:13 2011 +0000

    Add a conformance test for cogl_pipeline_set_layer_matrix
    
    This adds a conformance test which paints using a pipeline that has
    two layers containing textures. Each layer has a different user
    matrix. When the two layers are combined with the right matrices then
    all of the colors end up white. The test then verifies this by reading
    back the pixels.

 tests/conform/Makefile.am                      |    1 +
 tests/conform/test-cogl-pipeline-user-matrix.c |  144 ++++++++++++++++++++++++
 tests/conform/test-conform-main.c              |    1 +
 3 files changed, 146 insertions(+)

commit 95f6359f647a162f361b237d9c38a597c49987a7
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Feb 9 14:53:20 2011 +0000

    Intern clutter_get_actor_by_gid() implementation
    
    As the prelude to deprecation of the function in 1.8, let's move the
    implementation to an internal function, and use that instead of the
    public facing one.

 clutter/clutter-main.c    |   23 ++++++++++++-----------
 clutter/clutter-private.h |    3 ++-
 2 files changed, 14 insertions(+), 12 deletions(-)

commit 03358aca6c27f893330dd6678a22bb7b33070c77
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Feb 9 13:05:12 2011 +0000

    test-actors: Clear the state on destroy
    
    The venerable test-actors used the default stage, which meant that
    closing the window just stopped the main loop but left the scene intact.
    This does not happen with a normal stage created through
    clutter_stage_new().
    
    The change happened in 6ed6b2a54b5c8f44496399057ad5e58771bfc620, in an
    unhelpfully named commit that was just supposed to switch to static
    colors. My bad.
    
    Anyway, the change led to some assertion failures when closing the stage
    in the middle of an animation.
    
    The correct thing to do when using an actor from another object (a
    Timeline ::new-frame callback in this case) without owning the instance
    is to connect to the ::destroy signal and clean up the pointer to avoid
    calling an invalid actor.

 tests/interactive/test-actors.c |   55 ++++++++++++++++++++++++++++++---------
 1 file changed, 43 insertions(+), 12 deletions(-)

commit 719e3b7e20d432bb43b0e1fd3b2d1e7035fa4863
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Feb 9 12:55:25 2011 +0000

    Clean up ClutterMainContext and clutter-private.h
    
    Do a better job at documenting the main context structure fields; remove
    unused members; clean up the declarations.

 clutter/clutter-private.h |   86 +++++++++++++++++++++++++--------------------
 1 file changed, 48 insertions(+), 38 deletions(-)

commit ef4688fd0eb1bd915c6f924bbe03399855ae85ef
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Feb 9 12:38:10 2011 +0000

    Avoid direct access to the main context events queue
    
    The GQueue that stores the global events queue is handled all over the
    place:
    
      • the structure is created in _clutter_backend_init_events();
      • the queue is handled in clutter-event.c, clutter-stage.c and
        clutter-backend.c;
      • ClutterStage::dispose cleans up the events associated with
        the stage being destroyed;
      • the queue is destroyed in ClutterBackend::dispose.
    
    Since we need to have access to it in different places we cannot put it
    inside ClutterBackendPrivate, hence it should stay in ClutterMainContext;
    but we should still manage it from just one place - preferably by the
    ClutterEvent API only.

 clutter/clutter-backend.c |   16 +++-------------
 clutter/clutter-event.c   |    8 +++++---
 clutter/clutter-main.c    |   44 ++++++++++++++++++++++++++++++++++++++++++++
 clutter/clutter-private.h |    4 ++++
 clutter/clutter-stage.c   |   23 ++++-------------------
 5 files changed, 60 insertions(+), 35 deletions(-)

commit 56d133f9080281ad9dbdda2af0f57f3fe3a0775c
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Feb 9 12:20:56 2011 +0000

    backend: Move event translators to the base class
    
    In the future, we want event translators to be the way to handle events
    in backends. For this reason, they should be a part of the base abstract
    ClutterBackend class, and not an X11-only concept.

 clutter/clutter-backend-private.h |    7 ++++
 clutter/clutter-backend.c         |   65 +++++++++++++++++++++++++++++++++++++
 clutter/egl/clutter-backend-egl.c |    2 +-
 clutter/glx/clutter-backend-glx.c |    2 +-
 clutter/x11/clutter-backend-x11.c |   62 ++++++++++-------------------------
 clutter/x11/clutter-backend-x11.h |   11 -------
 clutter/x11/clutter-keymap-x11.c  |    7 +---
 clutter/x11/clutter-stage-x11.c   |    5 +--
 8 files changed, 96 insertions(+), 65 deletions(-)

commit e9fa986ccc0328712e48342c6ba20cffb767f9b7
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 8 18:03:43 2011 +0000

    docs: Update the HACKING.backends documentation

 doc/HACKING.backends |   62 ++++++++++++++++++++++++++++++++++++++------------
 1 file changed, 47 insertions(+), 15 deletions(-)

commit 224280be22aafe1df9b57fb5d200627552f37c57
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 4 15:09:41 2011 +0000

    backend: Invoke ClutterStageWindow::redraw by default
    
    Instead of asking all backends to do that for us, we can call
    ClutterStageWindow::redraw ourselves by default.
    
    This changeset fixes all backends to actually do the right thing, and
    move the stage implementation redraw inside the ClutterStageWindow
    implementation itself.

 clutter/clutter-backend.c             |   22 +++-
 clutter/egl/clutter-backend-egl.c     |   16 ---
 clutter/egl/clutter-stage-egl.c       |   21 ++--
 clutter/egl/clutter-stage-egl.h       |    4 +-
 clutter/glx/clutter-backend-glx.c     |   23 ----
 clutter/glx/clutter-stage-glx.c       |  186 +++++++++++++++++----------------
 clutter/glx/clutter-stage-glx.h       |    3 -
 clutter/osx/clutter-backend-osx.c     |   25 -----
 clutter/osx/clutter-stage-osx.c       |   14 +++
 clutter/win32/clutter-backend-win32.c |   27 -----
 clutter/win32/clutter-stage-win32.c   |   17 +++
 11 files changed, 158 insertions(+), 200 deletions(-)

commit 734a236a97a06d823ed9387640c390a5081c71ff
Author: nobled <nobled@dreamwidth.org>
Date:   Tue Feb 8 15:55:18 2011 +0000

    wayland: fix shm buffers
    
    We need to *write* to the shared memory, not read from it.
    cogl_texture_from_data() is read-only, it doesn't keep
    the data in sync with the texture.
    
    Instead, we have to call cogl_texture_get_data() ourselves
    to sync manually.

 clutter/wayland/clutter-stage-wayland.c |   44 ++++++++++++++++++++++---------
 clutter/wayland/clutter-stage-wayland.h |    4 ++-
 2 files changed, 35 insertions(+), 13 deletions(-)

commit c1a27d481ba7579a59b720a6b9b7a4be46294110
Author: nobled <nobled@dreamwidth.org>
Date:   Tue Feb 8 15:53:08 2011 +0000

    wayland: set renderable type on dummy surface
    
    Make sure it's compatible with the API that's in use.

 clutter/wayland/clutter-backend-wayland.c |   17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit 20b1350614cab53c2ded828cdffc96db3c083ddd
Author: nobled <nobled@dreamwidth.org>
Date:   Tue Feb 8 15:45:39 2011 +0000

    wayland: check for egl extensions explicitly
    
    eglGetProcAddress() returns non-null function pointers
    whether or not they're actually supported by the driver,
    since it can be used before any driver gets loaded. So
    we have to check if the extensions are advertised first,
    which requires having an initialized display, so we split
    the display creation code into its own function.
    
    The exception to extension-checking is EGL_MESA_drm_display,
    since by definition it's needed before any display is even
    created.

 clutter/wayland/clutter-backend-wayland.c |   89 +++++++++++++++++++++--------
 1 file changed, 65 insertions(+), 24 deletions(-)

commit 7da930fb75b7a653b2d8360267b0060c6c996e67
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Fri Feb 4 15:08:48 2011 +0000

    stage-window: Add ::redraw virtual function
    
    How to redraw a ClutterStage's implementation should be part of the
    ClutterStageWindow interface.

 clutter/clutter-stage-window.c |   12 ++++++++++++
 clutter/clutter-stage-window.h |    4 ++++
 2 files changed, 16 insertions(+)

commit bbf73f58b6e9e6f3554391ff1f2d6fca0682ebeb
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 8 15:31:20 2011 +0000

    Skip some x11-specific calls when generating introspection
    
    Some types are just not handled currently.

 clutter/x11/clutter-backend-x11.c |    8 ++++----
 clutter/x11/clutter-event-x11.c   |    2 +-
 clutter/x11/clutter-stage-x11.c   |    4 ++--
 3 files changed, 7 insertions(+), 7 deletions(-)

commit 2f8d22ef89e74aa20b199ce540cbe88d588249a7
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 8 15:30:48 2011 +0000

    Unify the vfunc parameters names with their callers
    
    Otherwise g-ir-scanner will get fairly angry.

 clutter/clutter-actor.h     |    4 ++--
 clutter/clutter-container.h |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit cf18836ca0e9db22e745aaba59f647cba672962c
Author: Elliot Smith <elliot.smith@intel.com>
Date:   Tue Feb 8 14:37:59 2011 +0000

    docs: Add recipe for animating an actor on a curved path
    
    Show how to animate an actor using a ClutterPathConstraint.
    
    This demonstrates how to get effects similar to
    ClutterPathBehaviour with the modern animation APIs.
    
    Includes 3 examples:
    
    1) Simple ClutterPathConstraint used with implicit animations
    2) ClutterPathConstraint used to simulate circular animation,
    using ClutterAnimator
    3) Creating simple curved path animations with non-linear
    easing

 doc/cookbook/Makefile.am                       |    1 +
 doc/cookbook/animations.xml                    |  271 ++++++++++++++++++++++++
 doc/cookbook/examples/Makefile.am              |    6 +
 doc/cookbook/examples/animations-path-circle.c |  128 +++++++++++
 doc/cookbook/examples/animations-path-easing.c |  104 +++++++++
 doc/cookbook/examples/animations-path.c        |   61 ++++++
 doc/cookbook/videos/animations-path.ogv        |  Bin 0 -> 39639 bytes
 7 files changed, 571 insertions(+)

commit 9090070a98d7ab8201d29807b18ffad4db89a131
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 8 12:08:18 2011 +0000

    x11: Refresh key mapping when notified by X11
    
    Use both the MappingNotify event and the XKB XkbMapNotify event, if
    we're compiled with XKB support.
    
    This change is also useful for making ClutterKeymapX11 an event
    translator and let it deal with XKB events internally like we do for
    stage and input events.
    
    Based on a patch by: Damien Lespiau <damien.lespiau@intel.com>
    
    Signed-off by: Emmanuele Bassi <ebassi@linux.intel.com>
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2525

 clutter/x11/clutter-backend-x11.h |    2 +-
 clutter/x11/clutter-keymap-x11.c  |  156 ++++++++++++++++++++++++-------------
 clutter/x11/clutter-stage-x11.c   |    7 ++
 3 files changed, 111 insertions(+), 54 deletions(-)

commit 4956152a1157e181b9e8b8179420628aa77a73fb
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 7 15:59:42 2011 +0000

    Post-release version bump to 1.6.3

 configure.ac       |    4 ++--
 po/clutter-1.0.pot |   56 ++++++++++++++++++++++++++--------------------------
 po/de.po           |   54 +++++++++++++++++++++++++-------------------------
 po/fr.po           |   54 +++++++++++++++++++++++++-------------------------
 po/id.po           |   54 +++++++++++++++++++++++++-------------------------
 po/it.po           |   54 +++++++++++++++++++++++++-------------------------
 po/pl.po           |   54 +++++++++++++++++++++++++-------------------------
 po/zh_CN.po        |   54 +++++++++++++++++++++++++-------------------------
 8 files changed, 192 insertions(+), 192 deletions(-)

commit bb5608532eb49d51b2f7d92260403806da5c0d80
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 7 15:42:45 2011 +0000

    Release Clutter 1.6.2

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3e857802a8a94718f483f14c0567c0a6dbe2338e
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 7 15:42:23 2011 +0000

    Update NEWS

 NEWS |   29 +++++++++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit 615c200707411bad14d6864e679ec8c279ec276b
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Feb 7 15:40:09 2011 +0000

    build: Fix the Cally pkg-config file
    
    Do not use ${winsys}: use ${soname_infix} instead.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2549

 clutter/cally/cally.pc.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9fa85ee9bfa1848f5058d3c9e42aecb2e5865712
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Feb 3 16:25:42 2011 +0000

    osx: Add more checks to the redraw function
    
    The redraw function might be called during destruction phase, when the
    Stage state has not entirely been tore down. We need to be slightly more
    resilient to that scenario.

 clutter/osx/clutter-backend-osx.c |   19 +++++++++++++++----
 1 file changed, 15 insertions(+), 4 deletions(-)

commit d846f5fe6a63ef95d1ce12d573b36521f8defd90
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Feb 3 11:30:10 2011 +0000

    Add some more sanity checks to clutter_do_event()
    
    Silently ignore events on stages during destruction; but print out a
    warning if clutter_do_event() is being called with a stage-less event.

 clutter/clutter-main.c |   18 ++++++++++++++++--
 1 file changed, 16 insertions(+), 2 deletions(-)

commit 63e88d9840743bf131bc6861112c94c5d8905fbc
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Feb 3 11:26:09 2011 +0000

    stage: Unconditionally create the devices hash table

 clutter/clutter-stage.c |   14 +++-----------
 1 file changed, 3 insertions(+), 11 deletions(-)

commit f133d84c026a5c7737c348a85c70f49ab1adb90d
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Thu Feb 3 11:25:28 2011 +0000

    stage: Do not update when destroying a stage
    
    During the stage destruction we should just skip event processing, since
    we cannot guarantee that the stage is actually valid.

 clutter/clutter-stage.c |    3 +++
 1 file changed, 3 insertions(+)

commit 901ed3256863118b28bd843e56449b9ee51160da
Author: Viatcheslav Gachkaylo <vgachkaylo@crystalnix.com>
Date:   Thu Feb 3 14:51:20 2011 +0600

    Fixed bugs with mouse events.
    
    Enter/leave events are now being received. Mouse move events
    now work properly.
    
    Signed-off-by: Emmanuele Bassi <ebassi@linux.intel.com>
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2545

 clutter/Makefile.am                      |    2 ++
 clutter/osx/clutter-backend-osx.c        |    3 ++-
 clutter/osx/clutter-backend-osx.h        |    7 +++++--
 clutter/osx/clutter-device-manager-osx.h |    2 ++
 clutter/osx/clutter-event-loop-osx.c     |    2 +-
 clutter/osx/clutter-event-osx.c          |   10 ++++++----
 clutter/osx/clutter-stage-osx.c          |    6 ++++++
 7 files changed, 24 insertions(+), 8 deletions(-)

commit cef380040d02a597eae33557a7597cc6029d4291
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Feb 2 14:43:38 2011 +0000

    osx: Use _clutter_event_push()
    
    Do not operate directly on the event queue, but use the wrapper call
    that all backends share.

 clutter/osx/clutter-event-osx.c |    9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

commit af22290f0d8822105c11f038723bbb3e4d0c3471
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Wed Feb 2 14:41:57 2011 +0000

    osx: Re-add the event time
    
    Some overzealous diffing led to a missing call to setting the time of a
    ClutterEvent from the corresponding NSEvent.

 clutter/osx/clutter-event-osx.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 55e26e23df68ff8f18bc75eb6b3512edbe852456
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Feb 1 18:43:27 2011 +0000

    cogl-vertex-buffer: Use a ref count on the pipeline private data
    
    The pipeline private data is accessed both from the private data set
    on a CoglPipeline and the destroy notify function of a weak material
    that the vertex buffer creates when it needs to override the wrap
    mode. However when a CoglPipeline is destroyed, the CoglObject code
    first removes all of the private data set on the object and then the
    CoglPipeline code gets invoked to destroy all of the weak children. At
    this point the vertex buffer's weak override destroy notify function
    will get invoked and try to use the private data which has already
    been freed causing a crash.
    
    This patch instead adds a reference count to the pipeline private data
    stuct so that we can avoid freeing it until both the private data on
    the pipeline has been destroyed and all of the weak materials are
    destroyed.
    
    http://bugzilla.clutter-project.org/show_bug.cgi?id=2544

 clutter/cogl/cogl/cogl-vertex-buffer.c |   33 ++++++++++++++++++++++++++------
 1 file changed, 27 insertions(+), 6 deletions(-)

commit 5740a5a38a4d0a0b22e62ea0035b8e360c7a6cc0
Author: Neil Roberts <neil@linux.intel.com>
Date:   Tue Feb 1 17:38:58 2011 +0000

    cogl-pipeline: Fix comparing the color in set_layer_combine_constant
    
    In cogl_pipeline_set_layer_combine_constant it was comparing whether
    the new color is the same as the old color using a memcmp on the
    constant_color parameter. However the combine constant is stored in
    the layer data as an array of four floats but the passed in color is a
    CoglColor (which is currently an array of four guint8s). This was
    causing valgrind errors and presumably also the check for setting the
    same color twice would always fail.
    
    This patch makes it do the conversion to a float array upfront before
    the comparison.

 clutter/cogl/cogl/cogl-pipeline.c |   21 +++++++++++----------
 1 file changed, 11 insertions(+), 10 deletions(-)

commit a573ad05c93ee2002882569d09def280ac9f9367
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 1 14:44:22 2011 +0000

    event: The device setter work on sub-types
    
    Instead of just setting the input device pointer in the private event
    data, it should also set the field in the event sub-types, so that
    direct access to the structures still works.

 clutter/clutter-event.c |    2 --
 1 file changed, 2 deletions(-)

commit 8fc462269db02dc076067d9b5262e6a5492215a9
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 1 14:38:08 2011 +0000

    build: Pass --enable-cookbook when distchecking
    
    We should force building the cookbook when releasing a tarball of
    Clutter, so that users of packaged tarballs can actually build the
    cookbook themselves.

 Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 428f64212c2c510f7c4484fda189b8fdb4249bc0
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 1 14:33:29 2011 +0000

    build: Fixes to pass distcheck
    
    Try to make the cookbook pass the distcheck phase, so that we can run
    distcheck with --enable-docs, and make sure that a tarballed clutter
    release can actually build the cookbook.

 doc/cookbook/Makefile.am          |  112 +++++++++++++++++++------------------
 doc/cookbook/examples/Makefile.am |   70 +++++++++++------------
 2 files changed, 93 insertions(+), 89 deletions(-)

commit 6f1e5010d90ed74dacfaaf8807ffa6704a8d5329
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 1 14:32:41 2011 +0000

    docs: Switch a 'Since' annotation in CallyActor
    
    Since doesn't like it when it's not the last annotation.

 clutter/cally/cally-actor.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2ded18933e767afa6859d35de3de15850743d798
Author: Neil Roberts <neil@linux.intel.com>
Date:   Mon Jan 31 18:53:51 2011 +0000

    cogl-matrix: Get rid of the *_packed variants
    
    cogl_matrix_project_points and cogl_matrix_transform_points had an
    optimization for the common case where the stride parameters exactly
    match the size of the corresponding structures. The code for both when
    generated by gcc with -O2 on x86-64 use two registers to hold the
    addresses of the input and output arrays. In the strided version these
    pointers are incremented by adding the value of a register and in the
    packed version they are incremented by adding an immediate value. I
    think the difference in cost here would be negligible and it may even
    be faster to add a register.
    
    Also GCC appears to retain the loop counter in a register for the
    strided version but in the packed version it can optimize it out and
    directly use the input pointer as the counter. I think it would be
    possible to reorder the code a bit to explicitly use the input pointer
    as the counter if this were a problem.
    
    Getting rid of the packed versions tidies up the code a bit and it
    could potentially be faster if the code differences are small and we
    get to avoid an extra conditional in cogl_matrix_transform_points.

 clutter/cogl/cogl/cogl-matrix.c |  246 ++++++++-------------------------------
 1 file changed, 50 insertions(+), 196 deletions(-)

commit c4d4a5469af9ac8e426c5321a4407409cddf93c9
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Tue Feb 1 12:45:52 2011 +0000

    build: Dist cb-button.h in the cookbook examples
    
    The header is missing, so we have a build failure if you try to build
    Clutter's cookbook from the tarball.

 doc/cookbook/examples/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e855bc45a266ab72ac1545fadf506d0ae0128c50
Author: nobled <nobled@dreamwidth.org>
Date:   Mon Jan 31 05:05:28 2011 +0000

    wayland: fall back to shm buffers if drm fails

 clutter/wayland/clutter-backend-wayland.c |   74 ++++++++++++++++++-----------
 clutter/wayland/clutter-backend-wayland.h |    1 +
 clutter/wayland/clutter-stage-wayland.c   |    8 +++-
 3 files changed, 54 insertions(+), 29 deletions(-)

commit d84f31ef3a9ad56463b34af74a4a5f68ef0621a4
Author: nobled <nobled@dreamwidth.org>
Date:   Mon Jan 31 04:22:50 2011 +0000

    wayland: add shm buffer code
    
    It's not enabled to do anything yet.

 clutter/wayland/clutter-backend-wayland.c |    4 ++
 clutter/wayland/clutter-backend-wayland.h |    1 +
 clutter/wayland/clutter-stage-wayland.c   |   62 +++++++++++++++++++++++++++++
 clutter/wayland/clutter-stage-wayland.h   |    8 ++++
 4 files changed, 75 insertions(+)

commit adeb6119346f46e015cb54b856b2d73543353496
Author: Emmanuele Bassi <ebassi@linux.intel.com>
Date:   Mon Jan 31 15:04:48 2011 +0000

    Post-release version bump to 1.6.1

 configure.ac       |    4 +--
 po/clutter-1.0.pot |   76 ++++++++++++++++++++++++++--------------------------
 po/de.po           |   74 +++++++++++++++++++++++++-------------------------
 po/fr.po           |   74 +++++++++++++++++++++++++-------------------------
 po/id.po           |   74 +++++++++++++++++++++++++-------------------------
 po/it.po           |   74 +++++++++++++++++++++++++-------------------------
 po/pl.po           |   74 +++++++++++++++++++++++++-------------------------
 po/zh_CN.po        |   74 +++++++++++++++++++++++++-------------------------
 8 files changed, 262 insertions(+), 262 deletions(-)

commit d4ccef786b4cf5b1885f51c2aa2fca43095f1a75
Author: nobled <nobled@dreamwidth.org>
Date:   Mon Jan 31 03:07:37 2011 +0000

    wayland: make buffer handling generic
    
    Separate the code specific to DRM buffers into
    its own functions/subclass to prepare for adding SHM buffers.

 clutter/wayland/clutter-stage-wayland.c |   56 ++++++++++++++++++++++---------
 clutter/wayland/clutter-stage-wayland.h |   12 +++++--
 2 files changed, 50 insertions(+), 18 deletions(-)

commit 15cd4705dbd51025e452810a873e2010bee494b9
Author: nobled <nobled@dreamwidth.org>
Date:   Mon Jan 31 02:45:01 2011 +0000

    wayland: really fix buffer format selection
    
    Wayland visuals refer to a pixel's bytes in order from
    most significant to least significant, while the
    one-byte-per-component Cogl formats refer to the order
    of increasing memory addresses, so converting between
    the two depends on the system's endianness.

 clutter/wayland/clutter-stage-wayland.c |   31 ++++++++++++++++++++++++++++---
 1 file changed, 28 insertions(+), 3 deletions(-)

commit 2ff5cf5aa0178e921203a220e64645ae2f705de2
Author: nobled <nobled@dreamwidth.org>
Date:   Mon Jan 31 02:27:23 2011 +0000

    wayland: fix pixel format
    
    This matches to the Wayland premultiplied_argb_visual
    the rest of the code is using.
    
    The format needs to differ based on endianness, though...

 clutter/wayland/clutter-stage-wayland.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f6a6a44fe7e7561558a375b780ba17b0dfa1e842
Author: nobled <nobled@dreamwidth.org>
Date:   Mon Jan 31 02:14:17 2011 +0000

    wayland: clean up buffer creation code
    
    The height was being set from the ClutterGeometry in some parts
    and from the stage in others. And since both callers of this
    function pass &stage_wayland->allocation as the geometry anyway,
    the stage argument isn't really even needed.

 clutter/wayland/clutter-stage-wayland.c |   11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit 7e4a8fd907d728d4daa7bd0c124a22e86659fc7b
Author: nobled <nobled@dreamwidth.org>
Date:   Sun Jan 30 22:43:50 2011 +0000

    wayland: don't require the surfaceless extensions
    
    Just create a one-pixel dummy surface for eglMakeCurrent().

 clutter/wayland/clutter-backend-wayland.c |   62 ++++++++++++++++++++++-------
 clutter/wayland/clutter-backend-wayland.h |    1 +
 2 files changed, 49 insertions(+), 14 deletions(-)

commit ffd7197dd6679e539b2ede0bdd401f57461113d5
Author: nobled <nobled@dreamwidth.org>
Date:   Sun Jan 30 22:22:10 2011 +0000

    wayland: check for API-specific surfaceless extension
    
    It's a whole different extension name for each GL api.

 clutter/wayland/clutter-backend-wayland.c |   12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 542717e45b7279e220e033069a6712693eafa49d
Author: nobled <nobled@dreamwidth.org>
Date:   Sun Jan 30 22:18:55 2011 +0000

    wayland: fix GLES context creation
    
    It was unconditionally binding the desktop-GL API and
    requesting the wrong API version in the case of GLES1.

 clutter/wayland/clutter-backend-wayland.c |   19 ++++++++++++++-----
 1 file changed, 14 insertions(+), 5 deletions(-)

commit 9dcb9453ede3ff435ddaf492123a25ad128630e3
Author: nobled <nobled@dreamwidth.org>
Date:   Sun Jan 30 22:06:23 2011 +0000

    wayland: use EGL_NO_SURFACE

 clutter/wayland/clutter-backend-wayland.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0886452dc241d18a1c6d4d787b06e61ea75a2b57
Author: nobled <nobled@dreamwidth.org>
Date:   Fri Jan 28 17:29:48 2011 +0000

    wayland: update to new api
    
    Adapt to changes from this Wayland commit:
    "Update surface.attach and change surface.map to surface.map_toplevel"
    (82da52b15b49da3f3c7b4bd85d334ddfaa375ebc)

 clutter/wayland/clutter-backend-wayland.c |    4 +---
 clutter/wayland/clutter-stage-wayland.c   |   10 ++++------
 2 files changed, 5 insertions(+), 9 deletions(-)

commit 2a45ea6839eedc6f914d6192b02d6c0a78bfb212
Author: nobled <nobled@dreamwidth.org>
Date:   Fri Jan 28 16:50:06 2011 +0000

    wayland: fix connecting to default socket
    
    Fixes a mistake in commit "wayland: Update to current api"
    (e7f62bc936995c5d998f7c8dc4b2b1b7254ea97d)

 clutter/wayland/clutter-backend-wayland.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4197bada4208f08e7a4a3fc684f858aa8ea53b09
Author: nobled <nobled@dreamwidth.org>
Date:   Fri Jan 28 16:49:07 2011 +0000

    fix ClutterContainer docs

 clutter/clutter-container.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)
